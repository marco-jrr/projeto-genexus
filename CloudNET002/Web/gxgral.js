/*mustache.js - Logic-less {{mustache}} templates with JavaScript
 http://github.com/janl/mustache.js
 modernizr 3.6.0 (Custom Build) | MIT *
 https://modernizr.com/download/?-csstransitions-flexbox-history-domprefixes-setclasses-testallprops-testprop ! modernizr v3.6.0
 Build https://modernizr.com/download?-csstransitions-flexbox-history-domprefixes-setclasses-testallprops-testprop-dontmin

 Copyright (c)
  Faruk Ates
  Paul Irish
  Alex Sexton
  Ryan Seddon
  Patrick Kettner
  Stu Cox
  Richard Herrera

 MIT License
 {
  "name": "History API",
  "property": "history",
  "caniuse": "history",
  "tags": ["history"],
  "authors": ["Hay Kranen", "Alexander Farkas"],
  "notes": [{
    "name": "W3C Spec",
    "href": "https://www.w3.org/TR/html51/browsers.html#the-history-interface"
  }, {
    "name": "MDN documentation",
    "href": "https://developer.mozilla.org/en-US/docs/Web/API/window.history"
  }],
  "polyfills": ["historyjs", "html5historyapi"]
}
! {
  "name": "Flexbox",
  "property": "flexbox",
  "caniuse": "flexbox",
  "tags": ["css"],
  "notes": [{
    "name": "The _new_ flexbox",
    "href": "http://dev.w3.org/csswg/css3-flexbox"
  }],
  "warnings": [
    "A `true` result for this detect does not imply that the `flex-wrap` property is supported; see the `flexwrap` detect."
  ]
}
! {
  "name": "CSS Transitions",
  "property": "csstransitions",
  "caniuse": "css-transitions",
  "tags": ["css"]
}
! jQuery UI - v1.13.2 - 2022-09-06
 http://jqueryui.com
 Includes: position.js
 Copyright jQuery Foundation and other contributors; Licensed MIT  jQuery UI Position 1.13.2
 http://jqueryui.com

 Copyright jQuery Foundation and other contributors
 Released under the MIT license.
 http://jquery.org/license

 http://api.jqueryui.com/position/
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(l){return l.raw=l};$jscomp.createTemplateTagFirstArgWithRaw=function(l,c){l.raw=c;return l};$jscomp.arrayIteratorImpl=function(l){var c=0;return function(){return c<l.length?{done:!1,value:l[c++]}:{done:!0}}};$jscomp.arrayIterator=function(l){return{next:$jscomp.arrayIteratorImpl(l)}};$jscomp.makeIterator=function(l){var c="undefined"!=typeof Symbol&&Symbol.iterator&&l[Symbol.iterator];return c?c.call(l):$jscomp.arrayIterator(l)};
$jscomp.arrayFromIterator=function(l){for(var c,d=[];!(c=l.next()).done;)d.push(c.value);return d};$jscomp.arrayFromIterable=function(l){return l instanceof Array?l:$jscomp.arrayFromIterator($jscomp.makeIterator(l))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(l,c,d){if(l==Array.prototype||l==Object.prototype)return l;l[c]=d.value;return l};$jscomp.getGlobal=function(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var c=0;c<l.length;++c){var d=l[c];if(d&&d.Math==Math)return d}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(l,c){var d=$jscomp.propertyToPolyfillSymbol[c];if(null==d)return l[c];d=l[d];return void 0!==d?d:l[c]};
$jscomp.polyfill=function(l,c,d,g){c&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(l,c,d,g):$jscomp.polyfillUnisolated(l,c,d,g))};$jscomp.polyfillUnisolated=function(l,c,d,g){d=$jscomp.global;l=l.split(".");for(g=0;g<l.length-1;g++){var a=l[g];if(!(a in d))return;d=d[a]}l=l[l.length-1];g=d[l];c=c(g);c!=g&&null!=c&&$jscomp.defineProperty(d,l,{configurable:!0,writable:!0,value:c})};
$jscomp.polyfillIsolated=function(l,c,d,g){var a=l.split(".");l=1===a.length;g=a[0];g=!l&&g in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var b=0;b<a.length-1;b++){var f=a[b];if(!(f in g))return;g=g[f]}a=a[a.length-1];d=$jscomp.IS_SYMBOL_NATIVE&&"es6"===d?g[a]:null;c=c(d);null!=c&&(l?$jscomp.defineProperty($jscomp.polyfills,a,{configurable:!0,writable:!0,value:c}):c!==d&&($jscomp.propertyToPolyfillSymbol[a]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(a):$jscomp.POLYFILL_PREFIX+a,a=
$jscomp.propertyToPolyfillSymbol[a],$jscomp.defineProperty(g,a,{configurable:!0,writable:!0,value:c})))};$jscomp.polyfill("Array.from",function(l){return l?l:function(c,d,g){d=null!=d?d:function(k){return k};var a=[],b="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];if("function"==typeof b){c=b.call(c);for(var f=0;!(b=c.next()).done;)a.push(d.call(g,b.value,f++))}else for(b=c.length,f=0;f<b;f++)a.push(d.call(g,c[f],f));return a}},"es6","es3");
$jscomp.checkStringArgs=function(l,c,d){if(null==l)throw new TypeError("The 'this' value for String.prototype."+d+" must not be null or undefined");if(c instanceof RegExp)throw new TypeError("First argument to String.prototype."+d+" must not be a regular expression");return l+""};
$jscomp.polyfill("String.prototype.startsWith",function(l){return l?l:function(c,d){var g=$jscomp.checkStringArgs(this,c,"startsWith");c+="";var a=g.length,b=c.length;d=Math.max(0,Math.min(d|0,g.length));for(var f=0;f<b&&d<a;)if(g[d++]!=c[f++])return!1;return f>=b}},"es6","es3");$jscomp.findInternal=function(l,c,d){l instanceof String&&(l=String(l));for(var g=l.length,a=0;a<g;a++){var b=l[a];if(c.call(d,b,a,l))return{i:a,v:b}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(l){return l?l:function(c,d){return $jscomp.findInternal(this,c,d).v}},"es6","es3");$jscomp.polyfill("String.prototype.endsWith",function(l){return l?l:function(c,d){var g=$jscomp.checkStringArgs(this,c,"endsWith");c+="";void 0===d&&(d=g.length);d=Math.max(0,Math.min(d|0,g.length));for(var a=c.length;0<a&&0<d;)if(g[--d]!=c[--a])return!1;return 0>=a}},"es6","es3");$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(l){if(l)return l;var c=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};c.prototype.toString=function(){return this.$jscomp$symbol$id_};var d=0,g=function(a){if(this instanceof g)throw new TypeError("Symbol is not a constructor");return new c("jscomp_symbol_"+(a||"")+"_"+d++,a)};return g},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(l){if(l)return l;l=Symbol("Symbol.iterator");for(var c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),d=0;d<c.length;d++){var g=$jscomp.global[c[d]];"function"===typeof g&&"function"!=typeof g.prototype[l]&&$jscomp.defineProperty(g.prototype,l,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return l},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(l){l={next:l};l[Symbol.iterator]=function(){return this};return l};$jscomp.iteratorFromArray=function(l,c){l instanceof String&&(l+="");var d=0,g={next:function(){if(d<l.length){var a=d++;return{value:c(a,l[a]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};
$jscomp.polyfill("Array.prototype.values",function(l){return l?l:function(){return $jscomp.iteratorFromArray(this,function(c,d){return d})}},"es8","es3");$jscomp.polyfill("Object.is",function(l){return l?l:function(c,d){return c===d?0!==c||1/c===1/d:c!==c&&d!==d}},"es6","es3");
$jscomp.polyfill("Array.prototype.includes",function(l){return l?l:function(c,d){var g=this;g instanceof String&&(g=String(g));var a=g.length;d=d||0;for(0>d&&(d=Math.max(d+a,0));d<a;d++){var b=g[d];if(b===c||Object.is(b,c))return!0}return!1}},"es7","es3");$jscomp.polyfill("String.prototype.includes",function(l){return l?l:function(c,d){return-1!==$jscomp.checkStringArgs(this,c,"includes").indexOf(c,d||0)}},"es6","es3");$jscomp.owns=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)};
$jscomp.polyfill("Object.entries",function(l){return l?l:function(c){var d=[],g;for(g in c)$jscomp.owns(c,g)&&d.push([g,c[g]]);return d}},"es8","es3");$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(l){function c(){this.batch_=null}function d(f){return f instanceof a?f:new a(function(k,m){k(f)})}if(l&&!$jscomp.FORCE_POLYFILL_PROMISE)return l;c.prototype.asyncExecute=function(f){if(null==this.batch_){this.batch_=[];var k=this;this.asyncExecuteFunction(function(){k.executeBatch_()})}this.batch_.push(f)};var g=$jscomp.global.setTimeout;c.prototype.asyncExecuteFunction=function(f){g(f,0)};c.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var f=
this.batch_;this.batch_=[];for(var k=0;k<f.length;++k){var m=f[k];f[k]=null;try{m()}catch(q){this.asyncThrow_(q)}}}this.batch_=null};c.prototype.asyncThrow_=function(f){this.asyncExecuteFunction(function(){throw f;})};var a=function(f){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var k=this.createResolveAndReject_();try{f(k.resolve,k.reject)}catch(m){k.reject(m)}};a.prototype.createResolveAndReject_=function(){function f(q){return function(w){m||(m=!0,q.call(k,w))}}var k=this,m=!1;
return{resolve:f(this.resolveTo_),reject:f(this.reject_)}};a.prototype.resolveTo_=function(f){if(f===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(f instanceof a)this.settleSameAsPromise_(f);else{a:switch(typeof f){case "object":var k=null!=f;break a;case "function":k=!0;break a;default:k=!1}k?this.resolveToNonPromiseObj_(f):this.fulfill_(f)}};a.prototype.resolveToNonPromiseObj_=function(f){var k=void 0;try{k=f.then}catch(m){this.reject_(m);return}"function"==typeof k?
this.settleSameAsThenable_(k,f):this.fulfill_(f)};a.prototype.reject_=function(f){this.settle_(2,f)};a.prototype.fulfill_=function(f){this.settle_(1,f)};a.prototype.settle_=function(f,k){if(0!=this.state_)throw Error("Cannot settle("+f+", "+k+"): Promise already settled in state"+this.state_);this.state_=f;this.result_=k;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var f=0;f<this.onSettledCallbacks_.length;++f)b.asyncExecute(this.onSettledCallbacks_[f]);
this.onSettledCallbacks_=null}};var b=new c;a.prototype.settleSameAsPromise_=function(f){var k=this.createResolveAndReject_();f.callWhenSettled_(k.resolve,k.reject)};a.prototype.settleSameAsThenable_=function(f,k){var m=this.createResolveAndReject_();try{f.call(k,m.resolve,m.reject)}catch(q){m.reject(q)}};a.prototype.then=function(f,k){function m(t,z){return"function"==typeof t?function(r){try{q(t(r))}catch(u){w(u)}}:z}var q,w,p=new a(function(t,z){q=t;w=z});this.callWhenSettled_(m(f,q),m(k,w));return p};
a.prototype.catch=function(f){return this.then(void 0,f)};a.prototype.callWhenSettled_=function(f,k){function m(){switch(q.state_){case 1:f(q.result_);break;case 2:k(q.result_);break;default:throw Error("Unexpected state: "+q.state_);}}var q=this;null==this.onSettledCallbacks_?b.asyncExecute(m):this.onSettledCallbacks_.push(m)};a.resolve=d;a.reject=function(f){return new a(function(k,m){m(f)})};a.race=function(f){return new a(function(k,m){for(var q=$jscomp.makeIterator(f),w=q.next();!w.done;w=q.next())d(w.value).callWhenSettled_(k,
m)})};a.all=function(f){var k=$jscomp.makeIterator(f),m=k.next();return m.done?d([]):new a(function(q,w){function p(r){return function(u){t[r]=u;z--;0==z&&q(t)}}var t=[],z=0;do t.push(void 0),z++,d(m.value).callWhenSettled_(p(t.length-1),w),m=k.next();while(!m.done)})};return a},"es6","es3");$jscomp.polyfill("Number.isNaN",function(l){return l?l:function(c){return"number"===typeof c&&isNaN(c)}},"es6","es3");
$jscomp.polyfill("Object.values",function(l){return l?l:function(c){var d=[],g;for(g in c)$jscomp.owns(c,g)&&d.push(c[g]);return d}},"es8","es3");var gxnoFunc=function(){},gxdbg={logDebug:gxnoFunc,logMsg:gxnoFunc,logEx:gxnoFunc,exTxt:gxnoFunc,write:gxnoFunc,logPerf:gxnoFunc,printPerformanceLog:gxnoFunc};
(function(l,c){"object"===typeof exports&&exports&&"string"!==typeof exports.nodeName?c(exports):"function"===typeof define&&define.amd?define(["exports"],c):(l.Mustache={},c(l.Mustache))})(this,function(l){function c(v){return"function"===typeof v}function d(v){return v.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function g(v,y){return null!=v&&"object"===typeof v&&y in v}function a(v,y){function B(ia){"string"===typeof ia&&(ia=ia.split(x,2));if(!p(ia)||2!==ia.length)throw Error("Invalid tags: "+
ia);R=new RegExp(d(ia[0])+"\\s*");P=new RegExp("\\s*"+d(ia[1]));X=new RegExp("\\s*"+d("}"+ia[1]))}if(!v)return[];var C=[],I=[],L=[],M=!1,N=!1,R,P,X;B(y||l.tags);v=new k(v);for(var W,aa,ba;!v.eos();){y=v.pos;if(aa=v.scanUntil(R)){ba=0;for(var ha=aa.length;ba<ha;++ba)if(W=aa.charAt(ba),t.call(z,W)?N=!0:L.push(I.length),I.push(["text",W,y,y+1]),y+=1,"\n"===W){if(M&&!N)for(;L.length;)delete I[L.pop()];else L=[];N=M=!1}}if(!v.scan(R))break;M=!0;W=v.scan(G)||"name";v.scan(u);"="===W?(aa=v.scanUntil(E),
v.scan(E),v.scanUntil(P)):"{"===W?(aa=v.scanUntil(X),v.scan(F),v.scanUntil(P),W="&"):aa=v.scanUntil(P);if(!v.scan(P))throw Error("Unclosed tag at "+v.pos);ba=[W,aa,y,v.pos];I.push(ba);if("#"===W||"^"===W)C.push(ba);else if("/"===W){W=C.pop();if(!W)throw Error('Unopened section "'+aa+'" at '+y);if(W[1]!==aa)throw Error('Unclosed section "'+W[1]+'" at '+y);}else"name"===W||"{"===W||"&"===W?N=!0:"="===W&&B(aa)}if(W=C.pop())throw Error('Unclosed section "'+W[1]+'" at '+v.pos);return f(b(I))}function b(v){for(var y=
[],B,C,I=0,L=v.length;I<L;++I)if(B=v[I])"text"===B[0]&&C&&"text"===C[0]?(C[1]+=B[1],C[3]=B[3]):(y.push(B),C=B);return y}function f(v){for(var y=[],B=y,C=[],I,L=0,M=v.length;L<M;++L)switch(I=v[L],I[0]){case "#":case "^":B.push(I);C.push(I);B=I[4]=[];break;case "/":B=C.pop();B[5]=I[2];B=0<C.length?C[C.length-1][4]:y;break;default:B.push(I)}return y}function k(v){this.tail=this.string=v;this.pos=0}function m(v,y){this.view=v;this.cache={".":this.view};this.parent=y}function q(){this.cache={}}var w=Object.prototype.toString,
p=Array.isArray||function(v){return"[object Array]"===w.call(v)},t=RegExp.prototype.test,z=/\S/,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},u=/\s*/,x=/\s+/,E=/\s*=/,F=/\s*\}/,G=/#|\^|\/|>|\{|&|=|!/;k.prototype.eos=function(){return""===this.tail};k.prototype.scan=function(v){v=this.tail.match(v);if(!v||0!==v.index)return"";v=v[0];this.tail=this.tail.substring(v.length);this.pos+=v.length;return v};k.prototype.scanUntil=function(v){v=this.tail.search(v);
switch(v){case -1:var y=this.tail;this.tail="";break;case 0:y="";break;default:y=this.tail.substring(0,v),this.tail=this.tail.substring(v)}this.pos+=y.length;return y};m.prototype.push=function(v){return new m(v,this)};m.prototype.lookup=function(v){var y=this.cache;if(y.hasOwnProperty(v))var B=y[v];else{for(var C=this,I,L,M,N=!1;C;){if(0<v.indexOf("."))for(I=C.view,L=v.split("."),M=0;null!=I&&M<L.length;)M===L.length-1&&(N=g(I,L[M])||null!=I&&"object"!==typeof I&&I.hasOwnProperty&&I.hasOwnProperty(L[M])),
I=I[L[M++]];else I=C.view[v],N=g(C.view,v);if(N){B=I;break}C=C.parent}y[v]=B}c(B)&&(B=B.call(this.view));return B};q.prototype.clearCache=function(){this.cache={}};q.prototype.parse=function(v,y){var B=this.cache,C=v+":"+(y||l.tags).join(":"),I=B[C];null==I&&(I=B[C]=a(v,y));return I};q.prototype.render=function(v,y,B,C){var I=this.parse(v,C);y=y instanceof m?y:new m(y);return this.renderTokens(I,y,B,v,C)};q.prototype.renderTokens=function(v,y,B,C,I){for(var L="",M,N,R,P=0,X=v.length;P<X;++P)R=void 0,
M=v[P],N=M[0],"#"===N?R=this.renderSection(M,y,B,C):"^"===N?R=this.renderInverted(M,y,B,C):">"===N?R=this.renderPartial(M,y,B,I):"&"===N?R=this.unescapedValue(M,y):"name"===N?R=this.escapedValue(M,y):"text"===N&&(R=this.rawValue(M)),void 0!==R&&(L+=R);return L};q.prototype.renderSection=function(v,y,B,C){function I(X){return L.render(X,y,B)}var L=this,M="",N=y.lookup(v[1]);if(N){if(p(N))for(var R=0,P=N.length;R<P;++R)M+=this.renderTokens(v[4],y.push(N[R]),B,C);else if("object"===typeof N||"string"===
typeof N||"number"===typeof N)M+=this.renderTokens(v[4],y.push(N),B,C);else if(c(N)){if("string"!==typeof C)throw Error("Cannot use higher-order sections without the original template");N=N.call(y.view,C.slice(v[3],v[5]),I);null!=N&&(M+=N)}else M+=this.renderTokens(v[4],y,B,C);return M}};q.prototype.renderInverted=function(v,y,B,C){var I=y.lookup(v[1]);if(!I||p(I)&&0===I.length)return this.renderTokens(v[4],y,B,C)};q.prototype.renderPartial=function(v,y,B,C){if(B&&(v=c(B)?B(v[1]):B[v[1]],null!=v))return this.renderTokens(this.parse(v,
C),y,B,v)};q.prototype.unescapedValue=function(v,y){v=y.lookup(v[1]);if(null!=v)return v};q.prototype.escapedValue=function(v,y){v=y.lookup(v[1]);if(null!=v)return l.escape(v)};q.prototype.rawValue=function(v){return v[1]};l.name="mustache.js";l.version="3.0.1";l.tags=["{{","}}"];var n=new q;l.clearCache=function(){return n.clearCache()};l.parse=function(v,y){return n.parse(v,y)};l.render=function(v,y,B,C){if("string"!==typeof v)throw y=TypeError,v=p(v)?"array":typeof v,new y('Invalid template! Template should be a "string" but "'+
v+'" was given as the first argument for mustache#render(template, view, partials)');return n.render(v,y,B,C)};l.to_html=function(v,y,B,C){v=l.render(v,y,B);if(c(C))C(v);else return v};l.escape=function(v){return String(v).replace(/[&<>"'`=\/]/g,function(y){return r[y]})};l.Scanner=k;l.Context=m;l.Writer=q;return l});(function(){window.onpageshow=function(l){l.persisted&&window.location.reload()}})();
var gx=function(l){var c=/^(?:gx\.O\.)(.+)$/,d=/^(?:.+)?\((?:gx\.O\.)([a-zA-Z0-9_]+)(?:,)?(?:.*)\)$/,g=function(){return!1};return{$:l.noConflict(),O:null,pO:null,languageCode:"eng",dateFormat:"MDY",timeFormat:12,blankWhenEmpty:!1,centuryFirstYear:40,decimalPoint:".",thousandSeparator:",",staticDirectory:"/",basePath:"",servletBasePath:"",datepickerImage:null,clientImages:{},blankImage:null,ascImage:null,descImage:null,expandImage:null,collapseImage:null,downloadImage:null,indicatorImage:null,resizeImage:null,
msg:{},NULL_TIMEZONEOFFSET:0,emptyFn:function(){},falseFn:g,trueFn:function(){return!0},getNotificationDelay:function(){return void 0===gx.NotificationDelay?400:gx.NotificationDelay},numericLenDec:function(a){var b=a.split(".");a=2===b.length?b[0]:a;b=2===b.length?b[1]:"";a=(a.match(/9|Z/g)||[]).length;b=(b.match(/9|Z/g)||[]).length;return{Integers:a,Decimals:b}},rtPicture:function(a,b){return b&&b.getAttribute("data-gx-rt-picture")||a&&a.pic||""},dom:{_form:null,_avoidLeaksDiv:null,id:function(a){return void 0==
a.id||""==a.id?a.name:a.id},byId:function(a,b){return"string"===typeof a?(b=b||document,b.getElementById(a)):a},byName:function(a){return a?document.getElementsByName(a):[]},toggleAttribute:function(a,b,f){"function"===typeof a.toggleAttribute?a.toggleAttribute(b,f):f?a.setAttribute(b,""):a.removeAttribute(b,"")},byTag:function(a,b){b=b||document;return b.getElementsByTagName(a)},byClass:function(a,b,f){return!b&&(f=document||f,f.getElementsByClassName)?f.getElementsByClassName(a):l((b||"")+"."+a,
f).toArray()},bySelector:function(a){return l(a).toArray()},getAttributeNames:function(a){return"function"===typeof a.getAttributeNames?a.getAttributeNames():Array.from(a.attributes).map(function(b){return b.name})},scripts:function(a){var b=document.scripts;b||(b=document.getElementsByTagName("script"));if("undefined"!=typeof b){for(var f=[],k=b.length,m=0;m<k;m++)if(!a||null==b[m].getAttribute("data-gx-external-script")){var q=b[m].attributes.src;q&&q.value&&(q=q.value,"//:"!=q&&f.push(q))}return f}return[]},
getIntersectionObserver:function(a){"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?a&&a(window.IntersectionObserver):gx.http.loadScript(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"intersection-observer.js",!1),function(){a&&a(window.IntersectionObserver)})},_init:function(){gx.evt.processing=!1;gx.evt.userReadyCnt=1;gx.evt._userReady=!1;gx.evt.on_ready(this,function(){var a,b=gx.util.browser,f=[];if(document.querySelectorAll)f=
document.querySelectorAll("input[type='hidden']");else{var k=gx.dom.byTag("input");var m=0;for(a=k.length;m<a;m++)"hidden"==k[m].getAttribute("type")&&f.push(k[m])}m=0;for(a=f.length;m<a;m++)f[m].setAttribute("autocomplete","off");l('input[type="file"]').on("click",function(){gx.fx.obs.notify("gx.validation")});if(b.isChrome())for(b=document.querySelectorAll("select"),m=0,a=b.length;m<a;m++)b[m].value||(f=b[m].querySelectorAll("option[selected]"))&&f.length&&(b[m].value=f[0].value);l('input[type="file"]').on("click",
function(){gx.fx.obs.notify("gx.validation")})});this.TRANSITION_END_EVENT=gx.util.browser.isWebkit()?"webkitTransitionEnd":gx.util.browser.isOpera()?"oTransitionEnd":"transitionend";this.ANIMATION_END_EVENT=gx.util.browser.isWebkit()?"webkitAnimationEnd":gx.util.browser.isOpera()?"oAnimationEnd":"animationend"}},evt:{enter:!1,lastKey:-1,lastControl:null,lastEvent:null,dummyCtrl:{},keyListeners:{},shiftPressed:!1,execLoad:!0,autoSkip:!1,controlKeys:[3,6,8,9,12,13,14,16,17,18,19,20,27,32,33,34,35,
36,37,38,39,40,44,45,46],triggerKeys:[13,32],processing:!1,skipPromptCtrl:!0,touchTimer:null,userReadyCnt:0,_userReady:!1,userReadyThreshold:2E3,userReadyThresholdFast:400,hooks:[],types:{VALUECHANGED:1,VALUECHANGING:2},promptFocus:function(a){!0!==gx.evt.evtPromptMouseDown&&(a=gx.evt.source(a),a=l("[data-gx-attached-ctrl]",a)[0])&&(lastTargetElid=(a.getAttribute("data-gx-attached-ctrl").split(" ")||[]).pop(),a=gx.O.getValidStructId(lastTargetElid),a>=gx.csv.lastId&&(gx.csv.lastId=a,gx.O.toValid=
gx.csv.lastId+1,gx.csv.validateAll()));gx.evt.evtPromptMouseDown=!1},promptMousedown:function(){gx.evt.evtPromptMouseDown=!0},serialRunner:function(){var a=[];return{addTask:function(b){a.push(b);if(1===a.length)a[0]()},signalEndTask:function(){a.shift();if(0<a.length)a[0]()}}},addHook:function(a,b,f,k){this.hooks.push({c:a,e:b,f:f,o:k})},removeHookByKey:function(a){l.each(gx.evt.hooks,function(b,f){f.o&&f.o.hookKey&&a===f.o.hookKey&&(gx.evt.detach(f.e,f.o,f.f),gx.evt.hooks[b]=void 0)});gx.evt.hooks=
gx.evt.hooks.filter(function(b){return b})},attach:function(a,b,f,k,m){m=m||{};if("string"==typeof b){var q=f;k&&(q=f.closure(k));var w=gx.evt.hooks.length;if(m.single){var p=q,t=!1,z;q=function(){t||(z&&clearTimeout(z),gx.evt.detach(a,b,p,m),p.apply(this,arguments),gx.evt.hooks.splice(w,1),t=!0)};m.timeout&&(z=setTimeout(q,m.timeout))}a.addEventListener?a.addEventListener(b,q,m.useCapture||!1):a.attachEvent?a.attachEvent("on"+b,q):a["on"+b]=q;this.addHook(a,b,q,m)}else if(gx.lang.isArray(b)){q=0;
for(var r=b.length;q<r;q++)this.attach(a,b[q],f,k,m)}},on_ready:function(a,b){gx.fx.obs.addObserver("gx.onload",a,b)},onload:function(){gx.objectLoad().done(function(){gx.spa.start({listeners:{onnavigatestart:function(){gx.dom.addClass(document.body,"gx-spa-navigating")},onnavigate:function(){gx.dom.removeClass(document.body,"gx-spa-navigating")},onbeforesend:function(a,b,f){gx.pO.MasterPage&&a.req.setRequestHeader(f,gx.pO.MasterPage.ServerClass)},onbeforeprocessresponse:function(a,b,f,k,m,q){gx.reinit(!q)},
oncontentreplace:function(a,b,f,k,m,q,w,p){a=gx.lang.getType(k);q=(q=q==w?q:w)?gx.lang.getType(q.toLowerCase()):!1;var t=gx.ajax.getJsonResponse();t&&gx.fn.setJsonHiddens(null,t.gxHiddens,!1);a.prototype=new gx.GxObject;gx.setParentObj(new a);p?gx.setMasterPage(m):q&&gx.setMasterPage(new q);gx.ajax.clearJsonResponse();t?gx.ajax.setJsonResponse({response:t,isPostBack:!1,afterCmpLoaded:function(){p&&(m.restoreTargetComponents(),m.restoreExoEventHandlers());gx.objectLoad(t.gxGrids,t.gxHiddens).done(function(){gx.pO.SetStandaloneVars()})},
gxObject:gx.O}).done(function(){gx.fn.setFocusAfterLoad(!0)}):gx.objectLoad()}}})})},onready:function(a){if(gx.lang.emptyObject(a))if("complete"==document.readyState)gx.evt.onload();else setTimeout(function(){gx.evt.onready(null)},250);else if(gx.util.browser.isIE()&&"complete"==document.readyState)gx.evt.onload()},_init:function(){gx.evt.oldDoPostDelay=gx.getNotificationDelay()+100;gx.evt.userReadyThresholdFast=gx.util.browser.isIE()?2E3:gx.evt.userReadyThresholdFast;document.gxReadyState="loading";
gx.lang.doCallTimeout(function(){gx.evt.userReadyThreshold=gx.evt.userReadyThresholdFast},gx.evt,[],gx.evt.userReadyThreshold);gx.util.browser.isIE()&&(gx.util.browser.isCompatMode()||8>=document.documentMode||8>=gx.util.browser.ieVersion()&&!gx.util.browser.isWinCE())?this.attach(document,"readystatechange",this.onready):9<=gx.util.browser.ieVersion()&&!gx.util.browser.isWinCE()||gx.util.browser.isFirefox()||gx.util.browser.isWebkit()||gx.util.browser.isOperaMini()?this.attach(document,"DOMContentLoaded",
this.onload):gx.util.browser.isBlackBerry()?this.attach(window,"load",this.onload):gx.wi(function(){this.onready(null)},gx.evt);gx.wi(function(){this.attach(document,["touchstart"],this.ontouchstart);this.attach(document,"mousedown",this.onmousedown);this.attach(document,["mousemove","touchmove"],this.onmousemove);this.attach(document,["mouseup","touchend"],this.onmouseup);this.attach(document,"click",this.onclick);this.attach(document,"dblclick",this.ondblclick);this.attach(window,"blur",this.onwindowblur);
gx.dbg.performance&&!gx.util.browser.isBlackBerry()&&this.attach(window,"load",function(){gx.dbg.logPerf("onload","Page Loaded");gx.dbg.printPerformanceLog()})},gx.evt)}},define:function(a,b,f){var k=window||this,m=a.split("."),q=m.length;for(a=0;a<q-1;a++)"undefined"==typeof k[m[a]]&&(k[m[a]]={}),k=k[m[a]];k[m[q-1]]=f;b||(k[m[q-1]].prototype=new gx.GxObject)},setParentObj:function(a){gx.pO=a;gx.O=gx.pO;gx.AjaxSecurity=gx.pO.AjaxSecurity;gx.OnSessionTimeout=gx.pO.OnSessionTimeout;gx.fx.obs.notify(gx.PARENT_OBJECT_EVT)},
createParentObj:function(a){gx.spa&&gx.spa.started||(a instanceof gx.GxObject||(GxObj=new a),GxObj&&this.setParentObj(GxObj))},setExecutableComponent:function(a){gx.spa&&gx.spa.started||gx.wi(function(){null==gx.pO&&(gx.setParentObj(gx.createComponent(a,"")),gx.fn.objectOnload(void 0,!0))},this)},setMasterPage:function(a){gx.wpo(function(){null!=gx.pO&&(gx.pO.MasterPage=a,gx.fx.obs.notify(gx.SETMASTERPAGE_EVT))})},createMasterPage:function(a){gx.wpo(function(){var b;gx.spa.isNavigating()||(a instanceof
gx.GxObject||(b=new a),b&&this.setMasterPage(b))},this)},addComponent:function(a,b){null!=gx.pO&&gx.pO.setWebComponent(a,b)},createComponent:function(a,b,f){var k=null;a=gx.lang.getType(a);if(null!=a){a.prototype=new gx.GxObject;var m=gx.csv.cmpCtx;gx.csv.cmpCtx=b;k=new a(b);f&&k.setContainer(f);gx.csv.cmpCtx=m;k.serviceUrl=gx.fn.getControlValue(k.CmpContext+"_CMPPGM")}return k},getObj:function(a,b){return""==a?1==b?gx.pO.MasterPage:gx.pO:gx.pO.getWebComponent(a)},setGxO:function(){if(1==arguments.length&&
"object"==typeof arguments[0])gx.O=arguments[0];else{var a=arguments[0];var b=arguments[1];gx.O=this.getObj(a,b)||gx.pO}gx.csv.cmpCtx=gx.O.CmpContext;return gx.O},setVar:function(a,b){gx.O.setVariable(a,b)},getVar:function(a){return gx.O.getVariable(a)},prefixVar:function(a){return"gx.O."+a},unprefixVar:function(a){var b=c;b=b.exec(a);null!=b&&b[1]?a=b[1]:(b=d,b=b.exec(a),null!=b&&b[1]&&(a=b[1]));return a},getMessage:function(a){return void 0==gx.msg[a]?a:gx.msg[a]},setLanguageCode:function(a){gx.languageCode=
a},setDateFormat:function(a){gx.dateFormat=a},setTimeFormat:function(a){gx.timeFormat=a},setCenturyFirstYear:function(a){gx.centuryFirstYear=a},setBlankWhenEmptyDate:function(a){gx.blankWhenEmpty=a},setDecimalPoint:function(a){gx.decimalPoint=a},setThousandSeparator:function(a){gx.thousandSeparator=a},setStaticDirectory:function(a){gx.staticDirectory=a;if(""==gx.staticDirectory)gx.staticDirectory="/";else{var b=gx.staticDirectory.length;a=!gx.isabsoluteurl(a)&&"/"!=gx.staticDirectory.charAt(0);b=
"/"!=gx.staticDirectory.charAt(b-1);gx.staticDirectory=(a?"/":"")+gx.staticDirectory+(b?"/":"")}},getThemeElement:function(){return gx.dom.byId("gxtheme_css_reference")},updateTheme:function(){var a=gx.fn.getHidden("GX_THEME");a&&a!=this.theme&&(this.theme=a,(a=gx.getThemeElement())&&0>a.href.search("/"+this.theme+".css")&&(a.href=a.href.replace(/[^/]*.css/,this.theme+".css")))},setTheme:function(a){var b=gx.util.browser,f=b.isIE();b=b.ieVersion();var k=gx.dom.fixes;this.theme=gx.fn.getHidden("GX_THEME");
this.theme||(this.theme="");try{void 0===a&&k.resetFixesStyleElement();gx.HTML5&&k.html5(a);if(void 0===a){f&&(l(document.documentElement).addClass("ie"),l(document.documentElement).addClass("ie"+b),gx.runtimeTemplates&&!Modernizr.flexbox&&l(document.documentElement).addClass("gx-align-fallback"));if(f&&10==b){var m=document.createElement("style");m.innerHTML="input::-ms-clear {display: none;}";document.body.appendChild(m)}k.setPopupMinWidth()}k.fixTableResets(a)}catch(q){gx.dbg.logEx(q,"gxapi.js",
"setTheme")}},typedOld:function(a,b,f){switch(f){case "int":return this.OldInteger(a,b);case "decimal":return this.OldDecimal(a,b,!0);case "date":return this.OldDate(a,b);case "dtime":return this.OldDateTime(a,b);default:return this.Old(a,b)}},isInputEnabled:function(a){return a&&gx.evt.lastEvt==a?!0:!(gx.evt.processing&&!gx.csv.isvalidating()||gx.spa.isNavigating())},types:{numeric:0,character:1,date:2,dateTime:3,blob:4,varChar:5,longVarChar:6,bool:7,geolocation:8},domains:{url:"Url",email:"Email",
phone:"Phone",address:"Address",geolocation:"Geolocation",component:"Component",feed:"Feed"},gen:{net:!1,isDotNet:function(){return this.net},isRuby:g,isJava:function(){return!this.net},resolveObjClass:function(a){var b=a;gx.gen.isDotNet()&&(b=a.replace(/\.aspx$/,""));gx.gen.isJava()&&gx.pO&&gx.pO.PackageName&&gx.text.startsWith(a,gx.pO.PackageName)&&(b=a.substring(gx.pO.PackageName.length+1));return b}},util:function(){var a=/^gx-image:\/\/(.*)/;return{executionContext:{getContext:function(){return gx.http.currentUrl()},
changedContext:function(b){return b!==gx.util.executionContext.getContext()}},contentTypes:{txt:"text/plain",rtx:"text/richtext",htm:"text/html",html:"text/html",xml:"text/xml",aif:"audio/x-aiff",au:"audio/basic",wav:"audio/wav",bmp:"image/bmp",gif:"image/gif",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",jfif:"image/pjpeg",tif:"image/tiff",tiff:"image/tiff",png:"image/x-png",mpg:"video/mpeg",mpeg:"video/mpeg",mov:"video/quicktime",qt:"video/quicktime",avi:"video/x-msvideo",exe:"application/octet-stream",
dll:"application/x-msdownload",ps:"application/postscript",pdf:"application/pdf",tgz:"application/x-compressed",zip:"application/x-zip-compressed",gz:"application/x-gzip"},compare:function(b,f,k){if(typeof b!=typeof k)return!1;if("string"==typeof b&&"like"==f)return f=k.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),f=gx.text.replaceAll(gx.text.replaceAll(f,"%",".*"),"_","."),(new RegExp(f,"i")).test(b);switch(f){case ">":return b>k;case ">=":return b>=k;case "<":return b<k;case "<=":return b<=k;case "<>":return b!=
k;default:return b==k}},isKnownContentType:function(b){for(var f in this.contentTypes)if(this.contentTypes[f]==b)return!0;return!1},getContentTypeFromExt:function(b){b=b.split(/[#?]/)[0].split(".").pop().trim();return this.getContentType(b)},getContentType:function(b){if(gx.lang.emptyObject(b))return"text/html";b=b.toLowerCase();b=gx.text.trim(b);if(this.isKnownContentType(b))return b;var f=b.lastIndexOf(".");-1!=f&&(b=b.substring(f+1));b=this.contentTypes[b];return gx.lang.emptyObject(b)?"text/html":
b},getFileName:function(b){var f=b.lastIndexOf("/"),k=b.lastIndexOf("\\");f=f>k?f:k;k=b.lastIndexOf(".");if(!b)return b;if(0>k||f>k)k=b.length;return b.substring(f+1,k)},getFileType:function(b){var f=b.lastIndexOf("/"),k=b.lastIndexOf("\\"),m=b.lastIndexOf(".");return 0>m||m<f||m<k?"":b.substring(m+1)},getWindowInfo:function(){var b="",f=!0,k=!1;try{if(k=window.location!=window.parent.location?!0:!1)try{f=window.frameElement.id||window.top.document.body,b=window.name}catch(m){f=!1}}catch(m){}return{insideIframe:k,
canAccessFrame:f,frameId:b}},browser:function(){var b=navigator.userAgent,f=/; rv.([0-9]+)/,k;return{w3c:!0,ie5:!0,ie:-1!=b.indexOf("MSIE")||-1!=b.indexOf("Trident"),edge:-1!=b.indexOf("Edge"),ff:-1!=b.indexOf("Firefox"),winCE:-1!=b.indexOf("Windows CE"),iphone:-1!=b.indexOf("iPhone"),ipad:-1!=b.indexOf("iPad"),ipod:-1!=b.indexOf("iPod"),blackBerry:-1!=b.indexOf("BlackBerry"),operaMini:-1!=b.indexOf("Opera Mini"),opera:-1!=b.indexOf("Opera"),chrome:-1!=b.indexOf("Chrome"),android:-1!=b.indexOf("Android"),
webkit:-1!=b.search(/webkit/ig),safari:-1!=b.indexOf("Safari")&&-1===b.indexOf("Chrome"),isIEStrict:function(){return this.ie},isIE:function(){return this.ie||this.edge},isEdge:function(){return this.edge},isSafari:function(){return this.safari},isFirefox:function(){return this.ff},isChrome:function(){return this.chrome},isWinCE:function(){return this.winCE},isIPhone:function(){return this.iphone},isIPad:function(){return this.ipad},isAndroid:function(){return this.android},isBlackBerry:function(){return this.blackBerry},
isOperaMini:function(){return this.operaMini},isOpera:function(){return this.opera},isWebkit:function(){return this.webkit},isSmartDevice:function(){return this.isWinCE()||this.isIPhone()||this.isBlackBerry()||this.isOperaMini()||this.isAndroid()},isCompatMode:function(){return"BackCompat"==document.compatMode},isOldIE:function(m){return gx.util.browser.isIE()&&gx.util.browser.ieVersion()<=(m||8)},ieVersion:function(){var m=function(){if(this.ie)try{var q=b.indexOf("MSIE");if(0<=q){var w=b.indexOf(";",
q),p=b.substring(q+5,w);return parseFloat(p,10)}var t=b.match(f);if(1<t.length)return parseFloat(t[1],10)}catch(z){gx.dbg.logEx(z,"gxapi.js","ieVersion")}else if(this.edge&&(t=b.match(/ Edge\/([0-9]+)\./),1<t.length))return parseFloat(t[1],10);return-1};k||(k=m.call(this));return k},chromeVersion:function(){if(this.isChrome()){var m=b.match(/Chrome\/([0-9]+)/);if(1<m.length)return parseFloat(m[1],10)}},setupIE:function(){9<=this.ieVersion()&&!this.isCompatMode()&&"undefined"!==typeof Range&&!Range.prototype.createContextualFragment&&
(Range.prototype.createContextualFragment=function(m){var q=document.createDocumentFragment(),w=document.createElement("div");q.appendChild(w);w.outerHTML=m;return q});"function"!==typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})},_init:function(){this.isWinCE()||(this.w3c=document.getElementById?!0:!1,this.ie5=this.ie&&document.getElementById&&document.all?!0:!1);this.setupIE()}}}(),addOnce:function(b,f,k){void 0==b[k]&&(b[k]=f)},inArray:function(b,
f){if(null==b||!gx.lang.isArray(f))return!1;if("function"==typeof f.indexOf)return-1!=f.indexOf(b);for(var k=f.length,m=0;m<k;m++)if(f[m]==b)return!0;return!1},pushOnceSorted:function(b,f){for(var k=!0,m=0,q=f.length;m<q;m++){if(b==f[m]){k=!1;break}if(b<f[m]){f.splice(m,0,b);k=!1;break}}k&&f.push(b)},lastArray:function(b){return 0<b.length?b[b.length-1]:null},noParmsUrl:function(b){var f=b.indexOf("?");-1!=f&&(b=b.substring(0,f));return b},resolveUrl:function(b){if(!b)return b;b=gx.util.imageUrl(b);
return gx.isabsoluteurl(b)?b:gx.isRelativeToHost(b)?0!=b.toLowerCase().indexOf("/"+gx.basePath.toLowerCase())?gx.util.resourceUrl(gx.basePath+b,!1):b:gx.util.resourceUrl(gx.basePath+gx.staticDirectory+b,!1)},imageName:function(b){return(b=a.exec(b))?b[1].replaceAll(".","_"):null},imageUrl:function(b){var f=a.exec(b);return f?gx.uc.getComputedImagePath(f[1].replaceAll(".","_")):b},resourceUrl:function(){var b;return function(f,k){b||(b=new RegExp(gx.basePath+"(/|$)","i"));if("undefined"==typeof f)return"";
if(-1!=f.indexOf("://")||"."==f.charAt(0))return gx.text.startsWith(f,gx.basePath)?f.substring(gx.basePath.length):f;var m="/"!=gx.basePath.charAt(gx.basePath.length-1),q=""==gx.basePath?0:f.search(b);if(0==q&&!k)return("/"==f.charAt(0)?"":"/")+f;if(-1!=q||k){k=-1!=q&&0<gx.basePath.length?gx.text.replaceAll(f.substring(q+gx.basePath.length),"\\","/"):f;if("/"==f.charAt(0))return location.protocol+"//"+location.host+f;f=0<gx.basePath.length&&"/"!=gx.basePath.charAt(0);m=m&&"/"!=k.charAt(0);return location.protocol+
"//"+location.host+(f?"/":"")+gx.basePath+(m?"/":"")+k}return f}}(),sameAppUrl:function(b){b=new this.Url(b);return b.isRelative()?!0:b.isSameApp(location.href)},removeBaseUrl:function(b){var f="/"!=gx.staticDirectory.charAt(gx.staticDirectory.length-1),k=0<gx.basePath.length;var m="/"==gx.staticDirectory.charAt(0)?gx.staticDirectory.substring(1):gx.staticDirectory;m=(new RegExp("(?:/)?(?:"+gx.basePath+(k?"/":"")+"(?:"+m+(f?"/":"")+")?)?((?:[\\S]*))")).exec(b);null!=m&&m[1]&&(b=m[1]);return b},getIFrameEmptySrc:function(){return"https:"==
location.protocol&&gx.util.browser.isIE()&&6>=gx.util.browser.ieVersion()?"gx_blank.html":"about:blank"},Url:function(){var b=/^(([^:\/\?#]+):)?(\/\/([^\/\?#]*))?([^\?#]*)(\?([^#]*))?(#(.*))?$/,f=/^(([^@]+)@)?([^:]+)(:(.+))?$/,k=function(m){this.url=m;this.user=this.hash=this.query=this.path=this.port=this.host=this.protocol="";this.isRelative=function(){return gx.lang.emptyObject(this.host)};this.isSameApp=function(q){q=new gx.util.Url(q);return this.protocol==q.protocol&&this.host==q.host};(function(q,
w){var p=b;p=p.exec(w);if(w=!gx.lang.emptyObject(p))if(q.protocol=p[2]?p[2]:"",w=p[4]?p[4]:"",q.path=p[5]?p[5]:"",q.query=p[7]?p[7]:"",q.hash=p[9]?p[9]:"",p=f,p=p.exec(w),w=!gx.lang.emptyObject(p))q.user=p[2]?p[2]:"",q.host=p[3]?p[3]:"",q.port=p[5]?p[5]:""})(this,m)};k.parseWithAnchor=function(m){var q=document.createElement("a");q.href=m;!q.protocol&&gx.util.browser.isIE()&&(q.href=q.href);return q};return k}(),regExp:{isMatch:function(b,f){return null!==(new RegExp(f)).exec(b)},replace:function(b,
f,k){return b.replace(f,k)},split:function(b,f){return b.split(f)},matches:function(b,f){b=(new RegExp(f)).exec(b);return null!==b?b:[]}},autoRefresh:{arTimer:null,getProps:function(){var b=gx.fn.getHidden("_GxRefreshTimeout");null!=b&&(b=gx.json.evalJSON(b),b.Time=parseInt(b.Time));return b},install:function(){var b=this.getProps();null!=b&&(this.create(),"focus"==b.Type&&gx.evt.attach(window,"blur",this.destroy))},create:function(){if(null==this.arTimer){var b=this.getProps();null!=b&&(this.arTimer=
setTimeout(function(){gx.http.reload()},1E3*b.Time))}},destroy:function(){null!=gx.util.autoRefresh.arTimer&&(window.clearTimeout(gx.util.autoRefresh.arTimer),gx.util.autoRefresh.arTimer=null)}},accessKey:function(b){var f="";if(-1!=b.indexOf("&"))for(var k=b.length,m=0;m<k-1;m++)if("&"==b[m]&&"&"!=b[m+1]){f+=b[m+1];break}return f},accessKeyCaption:function(b){var f="";if(-1==b.indexOf("&"))return b;for(var k=b.length,m=0;m<k-1;m++)if("&"==b[m]&&"&"!=b[m+1]){f+=b.substring(m+1);break}else f+=b[m];
return f},invalidFunc:function(b){throw"gxInvalidFunc: "+b;},urlValue:function(b){var f=b;"string"!=typeof f&&(f=gx.fn.getControlValueInt(b));return encodeURIComponent(f)},help:function(b){open(b,"gxHelpWindow","toolbar=no,location=no,directories=no,status=yes,menubar=no,scrollbars=yes,resizable=yes,copyhistory=no")},_init:function(){this.browser._init()}}}(),guid:{generate:function(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,function(a){(a^crypto.getRandomValues(new Uint8Array(1))[0]&
15>>a/4).toString(16)})}},lang:{inherits:function(a,b,f){var k=a.prototype;a.prototype=new b;for(var m in k)"undefined"==typeof a.prototype[m]&&(a.prototype[m]=k[m]);"undefined"==typeof a.prototype.base&&(a.prototype.base=b);!0===f&&(a.prototype.constructor=function(){b.prototype.constructor.apply(this,arguments);k.constructor.apply(this,arguments)})},apply:function(a,b){if(a&&b&&"object"===typeof b)for(var f in b)a[f]=b[f];return a},isEmpty:function(a){return a instanceof gx.date.gxdate?0==(new gx.date.gxdate("")).compare(a):
"number"==typeof a?0==a:"undefined"!=typeof gx.num.dec&&a instanceof gx.num.dec.bigDecimal?gx.num.compare(a,0):""==a},instanceOf:function(a,b){if(null==a||null==b)return!1;if(a instanceof b||b==String&&"string"==typeof a||b==Number&&("number"==typeof a||"undefined"!=typeof gx.num.dec&&a instanceof gx.num.dec.bigDecimal)||b==Array&&"array"==typeof a||b==Function&&"function"==typeof a)return!0;if("string"==typeof a||"number"==typeof a||"array"==typeof a)return!1;for(a=a.base;"undefined"!=typeof a;){if(a==
b)return!0;a=a.base}return!1},clone:function(a){var b={},f;for(f in a)b[f]=a[f];return b},cloneDeep:function(a){return JSON.parse(JSON.stringify(a))},isDateType:function(a){return"date"==a||"dtime"==a},isNumericType:function(a){return"int"==a||"decimal"==a},isBooleanType:function(a){return"boolean"==a||"bool"==a},isFixedCharacterType:function(a){return"char"==a||"bits"==a},isCharacterType:function(a){return"char"==a||"svchar"==a||"bits"==a},isArray:function(a){return a&&"number"==typeof a.length&&
"function"==typeof a.splice},booleanValue:function(a){return 1==a||0==a?a:"string"==typeof a&&"true"==a.toLowerCase()?!0:!1},gxBoolean:function(a){if("undefined"==typeof a)return!1;if("boolean"==typeof a)return a;if("number"==typeof a){if(0==a)return!1}else if("string"==typeof a&&(""==a||"false"==a.toLowerCase()||"0"==a.replace(/^ */,"").replace(/ *$/,"")))return!1;return!0},emptyNum:function(a){return a&&0===a||!a},emptyObj:function(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},
emptyObject:function(a){return void 0===a||null==a||""==a||"number"==typeof a&&isNaN(a)?!0:!1},supEval:function(a,b){var f=null;f=b instanceof String||"string"==typeof b?a[b]:b;return function(){return f.apply(a,arguments)}},getType:function(a){var b=null;try{for(var f=0,k=a.split("."),m=k.length;null===b&&f<m;)b=this.getTypeImpl(window,k,f++,m)}catch(q){gx.dbg.logEx(q,"gxapi.js","getType")}return b},getTypeImpl:function(a,b,f,k){var m=null;for(i=f;i<k;i++)if(a[b[i]])a=a[b[i]];else break;i===k&&a&&
"function"===typeof a&&(m=a);return m},doEval:function(a,b){b=b||window;return b.execScript?b.execScript(a):eval.call?eval.call(b,a):eval(a)},doCall:function(){try{for(var a=arguments[0],b=[],f=arguments.length,k=1;k<f;k++)b.push(arguments[k]);return a.apply(this,b)}catch(m){gx.dbg.logEx(m,"gxapi.js","doCall")}},doExecTimeout:function(a){clearTimeout(a.t);a.f.call()},doCallTimeout:function(a,b,f,k){a=a.closure(b,f);k=setTimeout(a,k);return{f:a,t:k}},requestAnimationFrame:function(a,b){a=b?a.closure(b):
a;window.requestAnimationFrame?window.requestAnimationFrame(a):window.setTimeout(a,10)},htmlDecode:function(){var a=document.createElement("div");return function(b){b&&"string"===typeof b&&(b=escape(b).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),a.innerHTML=b,b=l(a).text(),l(a).text(""));return unescape(b)}}(),arrayUnique:function(a,b){a=a.concat();for(var f=0;f<a.length;++f)for(var k=f+1;k<a.length;++k)(b&&b(a[f],a[k])||a[f]===a[k])&&a.splice(k--,1);return a},objToArray:function(){var a=
function(b){return[b]};return function(b){return l.map(b,a)}}()},cache:function(){var a=!1;return{exceptionsRegEx:!1,remoteFiles:{},inlineCode:{},isCacheable:function(b){return this.exceptionsRegEx?!!b&&-1==b.search(this.exceptionsRegEx):!0},addRemoteFile:function(b){this.isCacheable(b)&&(b=gx.util.noParmsUrl(b),b=gx.util.resourceUrl(b,!0),this.remoteFiles[b]=!0)},addLoadedFile:function(b){this.isCacheable(b)&&(b=gx.util.noParmsUrl(b),b=gx.util.resourceUrl(b,!0),this.remoteFiles[b]=!0)},removeAllRemoteFiles:function(){this.remoteFiles=
{}},removeRemoteFiles:function(b){var f;if(b)for(f in this.remoteFiles)b.exec(f)&&(this.remoteFiles[f]=!1)},removeRemoteFile:function(b){b=gx.util.noParmsUrl(b);b=gx.util.resourceUrl(b,!0);this.remoteFiles[b]=!1},fileLoaded:function(b){b=gx.util.noParmsUrl(b);b=gx.util.resourceUrl(b,!0);return this.remoteFiles[b]?!0:!1},updateStyles:function(b,f){for(var k=[],m=b.length,q=0;q<m;q++){var w=b[q];if(!gx.lang.emptyObject(w)){for(var p=!1,t=f.length,z=0;z<t;z++)if(w==f[z]){p=!0;break}p||k.push(w)}}b=gx.staticDirectory;
"/"==b.charAt(0)&&(b=b.substring(1));m=k.length;for(q=0;q<m;q++)w=k[q],"/"!=w.charAt(0)&&(w=b+w),this.removeRemoteFile(w)},addInlineCode:function(b){this.inlineCode[b]=!0},deleteInlineCode:function(b){delete this.inlineCode[b]},codeLoaded:function(b){return this.inlineCode[b]?!0:!1},_init:function(){if(!a){a=!0;var b=gx.staticDirectory;"/"==b.charAt(0)&&(b=b.substring(1));for(var f=gx.dom.scripts(!0),k=f.length,m=0;m<k;m++){var q=f[m];gx.lang.emptyObject(q)||("/"==q.charAt(0)||gx.isabsoluteurl(q)||
(q=b+q),this.addRemoteFile(q))}f=gx.dom.styles();k=f.length;for(m=0;m<k;m++)q=f[m],gx.lang.emptyObject(q)||("/"==q.charAt(0)||gx.isabsoluteurl(q)||(q=b+q),this.addRemoteFile(q))}}}}(),json:{_nonSerializables:[],setNonSerializable:function(a){this.isNonSerializable(a)||this._nonSerializables.push(a)},isNonSerializable:function(a){for(var b=this._nonSerializables.length,f=0;f<b;f++)if(this._nonSerializables[f]==a)return!0;return!1},evalJSON:function(a,b){try{return window.JSON&&!b?void 0===a?a:JSON.parse(a):
eval("("+a+")")}catch(f){gx.dbg.logEx(f,"gxapi.js","evalJSON")}return a},evalValidJSON:function(a){return eval("("+a+")")},serializeSDTJson:function(a,b,f){a=gx.lang.cloneDeep(a);a=gx.O.applySDTMapping(a,b,!1);return gx.json.serializeJson(a,f)},serializeJson:function(a,b){if(b&&window.JSON)return JSON.stringify(a);var f=this.objToJson(a);if(null===f)f=this.arrayToJson(a);else return f;if(null===f){if("function"==typeof a)return null;f=[];for(var k in a)if(b||!this.isNonSerializable(k)){var m=this.objToJson(k,
!0);if(null!==m){var q=this.serializeJson(a[k]);"string"==typeof q&&f.push(m+":"+q)}}return"{"+f.join(",")+"}"}return f},objToJson:function(a,b){var f=typeof a;if(b){if(!gx.lang.emptyObject(a)){if("string"==f)return gx.text.escapeString(a);if("number"==f)return'"'+a+'"';if("undefined"!=typeof gx.num.dec&&a instanceof gx.num.dec.bigDecimal)return'"'+a.toString()+'"'}}else{if("undefined"==f)return"null";if("string"==f)return gx.text.escapeString(a);if("number"==f||"boolean"==f)return a.toString();if("undefined"!=
typeof gx.num.dec&&a instanceof gx.num.dec.bigDecimal)return'"'+a.toString()+'"';if(null===a)return"null";if("function"==typeof a.json&&(b=a.json(),a!==b))return this.serializeJson(b)}return null},arrayToJson:function(a){if(Array.isArray(a)){for(var b=[],f=a.length,k=0;k<f;k++){var m=this.serializeJson(a[k]);"string"!=typeof m&&(m="undefined");b.push(m)}return"["+b.join(",")+"]"}return null},SDTFromJson:function(a,b,f,k){(f=gx.json.objFromJson(a,f,k))&&gx.O.applySDTMapping(a,b,!0);return f},objFromJson:function(a,
b,f){try{var k=this.evalValidJSON(b);if(Array.isArray(a)&&Array.isArray(k))for(;a.length>k.length;)a.shift();else for(var m in a)"function"!=typeof a[m]&&delete a[m];for(m in k)a[m]=k[m];return!0}catch(q){return gx.dbg.logEx(q,"gxapi.js","objFromJson"),f&&f.push({Id:"FromJson Error",Description:gx.dbg.exTxt(q),Type:0}),!1}}},dbg:{lastTime:0,enabled:!1,performance:!1,dbgWin:null,outputFunc:null,hshTimes:null,performanceLog:[],_init:function(){this.hshTimes=[];this.hshTimes.onload=(new Date).getTime()}},
stackId:function(a){return"stack_"+gx.util.getWindowInfo().frameId+a},stackSupported:function(){return(gx.evt.clinav||"true"==gx.fn.getHidden("GX_CLI_NAV"))&&gx.call_stack_storage.supported},csv:{},http:{currentUrl:function(){return""+location.origin+location.pathname},loadScript:function(a,b,f){var k=b,m=!1,q;if("string"!==typeof a){var w=a.callback;m=a.isExternal;var p=a.attris;a=a.url;k=function(){w&&w();b()}}var t=gx.dom.byTag("head")[0],z=l("script[src='"+a+"']"),r=!0;if(0<z.length&&!f)if(m)z.remove();
else{var u=z.get(0);r=!1}f=function(x){var E=function(){x();u.removeAttribute("data-gx-loading-script")};"function"==typeof x&&(u.addEventListener?gx.evt.attach(u,["load","error"],E,{userCapture:!1}):u.onreadystatechange=function(){"loaded"!=u.readyState&&"complete"!=u.readyState||E()})};if(u)null!==u.getAttribute("data-gx-loading-script")?f(k):k();else{u=document.createElement("script");u.type="text/javascript";u.src=a;if(p)for(q in p)p.hasOwnProperty(q)&&u.setAttribute(q,p[q]);k&&u.setAttribute("async",
"");m&&u.setAttribute("data-gx-external-script","");f(k);r&&(t.appendChild(u),u.setAttribute("data-gx-loading-script",""))}}},storage:function(a){this._store=window.sessionStorage;this._prefix=a;this.supported=!1;this.set_string=function(b,f){this.supported&&(this._store[this._prefix+b]=f)};this.get_string=function(b){return this.supported?this._store[this._prefix+b]:null};this.set=function(b,f){this.set_string(b,gx.json.serializeJson(f))};this.get=function(b){return(b=this.get_string(b))?gx.json.evalJSON(b):
null};this.remove=function(b){this.supported&&this._store.removeItem(this._prefix+b)};if("undefined"!=typeof window.sessionStorage)try{window.sessionStorage.setItem("storage.test",!0),window.sessionStorage.removeItem("storage.test"),this.supported=!0}catch(b){gx.http.setCookie("GXLocalStorageSupport","false",1,!1)}},_setBasePath:function(){for(var a=gx.dom.scripts(),b=null,f=0,k=a.length;f<k;f++)if(0<=a[f].indexOf("gxgral.js")||0<=a[f].indexOf("gxcore.js")||0<=a[f].indexOf("gxapiSD.js")){b=a[f];break}var m=
"";a="";if(!gx.isRelativeToHost(b)||gx.isabsoluteurl(b))f=location.pathname.lastIndexOf("/"),m=1<f?location.pathname.substring(1,f):"";else{b=b.split("/");var q=location.pathname.split("/");b.splice(b.length-1,1);q.splice(q.length-1,1);f=0;for(k=q.length;f<k;f++)if(q[f]==b[f])m=m+(""==m?"":"/")+q[f];else if(gx.gen.isJava()&&"servlet"==q[f])a=q[f];else break}gx.basePath=m;gx.servletBasePath=a},objectLoad:function(a,b){var f=l.Deferred();if(!gx.evt.execLoad)return f.resolve(),f.promise();var k=function(){gx.sec.loadKey();
void 0===gx.runtimeTemplates&&(gx.runtimeTemplates=0<l("div[data-abstract-form]").length);var m=!0;gx.setTheme();gx.html.applyCustomHTMLAttributes();gx.fx.obs.addObserver("webcom.render",this,function(q){if(q=q.getContainer()){gx.setTheme(q);gx.html.applyCustomHTMLAttributes(q);var w=function(){"undefined"!=typeof gx.pendingCmps&&(--gx.pendingCmps,0===gx.pendingCmps&&gx.fx.obs.notify("webcom.all_rendered"))};m||(gx.pendingCmps=gx.pendingCmps||0,gx.pendingCmps+=1,gx.plugdesign.applyTemplateObject({selector:"#"+
q.id,observerKey:q.id,deferred:!0}).then(w))}});gx.fx.obs.addObserver("grid.onafterrender",this,function(q,w){w||gx.dom.fixes.fixTableResets(q.container)});delete gx.evt.redirecting;gx.ajax._init();gx.grid._init();gx.evt.attach(window,"pagehide",gx.evt.onunload);gx.fn.setFocusInit();gx.dom.fixes.createLegacyNotification();gx.cache._init();gx.fn.installComponents(!0,b);gx.http.loadStyles();a&&gx.fn.loadJsonGrids(a,!1);gx.plugdesign.init().done(function(){if("undefined"!=typeof gx.StorageTimeZone&&
gx.StorageTimeZone!=gx.NULL_TIMEZONEOFFSET){var q=jstz.determine().name();!gx.lang.emptyObject(q)&&gx.http.getCookie("GxTZOffset")!=q&&gx.http.setCookie("GxTZOffset",q,365,!1,"/")&&gx.config.timezone.reload&&gx.http.reload()}gx.evt.attach(window,"load",gx.http.applyDeferredStyles);gx.fn.objectOnload();gx.goReady(function(){gx.evt.setReady(!0,"goReady")});document.gxReadyState="complete";gx.util.autoRefresh.install();gx.fn.setOpacity("reset","body");gx.fx.obs.notify("gx.onload");l(document).ready(function(w){gx.dom.indexElements()});
gx.evt.userOnload();gx.fn.setFocusOnload();gx.fx.delayedSuggest();gx.http.doCommands();m=!1;f.resolve()})};gx.popup?gx.goInteractive():gx.http.loadScript(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"gxi.js",!1),function(){gx.goInteractive()});gx.wpo(function(){k()});return f.promise()},objectUnload:function(a){gx.fx.obs.notify("gx.onunload");gx.http.saveState(!0);gx.evt.clearHooks();gx.fx.notifications.deinit();gx.fx.obs.removeAll();gx.util.autoRefresh.destroy();gx.fn.objectOnUnload(a);gx.plugdesign.deinit();
gx._deinit();l(document).off("keypress keyup");gx.evt.detach(document,"keydown",gx.evt.onkeypress_hdlr);gx.fn.clearPromptlisteners();gx.evt.userReadyCnt=0},_init_interactive:function(){gx.evt.dispatcher.initialize();gx.base64._init();gx.sec._init();gx.geolocation._init();gx.popup._init();gx.livePrevWS._init()},_init:function(){gx.wi(gx._init_interactive,gx);gx.lang.apply(this,{oldValues:[],oldKeyValues:[],newRows:[],suggestControls:{},disabledControls:[],usrPtys:[],usrFocusControl:"",currentRows:[],
attachedControls:[],theme:""});gx.dbg._init();gx.dom._init();gx.util._init();gx.evt._init();gx._setBasePath();gx.date._init();gx.html.controls._init();gx.call_stack_storage=new gx.storage("gx_call_stack")},_deinit:function(){if(gx.popup.ispopup()&&gx.evt.execLoad||gx.dom.shouldPurge()){gx.dom.purgeElement(document.body);gx.dom.purgeElement(gx.dom.form());for(var a=["onblur","onclick","onfocus","onchange"],b=gx.fn.getFormElements(),f=0,k=b.length;f<k;f++)gx.dom.purgeElement(b[f],a);b=gx.dom.byTag("span");
f=0;for(k=b.length;f<k;f++)gx.dom.purgeElement(b[f],a);b=gx.dom.byTag("img");f=0;for(k=b.length;f<k;f++)gx.dom.purgeElement(b[f],a)}gx.dom._deinit();gx.csv._deinit();gx.evt._deinit();gx.grid._deinit();gx.printing._deinit();gx.core.audio._deinit();gx.O=null;gx.pO=null},reinit:function(a){gx.pO.clean(a);gx.objectUnload(a);gx._init()}}}(jQuery);gx.$.extend(gx.dbg,gxdbg);Object.defineProperty(gx.evt,"userReady",{get:function(){return gx._isReadyUI()}});
gx.plugdesign=function(l){var c={},d=!1,g,a,b=1,f={},k={},m=function(w,p){return function(t){var z=w[t.property],r;z&&(r=z[t.control.id]);!r&&z&&(r=z[t.control.name]);r&&(z=!0===r.fn.call(r.template,t.control,t.value),p&&(t.cancel=z))}},q=function(w,p){p=p||{};!0===p.deferred&&window.requestIdleCallback?window.requestIdleCallback(w):gx.lang.requestAnimationFrame(w)};return{init:function(){gx.plugdesign.initialized=!0;gx.fx.obs.addObserver("gx.plugdesign.onafterapplytemplate",this,gx.plugdesign.fixBootstrapGridLayout.closure(this));
gx.fx.obs.addObserver("gx.control.onbeforepropertychange",this,gx.plugdesign.onBeforePropertyChange);gx.fx.obs.addObserver("gx.control.onafterpropertychange",this,gx.plugdesign.onAfterPropertyChange);return gx.plugdesign.applyTemplateObject()},deinit:function(){gx.fx.obs.deleteObserver("gx.control.onbeforepropertychange",this,gx.plugdesign.onBeforePropertyChange);gx.fx.obs.deleteObserver("gx.control.onafterpropertychange",this,gx.plugdesign.onAfterPropertyChange);gx.plugdesign.initialized=!1;delete gx.runtimeTemplates},
onBeforePropertyChange:m(f,!0),onAfterPropertyChange:m(k,!1),registerTemplate:function(w){c[w.name]=w},unRegisterTemplate:function(w){delete c[w];gx.plugdesign.definition.templates=l.grep(gx.plugdesign.definition.templates,function(p){return p!==w})},getDOMContext:function(w,p,t,z,r,u){var x;p={};u&&(p.text=l(w).text());u=0;for(x=w.attributes.length;u<x;u++){var E=w.attributes[u];p[E.name]=E.value}p.el=w;t&&(p.outerHTML=w.outerHTML);z&&(p.innerHTML=w.innerHTML);r&&(p=r.call(this,p,w)||p);return p},
assingUserAPI:function(w,p){p.fnc_isRO=w.fnc_isRO},getElements:function(w,p,t,z){w="function"==typeof w.selector?w.selector(p?p:""):p&&!w.global?l(p).find(w.selector):l(w.selector);return t?w.not(t):w},shouldApplyOnElement:function(w,p){return"function"==typeof p.selector?this.getElements(p).is(w):l(w).is(p.selector)},applyTemplateOnElement:function(w,p,t){t=t||{};var z=l.Deferred();q(function(){if("string"==typeof w&&(w=c[w],!w)){z.resolve();return}if(!p.parentNode)return z.resolve(),!1;if(!0!==
t.checkInclusion||this.shouldApplyOnElement(p,w)){var r=gx.plugdesign.getDOMContext(p,r,w.outerHTML,w.innerHTML,w.setContext);w.apply(p,r);w.initialize&&w.initialize(r);if(w.listeners){var u=w.listeners,x;r="function"==typeof u.control?u.control(r):u.control;if(u.before)for(x in u.before)u.before.hasOwnProperty(x)&&(f[x]||(f[x]={}),f[x][r]={id:r,fn:u.before[x],template:w});if(u.after)for(x in u.after)u.after.hasOwnProperty(x)&&(k[x]||(k[x]={}),k[x][r]={id:r,fn:u.after[x],template:w})}}z.resolve()}.closure(this),
t);return z},applyTemplateSelection:function(w,p,t,z){z=z||{};var r=l.Deferred(),u=[],x="data-gx-tpl-applied-"+w.name,E=this.getElements(w,p,t,z);!0===w.onDemandInvoke||w.reDraw||(E=E.not("["+x+"]"));E.each(function(F,G){if(G)if("function"==typeof w.reDraw&&null!==G.getAttribute(x)){var n=gx.plugdesign.getDOMContext(G,n,!1,!1,w.setContext);w.reDraw(n)}else u.push(gx.plugdesign.applyTemplateOnElement(w,G,z))});l.when.apply(l,u).done(function(){w.outerHTML&&(E=this.getElements(w,p,t,z));E.attr(x,"");
r.resolve()}.closure(this));return r},applyClassMapOnElement:function(w,p){var t,z;w.initialize&&(t=gx.plugdesign.getDOMContext(p,t,!1,!1,w.setContext));if(Array.isArray(w.cssClass)){var r=0;for(z=w.cssClass.length;r<z;r++)gx.dom.addClass(p,w.cssClass[r])}else gx.dom.addClass(p,w.cssClass);w.initialize&&w.initialize(t)},applyClassSelection:function(w,p,t,z){var r=function(u){"Class"==u.property&&gx.dom.matchesSelector(u.control,w.selector)&&gx.plugdesign.applyClassMapOnElement(w,u.control)};this.getElements(w,
p,t,z).each(function(u,x){x&&(gx.plugdesign.applyClassMapOnElement(w,x),gx.plugdesign.assingUserAPI(w,x),gx.fx.obs.addObserver("gx.control.onafterpropertychange",this,r,{unique:!1,observerKey:z.observerKey}))})},controlValueChanged:function(w,p){w&&gx.lang.requestAnimationFrame(function(){gx.fx.obs.notify("gx.control.onafterpropertychange",[{control:w,property:"Value",value:p}])})},applyControlValue:function(w,p){gx.fn.setControlValue(w.id,p);gx.html.onchange(w,p)},applyTemplates:function(w,p,t,z,
r){r=r||{};var u=l.Deferred();if(0===w.length)return u.resolve();w=l.map(w,function(x){var E=l.Deferred();"string"==typeof x?x=c[x]:(x.name=x.name||"auto-generated-"+b++,x=new gx.plugdesign.Template(x));if(!z||"function"==typeof z&&z(x)){var F=function(){gx.plugdesign.applyTemplateSelection(x,p,t,r).done(function(){E.resolve()})};!0===r.deferred?q(F):(F(),E.resolve())}else E.resolve();return E});!0===r.deferred?l.when.apply(l,w).done(function(){u.resolve()}):u.resolve();return u},applyClassMaps:function(w,
p,t,z,r){var u=l.Deferred(),x=function(F,G){gx.plugdesign.applyClassSelection(G,p,t,r)},E=function(){w=l.grep(w,z||gx.trueFn);l.each(w,x);u.resolve()};!0===r.deferred?q(E):E();return u},applyTemplateObject:function(w){w=w||{};var p=w.selector,t=w.excluded,z=w.templateSelector,r=w.classMapSelector,u=l.Deferred(),x=l.Deferred();z=z||function(y){return!0!==y.onDemandInvoke};if(!gx.runtimeTemplates||!gx.plugdesign.initialized)return u.resolve().promise();if(d){var E=this.applyTemplates(g,p,t,z,w);var F=
this.applyClassMaps(a,p,t,r,w);u.resolve()}else{var G=gx.plugdesign.definition;G.css&&l.each(G.css,function(y,B){gx.http.loadStyle(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+B+"?"+gx.gxBuild,!1),!1,!0)});var n=[];G.js&&l.each(G.js,function(y,B){n.push(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+B+"?"+gx.gxBuild,!1))});var v=jQuery;jQuery=gx.$;gx.http.loadScripts(n,function(){d=!0;g=G.templates||[];a=G.class_maps||[];E=this.applyTemplates(g,p,t,z,w);F=this.applyClassMaps(a,p,t,void 0,
w);jQuery=v;u.resolve()}.closure(this))}l.when.apply(l,[u,E,F]).done(function(){gx.fx.obs.notify("gx.plugdesign.onafterapplytemplate",[w]);x.resolve()});return x.promise()},fixBootstrapGridLayout:function(){0===l(".container-fluid, .container").length&&l(".row").first().parent().toggleClass("container-fluid",!0)},Template:function(){var w=function(p){var t,z=[];p=p||{};if(p.name){if(p.selector){if(p.listeners){var r=p.listeners;if(!r.control&&(r.before||r.after)){gx.dbg.write("If a visible or enabled handler is specified, a control must be specified too",
!0);return}}this.preProcessTemplate=function(){var u=this.template,x=/\{\{\$(\w+)\$\}\}/g,E,F=0;for(z=[];null!==(E=x.exec(u));)z[F]=E[1],u=u.replace(E[0],'<span id="hook_'+F+'"></span>'),F++;return u};this.postProcessTemplate=function(u){var x;if(z){var E=0;for(x=z.length;E<x;E++){var F=u[z[E]];var G=l("#hook_"+E);F&&G.after(F);G.remove()}}};this.apply=function(u,x){var E=gx.util.browser.isIE(),F=!1;!t&&this.template&&(t=this.preProcessTemplate(),Mustache.parse(t));if(t){var G=Mustache.render(t,x);
if("inner"==this.applyTo){if(E)for(;u.firstChild;)u.removeChild(u.firstChild);u.innerHTML=G}else F=u===document.activeElement,u.parentNode&&!E?u.outerHTML=G:l(u).replaceWith(G);this.postProcessTemplate(x);F&&gx.fn.setFocus(u)}};gx.lang.apply(this,p);return this}gx.dbg.write("A selector must be specified",!0)}else gx.dbg.write("A name must be specified",!0)};w.prototype={name:"",selector:"",template:"",applyTo:"outer",outerHTML:!1,innerHTML:!1,global:!1,onDemandInvoke:!1,setContext:gx.emptyFn,initialize:gx.emptyFn,
listeners:{}};return w}()}}(gx.$);
gx.plugdesign.definition={css:[],js:[],templates:"labels atts-vars readonly-atts-vars checkbox radio-button prompt prompt-trigger datepicker geolocation multimedia-upload navbar navbar-textblock-link navbar-textblock-text textarea-auto-expand image usercontrol errorviewer password-atts-vars".split(" "),class_maps:[{selector:".control-group",cssClass:"form-group"},{selector:'.gx-attribute > input:not(.GeoLocOption):not([type="image"]):not([type="checkbox"]), .gx-attribute > select, .gx-attribute > textarea,.gx-attribute > .input-group > input, .gx-attribute > .input-group > select, .gx-attribute > .input-group > textarea, .gx-attribute > .dp_container input',cssClass:"form-control"},
{selector:"form",cssClass:"form-horizontal"},{selector:"div.gx-standard-grid > table",cssClass:"table-responsive",global:!0,first:!0},{selector:'.gx-button input, input[type="button"][data-gx-button], .gx-grid-paging-bar button',cssClass:["btn","btn-default"],first:!0},{selector:'.gx-navbar .gx-button input, .gx-navbar input[type="button"]',cssClass:"navbar-btn"},{selector:".BtnEnter",cssClass:"btn-primary",first:!0},{selector:".BtnDelete",cssClass:"btn-danger",first:!0},{selector:".Container",cssClass:"container",
first:!0},{selector:"#MAINTABLE_MPAGE.PromptMainTable:not(.ContainerFluid)",cssClass:"ContainerFluid"},{selector:".ContainerFluid",cssClass:"container-fluid",first:!0},{selector:".ReadonlyResponsiveImageAttribute, .ResponsiveImage",cssClass:"img-responsive",first:!0},{selector:".BtnTextBlock > a",cssClass:["btn","btn-default"],first:!0}]};
gx.html=function(l){var c=/<style[^>]*>([\s\S]*?)<\/style>/i,d=/<style[^>]*>([\s\S]*?)<\/style>/ig,g=/<style[^>]*data-gx-href="(.*)"\s*>\s*@import\s*url\("(.*)"\)\s*layer\((.*)\).*/i,a=/<link ([^>]*rel=['"]?stylesheet['"]?[^>]*)>/i,b=/<link ([^>]*rel=['"]?shortcut icon['"]?[^>]*)>/i,f=/<link ([^>]*rel=['"]?stylesheet['"]?[^>]*)>/ig,k=/<script[^>]*>[\s\S]*?(<script[^>]*>[\s\S]*?<.?\/script>)/i,m=/(<script[^>]*>\s*)\r?\n?\x3c!--\s*\r?\n?(.*)\r?\n?\s*\/\/--\x3e\s*\r?\n?(<.?\/script>)/ig,q=/<script([^>]*)>([\s\S]*?)<\/script>/i,
w=/data-gx-external-script/;HREF_ELEMENT_ATT_REGEX=/href=(['"]?)([^'">]*)\1/i;ID_ELEMENT_ATT_REGEX=/id=(['"]?)([^'">]*)\1/i;SRC_ELEMENT_ATT_REGEX_1=/src=(['"]?)([\s\S]*)\?([^"']*)\1/i;SRC_ELEMENT_ATT_REGEX_2=/src=(['"]?)([^"']*)\1/i;INPUT_GXSTATE_REGEX=/<div><input type="hidden" name="GXState" value="{.*}"><\/div>/g;INPUT_HIDDEN_REGEX=/(<input type="hidden" name="[a-zA-Z0-9]+" value="[^"]+">)/igm;STYLE_ELEMENT_HREF="data-gx-href";IMAGE_CLASS_APPLIED_ATT="data-gx-image-class";IMAGE_URI_ATT="data-gx-image-uri";
return{encodeCaseFormat:function(p,t,z){t==gx.html.controls.formats.TEXT?p=gx.html.encode(p,!1,z):t==gx.html.controls.formats.TEXT_W_SPACES&&(p=gx.html.encode(p,!0,z));return p},setGXImageCSSClass:function(p,t){var z=p.jquery?p:l(p);p=l(p)[0];(prevImageClass=z.attr(IMAGE_CLASS_APPLIED_ATT))&&z.removeClass(prevImageClass);[].concat($jscomp.arrayFromIterable(p.classList)).forEach(function(r){r.startsWith("GX_Image_")&&p.classList.remove(r)});z.addClass(t);z.attr(IMAGE_CLASS_APPLIED_ATT,t)},applyCustomHTMLAttributes:function(p){p=
p?l(p):l(document);p.find("input[data-msk-att], textarea[data-msk-att]").each(function(t,z){t=l(z);z=t.attr("data-msk-att");t.attr(z,t.attr("data-"+z))});p.find("img["+IMAGE_URI_ATT+"]").each(function(t,z){t=l(z);z=t.attr(IMAGE_URI_ATT);(z=gx.util.imageName(z))&&gx.html.setGXImageCSSClass(t,"GX_Image_"+z+"_Class")})},encode:function(p,t,z){var r=["<",">","&"],u=["&lt;","&gt;","&amp;"];t&&(r.push(" "),u.push("&nbsp;"));z&&(r.push("\n"),u.push("<br/>"),r.push("\r"),u.push(""));return gx.text.charReplace(p,
r,u)},getHidden:function(p,t){return'<input type="hidden" id="'+p+'" name="'+p+'" value="'+t+'">'},viewportWidth:function(){var p=document.documentElement;return p&&p.clientHeight?Math.max(p.clientWidth,document.body.clientWidth):document.body.clientWidth},viewportHeight:function(){var p=document.documentElement;return p&&p.clientHeight?Math.max(p.clientHeight,document.body.clientHeight)-5:document.body.clientHeight-5},cleanHtmlRefs:function(p,t){(void 0===t||t)&&(p=p.replace(d,""));p=p.replace(f,
"");for(t=[];t;)if(t=p.match(q)){var z=this.nestedScripts(t,p);0<z&&(t=new RegExp("<script([^>]*)>(([\\s\\S]*?<script[^>]*>[\\s\\S]*?<.?/script>[\\s\\S]*?){X})<.?/script>".replace("{X}","{"+z+"}"),"i"),t=p.match(t));(z=t.lastIndex)||(z=t.index+t[0].length);p=p.substring(0,t.index)+p.substring(z)}else break;return p},setOuterHtml:function(p,t){p.outerHTML=t},setInnerHtml:function(p,t,z,r,u){var x=gx.dom.styles(),E=gx.GxObject.WEBCOMPONENT_BODY_CLASS_NAME;gx.dom.shouldPurge()&&gx.dom.purge(p,!0);var F=
l(p).children("."+E).get(0);!F&&r&&(F=document.createElement("div"),gx.dom.addClass(F,E),gx.dom.addClass(F,"Form-fx"),p.appendChild(F));r&&!gx.O.DSO&&gx.pO.fullAjax&&F&&gx.dom.hasClass(F,E)&&!gx.dom.hasClass(p,"transitioning")?(p=document.createElement("div"),p.innerHTML=this.cleanHtmlRefs(t,u),gx.dom.replaceWithFx(F,p.children[0])):l(p).html(this.cleanHtmlRefs(t,u));gx.util.browser.isIE()&&gx.cache.updateStyles(x,gx.dom.styles());1==z&&this.processCode(t,!1)},setInnerText:function(p,t,z,r){var u=
l(p);null!=p.nodeValue?p.nodeValue=t:gx.util.browser.isChrome()||null==p.innerText?gx.util.browser.isFirefox()||gx.util.browser.isChrome()?u.html(gx.html.encodeCaseFormat(t,z,r)):"TEXT"==p.tagName&&null!=p.innerHTML?u.html(t):u.html("<text>"+t+"</text>"):p.innerText=t},nodesFromText:function(p){var t=document.createElement("div");t.style.visibility="hidden";t.style.display="none";document.body.appendChild(t);gx.dom.shouldPurge()&&gx.dom.purge(t,!0);t.innerHTML=p;p=[];for(var z=t.childNodes.length,
r=0;r<z;r++)p.push(t.childNodes[r].cloneNode(!0));gx.dom.removeControlSafe(t);return p},onTypeAvailable:function(p,t,z,r){try{var u=500,x=gx.gen.resolveObjClass(p);try{var E=window.eval(x)}catch(F){}(E=E||eval(x))?z instanceof Array?t.apply(this,z):t():r<u&&setTimeout(function(){gx.html.onTypeAvailable(p,t,z,r+1)},0)}catch(F){r<u&&setTimeout(function(){gx.html.onTypeAvailable(p,t,z,r+1)},150)}},processCSS:function(p){if(""!=p){var t=document.createElement("style");t.setAttribute("type","text/css");
document.getElementsByTagName("head")[0].appendChild(t);t.styleSheet?t.styleSheet.cssText=p:(p=document.createTextNode(p),t.appendChild(p))}},nestedScripts:function(p,t){p=p[0].match(k);for(var z=0;p;)t=t.replace(p[1],""),z++,p=(p=t.match(q))?p[0].match(k):null;return z},processCode:function(p,t,z,r,u,x,E){var F=p,G=[],n=!1,v=[],y=[],B=[],C="",I=[];C=[];if(""!=p){if(void 0===x||x)for(;C;){if(C=p.match(c))(x=C.lastIndex)||(x=C.index+C[0].length),p=p.substring(x);else break;B.push(C[1])}p=F;for(C=[];C;){if(C=
p.match(g))(x=C.lastIndex)||(x=C.index+C[0].length),p=p.substring(x);else break;x=C[3];var L=C[2];var M=C[1];x&&!gx.cache.fileLoaded(L)&&(gx.http.loadStyle(L,gx.emptyFn,!0,M,x),gx.cache.addRemoteFile(L))}p=F;for(C=[];C;){if(C=p.match(a))(x=C.lastIndex)||(x=C.index+C[0].length),p=p.substring(x);else break;x=C[1].match(HREF_ELEMENT_ATT_REGEX);M=C[1].match(ID_ELEMENT_ATT_REGEX);x&&!gx.cache.fileLoaded(x[2])&&(y.push({href:x[2],id:M&&2<M.length?M[2]:null}),gx.cache.addRemoteFile(x[2]))}p=F;for(C=[];C;){if(C=
p.match(b))(x=C.lastIndex)||(x=C.index+C[0].length),p=p.substring(x);else break;l("head link[rel='shortcut icon'").remove();l(document.head).append(C[0])}p=F.replace(INPUT_GXSTATE_REGEX,"");p=F;gx.util.browser.isIE()&&(p=p.replace(m,"$1$2$3"));for(C=[];C;){if(C=p.match(q))F=this.nestedScripts(C,p),0<F&&(C=new RegExp("<script([^>]*)>(([\\s\\S]*?<script[^>]*>[\\s\\S]*?<.?/script>[\\s\\S]*?){X})<.?/script>".replace("{X}","{"+F+"}"),"i"),C=p.match(C)),(x=C.lastIndex)||(x=C.index+C[0].length),p=p.substring(x);
else break;void 0!=C[1]&&""!=C[1]?(x=C[1].match(SRC_ELEMENT_ATT_REGEX_1),F=!!C[1].match(w),null==x&&(x=C[1].match(SRC_ELEMENT_ATT_REGEX_2)),x&&!gx.cache.fileLoaded(x[2])?(L=x[2],gx.lang.emptyObject(x[3])||(L+="?"+x[3]),G.push({url:L,isExternal:F,callback:F?void 0:function(R,P){return function(){gx.cache.addRemoteFile(R)}}(x[2],F)})):x&&gx.cache.fileLoaded(x[2])?n=!0:!x&&C[2]&&v.push(C[2])):C[2]&&v.push(C[2])}if(1!=t){C=v.join(";");""!=C&&gx.lang.doEval(C);if("function"==typeof z)gx.http.loadScripts(G,
function(R,P){P instanceof Array?R.apply(this,P):R()}.closure(this,[z,r]),void 0,E);else{t={method:"GET",useCash:!0};t.load=function(R,P){gx.lang.supEval(this,I.push(P))}.closure(this);t.mimetype="text/plain";t.sync=!0;var N=G.length;for(p=0;p<N;p++)t.url=G[p].url,gx.http.doCall(t)}C=I.join("");""!=C&&gx.lang.doEval(C);G=document.getElementsByTagName("style");scrQty=y.length;for(p=0;p<scrQty;p++){t=!1;E=G.length;for(v=0;v<E;v++)G[p]&&y[p].href==(G[v].styleSheet&&G[v].styleSheet.cssText?G[v].styleSheet.cssText:
G[v].innerHTML)&&(t=!0);t||((t=gx.dom.byId(y[p].id))?t.href=y[p].href:gx.http.loadStyle(y[p].href,gx.emptyFn,!1,y[p].id))}C=B.join("");gx.html.processCSS(C);if(0==N&&"function"==typeof z)if(n&&u)gx.html.onTypeAvailable(u,z,r,0);else r instanceof Array?z.apply(this,r):z()}}},getFieldLabel:function(p,t){var z=p.id,r=p.previousSibling;if(r&&"LABEL"===r.tagName&&r.htmlFor===z)labelEl=r;else{if("INPUT"==p.tagName||"SELECT"==p.tagName||"TEXTAREA"==p.tagName)var u=p.id;else"SPAN"==p.tagName?(u=l(p).attr("data-gx-enabled-id"))||
0!==z.indexOf("span_")||(u=z.substring(5)):gx.dom.hasClass(p,gx.uc.gxCssClass)&&(u=gx.uc.CtrlId(p.id));gx.dom.hasClass(p,gx.html.multimediaUpload.gxCssClass)&&(u=gx.html.multimediaUpload.CtrlId(p.id));if(u)return l("label[for='"+u+"']",t).get(0)}},multimediaUpload:{gxPreviewHTMLAtt:"data-gx-preview-image",gxCssClass:"gx-multimedia-upload",setPreviewAtt:function(p,t){(p="Object"===typeof p?p:gx.dom.el(p))&&p.setAttribute(gx.html.multimediaUpload.gxPreviewHTMLAtt,t)},getPreviewAtt:function(p){return(p=
"Object"===typeof p?p:gx.dom.el(p))?p.getAttribute(gx.html.multimediaUpload.gxPreviewHTMLAtt):""},getInputFileEl:function(p){return l("#"+p+"[type='file']")[0]},CtrlId:function(p){return p.replace(/_ct$/,"")},resolveFileName:function(p,t){return p||t||""},onOptionChange:function(p){p=this.getElements(p);var t=p.fileField,z=p.uriField;p.uriOption.checked?(gx.dom.removeClass(t,"field-selected"),gx.dom.addClass(z,"field-selected")):(gx.dom.removeClass(z,"field-selected"),gx.dom.addClass(t,"field-selected"))},
imageLoadHandler:function(p,t){var z=function(u){var x="IMG"==u.tagName?"src":"href";return!u[x]||u[x]==document.location.href||"/"==u[x].charAt(u[x].length-1)};gx.dom.removeClass(t,"gx-multimedia-unknown");gx.dom.removeClass(t,"gx-multimedia-download");!p||z(p)?gx.dom.addClass(t,"gx-multimedia-empty"):gx.dom.removeClass(t,"gx-multimedia-empty");z(p)&&t&&!z(t)&&(gx.dom.removeClass(t,"gx-multimedia-empty"),("IMG"!==p.tagName||z(p))&&gx.dom.addClass(t,"gx-multimedia-download"));if(gx.util.browser.isIE()&&
p&&"IMG"==p.tagName){t=l(p);z=parseInt(t.css("maxWidth"));var r=parseInt(t.css("maxHeight"));z<p.width&&(t.css("height",gx.dom.addUnits(z*p.height/p.width)),t.css("width",gx.dom.addUnits(z)));r<p.height&&(t.css("width",gx.dom.addUnits(r*p.width/p.height)),t.css("height",gx.dom.addUnits(r)))}},dialogCloseHandler:function(p,t,z){z=this.getElements(p);t.style.display="none";p.appendChild(t);z.uriOption.checked?this.refreshPreviewImg(p,z.uriField):this.refreshPreviewImg(p,z.fileField);z.action.focus();
gx.fx.obs.deleteObserver("gx.keypress",this,this.keypressHandler)},prevImgClickHandler:function(p,t){p=p||event;var z=gx.evt.source(p);0<l(z).closest(".gx-multimedia-empty").length&&this.actionClickHandler(p,t)},actionClickHandler:function(p,t){var z=gx.html.multimediaUpload.isModal;p=p||event;p.preventDefault?p.preventDefault():p.returnValue=!1;p=this.getElements(t);var r=p.button[1];p.fieldsCt.style.display="block";var u=130,x=500,E=!0;gx.util.browser.isIE()&&gx.util.browser.isCompatMode()&&(t.style.position=
"static",p.fileField.style.marginTop="0",p.uriField.style.marginTop="0",u=230);gx.runtimeTemplates&&(E=!1,l(window).width()<x&&(x=l(window).width()-20,u=170));t=gx.popup.openDialog({parentElement:t,w:x,h:u,contentHtml:p.fieldsCt,title:"",showParentPopups:!1,showCloseButton:!0,resizable:E,isModal:void 0===z||z,callbacks:{beforeClose:this.dialogCloseHandler.closure(this,[t,p.fieldsCt,r])}});p.fileOption.focus();gx.evt.attach(r,"click",t.close,t,{single:!0});gx.fx.obs.addObserver("gx.keypress",this,
this.keypressHandler)},clearActionHandler:function(p,t){p=p||event;p.preventDefault?p.preventDefault():p.returnValue=!1;p=this.getElements(t);p.uriField.value="";p.fileField.value="";p.uriOption.checked=!1;p.fileOption.checked=!0;gx.fx.obs.notify("gx.multimedia.clear",[t]);this.clearPreviewImg(t);this.imageLoadHandler(p.previewImg,p.previewLink)},keypressHandler:function(p){13==p.event.keyCode&&(p.cancel=!0,gx.popup.currentPopup.close())},tapHandler:function(p){this.getElements(p).action.focus()},
getElements:function(p){p=gx.dom.byId(p);var t=l(p);p=t.find(".change-action")[0];var z=t.find(".clear-action")[0],r=null,u=l(z).next()[0];t=t.find(".fields-ct");u&&("A"==u.tagName?(r=u,u=u.firstChild):"IMG"!=u.tagName&&(u=null));return{previewLink:r,action:p,clearAction:z,previewImg:u,fieldsCt:t[0],uriField:t.find("input[type='text']")[0],fileField:t.find("input[type='file']")[0],uriOption:t.find("input[type='radio'][value='uri']")[0],fileOption:t.find("input[type='radio'][value='file']")[0],button:t.find("input[type='button']")}},
getContainer:function(p){for(p=gx.dom.byId(p);p;){if(gx.dom.hasClass(p,gx.html.multimediaUpload.gxCssClass))return p;p=p.parentNode}return null},setPreviewImage:function(p,t){p=gx.dom.byId(p);var z=this.getElements(p);0>gx.util.Url.parseWithAnchor(t).protocol.search(/^https?:/)&&z.uriOption.checked||(this.clearPreviewImg(p),z.previewImg&&gx.text.startsWith(gx.util.getContentTypeFromExt(t),"image")&&("IMG"==z.previewImg.tagName&&(z.previewImg.src=t),this.imageLoadHandler(z.previewImg,z.previewLink)))},
setPreviewLink:function(p,t){p=gx.dom.byId(p);p=this.getElements(p);p.previewLink&&t&&p.previewLink&&(p.previewLink.href=t);this.imageLoadHandler(p.previewImg,p.previewLink)},clearPreviewImg:function(p){p=gx.dom.byId(p);(p=this.getElements(p))&&p.previewImg&&p.previewLink&&(p.previewImg.src="",p.previewLink.href="")},refreshPreviewImg:function(p,t){p=gx.dom.byId(p);var z=this.getElements(p);if(z.previewImg&&"INPUT"==t.tagName){this.setPreviewAtt(p,"");if(t==z.fileField){var r;if(t.files&&(r=t.files[0]))if(r.type.match(/image.*/)){var u=
new FileReader;u.onload=function(x,E,F){E.src=x.target.result;F.href=x.target.result;this.setPreviewAtt(p,x.target.result)}.closure(this,[z.previewImg,z.previewLink],!0);u.readAsDataURL(r)}else{z.previewLink.href="#";z.previewLink.className="gx-multimedia-download";this.clearPreviewImg(p);return}t.gxctrldeleted&&this.clearPreviewImg(p)}else t==z.uriField&&(z.previewImg.src=t.value,z.previewLink.href=t.value);this.imageLoadHandler(z.previewImg,z.previewLink)}},setType:function(p,t){p=gx.dom.byId(p);
var z=this.getElements(p);z.fileOption.checked=t;z.uriOption.checked=!t;t&&(z.uriField.value="");this.onOptionChange(p)},getOptionValue:function(p){p=gx.dom.byId(p);return this.getElements(p).fileOption.checked?"file":"uri"},createControl:function(p){p=gx.dom.byId(p);if(!p._created){p._created=!0;var t=this.getElements(p);gx.dom.addClass(t.fileField,"field-selected");t.action.setAttribute("gxfocusable","1");var z=document.createElement("input");z.type="button";z.className="BtnCancel";z.value=gx.getMessage("GXM_cancel");
z.onclick=function(){gx.fn.closeWindow([])};t.fieldsCt.appendChild(z);z=document.createElement("input");z.type="button";z.className="BtnEnter";z.value=gx.getMessage("GXM_uploadconfirmoption");t.fieldsCt.appendChild(z);z=this.imageLoadHandler.closure(this,[t.previewImg,t.previewLink]);var r=this.onOptionChange.closure(this,[p]);z();t.previewImg&&gx.evt.attach(t.previewImg,"load",z);r();gx.evt.attach(t.uriOption,"click",r);gx.evt.attach(t.fileOption,"click",r);gx.evt.attach(t.action,"click",this.actionClickHandler.closure(this,
[p],!0));gx.evt.attach(t.previewImg.parentNode,"click",this.prevImgClickHandler.closure(this,[p],!0));gx.evt.attach(t.clearAction,"click",this.clearActionHandler.closure(this,[p],!0));gx.evt.attach(p,"touchstart",this.tapHandler.closure(this,[p]))}}},controls:function(){var p={},t={label:'<label class="gx-label {{className}} control-label" {{{additionalAtts}}} for="{{relatedElement}}">{{caption}}</label>',radio:['<span class="{{className}}" style="{{style}}">',"{{#values}}",'<label for="{{itemId}}"><input type="radio" id="{{itemId}}" name="{{id}}" value="{{itemValue}}" title="{{title}}"data-gxoch0="{{data-gxoch0}}"{{#isSelected}} checked{{/isSelected}}{{#isDisabled}} disabled{{/isDisabled}}{{{extraAttributes}}}>{{itemDesc}}</label>',
"{{/values}}","</span>"]},z=function(u,x){var E=gx.lang.isArray(t[u])?t[u].join(""):t[u];p[u]||(p[u]=!0,Mustache.parse(E));return Mustache.render(E,x)},r=/"/g;return{applyTemplate:z,types:{singleLineEdit:1,multipleLineEdit:2,blob:3,radio:4,comboBox:5,listBox:6,checkBox:7,image:8,textBlock:9,button:10,grid:11,userControl:12,userControlContainer:13,webComponent:14,embeddedPage:15,table:16,row:17,cell:18,group:19,multimedia:20,video:21,audio:22,div:23,responsiveRow:24,responsiveCell:25,label:26,divEnd:27,
formGroup:28,formGroupEnd:29},formats:{TEXT:0,HTML:1,RAW_HTML:2,TEXT_W_SPACES:3},isMultiSelection:function(u){return"combo"==u||"dyncombo"==u||"listbx"==u||"dynlistbx"==u?!0:!1},eventJSCode:function(u,x,E,F,G){var n="";if(4==u&&E)n=E;else if(1==u)n="gx.fn.closeWindow();";else if(7==u)u="",F&&G&&(u=",'"+F.gridName+"','"+G.gxId+"'"),n="gx.evt.execCliEvt( "+x+u+",this);";else if(6==u||5==u)n="gx.evt.execEvt("+x+",this,"+F.gridId+");";return n},onJsEventAttributes:function(u,x,E){var F=gx.GxObject,G=
" "+F.GX_EVENT_DATA_ATTR+'="'+u+'"';scriptAttribute="";4===u&&(scriptAttribute=" "+F.GX_EVENT_CODE_DATA_ATTR+'="'+u+'"');E?G=x?G+(" "+F.GX_EVENT_CONDITION_DATA_ATTR+'="'+E+'"'+scriptAttribute):G+scriptAttribute:x&&(G+=scriptAttribute);return G+" "},startAnchor:function(u,x,E,F,G,n){n=n?' class="'+n+'"':"";u=this.onJsEventAttributes(u,x,E);if(E||x)return'<a href="javascript:void(0)"'+u+n+">";if(F){var v="";x=F.replace(/(\\")/ig,"\\u0022");v+='<a href="'+x+'"';""!=G&&(v+=' target="'+G+'"');v+=n+">"}return v},
endAnchor:function(u,x,E,F){(x||E||F)&&u.append("</a>")},onJSEvent_impl:function(u,x,E){var F=[];""!=E&&F.push('jsevent="'+E+'" ');F.push(u+'="if( ');""!=x?F.push("gx.evt.jsEvent(this)) {"+x+'} else return false;"'):F.push('!gx.evt.jsEvent(this)) return false;"');return F.join("")},onJSEvent:function(u,x,E,F){u.append(" ");u.append(this.onJSEvent_impl(x,E,F))},htmlControl:function(u,x,E,F,G){this.id=u||"";this.width=x||0;this.widthUnit="px";this.height=E||0;this.heightUnit="px";this.cssClass=F||"";
this.style=this.ownCssClass=this.roClass="";this.title=G||"";this.value="";this.type=-1;this.dataType="";this.enabled=this.visible=!0;this.rtEnabled=!1;this.jsEvent=this.linkTarget=this.link="";this.hasJsLink=!1;this.extraAttributes="";this.column=this.row=this.grid=null;this.gridRow=this.gridId="";this.buffer=new gx.text.stringBuffer;this.getHtml=function(){this.buffer.clear();this._getHtml();return this.buffer.toString()};this.append=function(n){return this.buffer.append(n)};this.tagAtt=function(n,
v){v=v.toString();v=0<=v.indexOf('"')?v.replace(r,"&quot;"):v;return this.buffer.append(" "+n+(v?'="'+v+'"':""))};this.persistValue=function(){var n=this.getVStruct();!gx.lang.emptyNum(this.column.gxId)&&n&&(this._persistValue?this._persistValue():n.v2v&&n.v2v(this.value))};this.setIndividualProp=function(n,v){this[n]="enabled"==n||"visible"==n||"isPassword"==n||"autoComplete"==n||"hasJsLink"==n?gx.lang.gxBoolean(v):v};this.setGridData=function(n){this.grid=n.grid;this.row=n.row;this.gridId=n.gridId;
this.gridRow=n.gridRow};this.getGridData=function(){return{grid:this.grid,row:this.row,gridId:this.gridId,gridRow:this.gridRow}};this.getVStruct=function(){return this.grid.parentObject.GXValidFnc[this.column.gxId]};this.getEventContext=function(){var n=this.grid.parentObject;return gx.json.serializeJson([n.CmpContext,n.IsMasterPage])}},singleLineEdit:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.singleLineEdit;this.maxLength="";this.isPassword=!1;this.setProperties=function(n,
v,y,B,C,I,L,M,N,R,P,X,W,aa,ba,ha,ia,la,oa,na,da,ea,pa,A,D,J,H,K,O,Q,S,U,Z,T,Y,V,fa){this.id=n;this.inputType=oa;this.step=na;this.title=L;this.placeholder=M;this.width=da;this.widthUnit=ea;this.height=17==pa?0:pa;this.heightUnit=A;this.maxLength=D;this.visible=0!=ha;this.enabled=0!=ia;this.rtEnabled=0!=la;this.isPassword=0!=J;this.format=H;this.link=C;this.linkTarget=I;this.style=X;this.cssClass=P;this.roClass=W;this.columnClass=aa;this.columnHeaderClass=ba;this.vStruct=gx.O.getValidStructFld(this.column.htmlName);
Y&&(this.rtEnabled||this.enabled)&&(v=fa);this.formattedValue=""===fa?"":gx.lang.emptyObject(v)?gx.applyPicture(this.vStruct,gx.html.encodeCaseFormat(fa||"",H)):gx.html.encodeCaseFormat(v,H);this.extraAttributes=y;this.jsScrCode=R;this.usrOnclick=N;this.eventName=B;this.parentId=K;this.hasTheme=O;this.autoComplete=0!=Q;this.autoCorrection=0!=S;this.value=fa||"";this.domainName=Z;this.rtPicture=V};this._getHtml=function(){var n="",v=this.getVStruct();0==this.width&&(this.width=this.colSize?this.colSize:
this.maxLength,this.widthUnit="chr");0<this.width&&("chr"==this.widthUnit?n=' size="'+this.width+'"':this.style=this.style+";width: "+this.width+this.widthUnit+";");0<this.height&&"row"!=this.heightUnit&&(this.style=this.style+";height: "+this.height+this.heightUnit+";");var y=this.style;this.style+=this.visible?"":";display:none;";if(this.rtEnabled||this.enabled){if(this.dataType==gx.types.date||this.dataType==gx.types.dateTime)this.append("<div"),this.tagAtt("id",this.id+"_dp_container"),""!=this.column.align&&
this.tagAtt("data-align",this.column.align),this.tagAtt("class","dp_container"),""!=this.style&&this.tagAtt("style","white-space:nowrap;display:inline;width:auto;"),this.append(">");this.row.ownerGrid.isFreestyle||void 0!==this.column.titleformat&&this.column.titleformat!=gx.html.controls.formats.TEXT||this.append('<label for="'+this.id+'" style="display:none">'+this.column.title+"</label>");this.append("<input");if(1==this.isPassword)this.tagAtt("type","password");else{this.tagAtt("type",this.inputType);
if(this.step&&("number"==this.inputType||"range"==this.inputType)){this.tagAtt("step",this.step);var B=Math.pow(10,this.maxLength)-1;this.tagAtt("min",-1*B);this.tagAtt("max",B);"search"==this.inputType&&(this.extraAttributes+=' onsearch="this.onchange();"')}this.dataType==gx.types.geolocation&&(this.extraAttributes+=" data-gx-geolocation")}this.tagAtt("id",this.id);this.tagAtt("name",this.id);this.tagAtt("value",this.dataType==gx.types.numeric?gx.text.ltrim(this.formattedValue):this.formattedValue);
this.append(n);""!=this.title&&this.tagAtt("title",this.title);""!=this.placeholder&&this.tagAtt("placeholder",this.placeholder);this.autoComplete||this.tagAtt("autocomplete","off");this.tagAtt("spellcheck",this.autoCorrection.toString());"date"!=this.inputType&&"datetime"!=this.inputType&&"datetime-local"!=this.inputType&&this.tagAtt("maxlength",this.maxLength);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.rtPicture&&this.tagAtt("data-gx-rt-picture",this.rtPicture);n=this.style;
""!=this.column.align&&(n+=";text-align:"+this.column.align);B=!this.enabled&&this.rtEnabled?";display:none;":"";n+=B;""!=n&&this.tagAtt("style",n);this.append(this.extraAttributes);gx.fn.controlFiresEvent(v)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,v.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()));this.append(">");this.dataType==gx.types.date||this.dataType==gx.types.dateTime?(n=this.grid.parentObject.getValidStructFld(this.id),void 0!=n.dp&&(0==n.dp.f&&
(this.append("<img"),this.tagAtt("src",gx.ajax.getImageUrl(gx,"datepickerImage")),this.tagAtt("id",this.id+"_dp_trigger"),B=!this.enabled&&this.rtEnabled||!this.visible?";display:none;":"",this.tagAtt("style","cursor: pointer"+B),this.append(">")),this.append("</div>"),this.grid.addDatepickerToSetup({CtrlId:this.id,Grid:this.gridId,Row:this.gridRow}))):gx.html.controls.specificDomainCtrls(this)}if(!this.enabled){this.rtEnabled||this.grid.addHiddenControl(this.id,this.dataType==gx.types.date||this.dataType==
gx.types.dateTime?this.formattedValue:this.value);B=this.hasTheme?gx.fn.prefixROClass(0==this.parentId?this.cssClass:this.roClass):this.cssClass;n="";this.format!=gx.html.controls.formats.RAW_HTML&&(gx.runtimeTemplates&&this.append('<p class="form-control-static">'),y+=this.visible?"":";display:none;",this.append("<span"),gx.runtimeTemplates&&this.append(" data-gx-tpl-applied-readonly-atts-vars"),this.append(this.extraAttributes),""!=B&&this.tagAtt("class",B),""!=y&&this.tagAtt("style",y),this.tagAtt("data-gx-readonly",
""),""!=this.title&&this.tagAtt("title",this.title),this.tagAtt("id","span_"+this.id),this.tagAtt("data-gx-enabled-id",this.id),n=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row),y=gx.html.controls.startAnchor(this.jsScrCode,n,this.usrOnclick,this.link,this.linkTarget),gx.fn.controlFiresEvent(v)&&(y||this.tagAtt("tabindex","0"),this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,v.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext())),this.append(">"),
this.append(y));if(this.isPassword)for(v=gx.lang.emptyObject(this.maxLength)?3:parseInt(this.maxLength),y=0;y<v;y++)this.append("*");else this.append(this.formattedValue);this.format!=gx.html.controls.formats.RAW_HTML&&(gx.html.controls.endAnchor(this,n,this.usrOnclick,this.link),this.append("</span>"),gx.runtimeTemplates&&this.append("</p>"));this.format==gx.html.controls.formats.RAW_HTML&&gx.html.processCode(this.buffer.toString(),!1);gx.html.controls.specificDomainCtrls(this)}}},multipleLineEdit:function(u,
x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.multipleLineEdit;this.setProperties=function(n,v,y,B,C,I,L,M,N,R,P,X,W,aa,ba,ha,ia,la,oa,na,da,ea,pa,A,D,J,H,K){this.id=n;this.visible=0!=C;this.enabled=0!=I;this.rtEnabled=0!=L;this.width=M;this.widthUnit=N;this.height=R;this.heightUnit=P;this.style=W;this.cssClass=aa;this.columnClass=ba;this.columnHeaderClass=ha;this.maxLength=ia;this.extraAttributes=y;this.autoresize=0!=la;this.format=B;this.link=v;this.linkTarget=na;this.placeholder=
da;this.value=K||"";this.autoCorrection=0!=ea;this.domainName=A;this.maxTextLines=oa;this.jsScrCode=J;this.title=H};this._getHtml=function(){var n=this.getVStruct();this.style+=!this.visible||!this.enabled&&this.rtEnabled?";display:none;":"";if(this.rtEnabled||this.enabled)this.row.ownerGrid.isFreestyle||void 0!==this.column.titleformat&&this.column.titleformat!=gx.html.controls.formats.TEXT||this.append('<label for="'+this.id+'" style="display:none">'+this.column.title+"</label>"),this.append("<textarea"),
""!=this.placeholder&&this.tagAtt("placeholder",this.placeholder),this.tagAtt("spellcheck",this.autoCorrection.toString()),"chr"==this.widthUnit?this.tagAtt("cols",this.width):this.style=this.style+";width: "+this.width+this.widthUnit,1<this.maxTextLines&&this.tagAtt("data-gx-text-maxlines",this.maxTextLines),"row"==this.heightUnit?this.tagAtt("rows",this.height):this.style=this.style+";height: "+this.height+this.heightUnit,this.tagAtt("id",this.id),this.tagAtt("name",this.id),this.tagAtt("maxlength",
this.maxLength),""!=this.title&&this.tagAtt("title",this.title),this.append('onkeyup = "return gx.evt.checkMaxLength(this,'+this.maxLength+',event);"'),this.append('onkeydown = "return gx.evt.checkMaxLength(this,'+this.maxLength+',event);"'),""!=this.cssClass&&this.tagAtt("class",this.cssClass),""!=this.style&&this.tagAtt("style",this.style),""!=this.title&&this.tagAtt("title",this.title),this.append(this.extraAttributes),this.append(">"),this.append(gx.html.encodeCaseFormat(this.value,gx.html.controls.formats.TEXT,
!1)),this.append("</textarea>");if(!this.enabled){var v=this.visible?"":"display:none;";this.autoresize||(v+='overflow="hidden";');this.rtEnabled||this.grid.addHiddenControl(this.id,this.value);this.cssClass=gx.fn.prefixROClass(this.cssClass);this.append("<span ");this.append(this.extraAttributes);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=v&&this.tagAtt("style",v);this.tagAtt("data-gx-readonly","");""!=this.title&&this.tagAtt("title",this.title);this.tagAtt("id","span_"+this.id);v=
gx.html.controls.startAnchor(this.jsScrCode,!!n.evt,"",this.link,this.linkTarget);n.evt&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,n.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),v||this.tagAtt("tabindex","0"));this.format===gx.html.controls.formats.TEXT_W_SPACES&&this.tagAtt("data-text-format",gx.html.controls.formats.TEXT_W_SPACES);this.append(">");this.append(v);this.append(gx.html.encodeCaseFormat(this.value,this.format,!0));gx.html.controls.endAnchor(this,
!!n.evt,"",this.link);gx.html.controls.specificDomainCtrls(this);this.append("</span>")}}},blob:function(u,x,E,F,G,n,v){this.base(u,x,E,F,G);this.type=gx.html.controls.types.blob;this.display=n||0;this.contentType=v||"text/html";this.parameters=this.url="";this.setProperties=function(y,B,C,I,L,M,N,R,P,X,W,aa,ba,ha,ia,la,oa,na,da,ea,pa,A,D,J,H,K,O,Q,S,U){this.id=y;this.value=B;this.contentType=C||"text/html";this.linkTarget=L;this.parameters=M;this.display=N;this.visible=0!=P;this.enabled=0!=R;this.alt=
X;this.title=W;this.borderWidth=aa;this.autoresize=0!=ba;this.width=ha;this.widthUnit=ia;this.height=la;this.heightUnit=oa;this.vSpace=na;this.hSpace=da;this.jsScrCode=ea;this.usrOnclick=pa;this.eventName=A;this.style=D;this.cssClass=J;this.columnClass=H;this.columnHeaderClass=K;this.extraAttributes=O;this.extraDisplayAttributes=Q;this.jsDynCode=S;this.url=gx.util.resolveUrl(U)};this._getHtml=function(){this.style+=this.visible?"":";display:none;";this.append('<div class="gx-tbldsp-container"');this.tagAtt("border",
0);this.tagAtt("data-cellpadding",0);this.tagAtt("data-cellspacing",0);this.tagAtt("style","margin:"+this.vSpace+"px "+this.hSpace+"px;");this.tagAtt("title",gx.lang.emptyObject(this.title)?this.id:this.title);this.append("><div>");var y=-1!=this.contentType.toLowerCase().indexOf("image/");if(0==this.display){if(y){this.append("<img");this.tagAtt("alt",this.alt);if(""==this.url||this.url==gx.util.resourceUrl(gx.basePath+gx.staticDirectory))this.url=gx.ajax.getImageUrl(gx,"blankImage");this.tagAtt("src",
this.url)}else this.append("<object"),this.tagAtt("type",this.contentType),""==this.url&&(this.url="about:blank"),this.tagAtt("data",this.url);this.tagAtt("id","Object_"+this.id);this.style+="display:block;";0==this.width||this.autoresize||(this.style=this.style+"width:"+this.width+this.widthUnit+";");0==this.height||this.autoresize||(this.style=this.style+"height:"+this.height+this.heightUnit+";");this.tagAtt("style",this.style);var B=""!=this.cssClass?"BlobContent"+this.cssClass:this.cssClass;this.enabled||
(B=gx.fn.prefixROClass(B));this.tagAtt("class",B);this.append(this.extraDisplayAttributes);this.append(">");y?this.append("</img>"):(this.append(this.parameters),this.append("</object>"))}else 1==this.display&&(this.append("<a"),this.tagAtt("id","Link_"+this.id),this.style=""!=this.url?this.style+"display:block;":this.style+"display:none;",this.tagAtt("style",this.style),this.tagAtt("href",this.url),this.tagAtt("type",this.contentType),""!=this.linkTarget&&this.tagAtt("target",this.linkTarget),this.append("><img"),
this.tagAtt("border","0"),this.tagAtt("src",gx.ajax.getImageUrl(gx,"downloadImage")),this.append("></a>"));this.append("</div><div>");if(this.enabled){var C="";gx.lang.emptyObject(this.value)||(gx.dom.form().encoding="multipart/form-data");B=gx.dom.byId(this.id);this.grid&&this.grid.parentObject.isTransaction()&&B&&this.value===B.value?(y=this.id+"_hook",this.append("<div"),this.tagAtt("id",y),this.append(">"),this.append("</div>"),this.grid.addControlToReuse({el:B,hookId:y})):(this.append("<input"),
this.tagAtt("type","file"),this.tagAtt("id",this.id),this.tagAtt("name",this.id),this.visible||(C+="display:none;"),0!=this.width&&(C=C+"width:"+this.width+";"),this.tagAtt("style",C),this.tagAtt("value",this.value),B=""!=this.cssClass?"BlobInput"+this.cssClass:this.cssClass,this.enabled||(B=gx.fn.prefixROClass(B)),this.tagAtt("class",B),y&&this.tagAtt("accept",this.contentType),this.append(this.extraAttributes),this.append(">"))}this.append("</div></div>")}},radio:function(u,x,E,F,G){this.base(u,
x,E,F,G);this.type=gx.html.controls.types.radio;this.vertical=!0;this.possibleValues=[];this.setProperties=function(n,v,y,B,C,I,L,M,N,R,P,X,W,aa,ba,ha){this.possibleValues=n.v||[];this.id=v;this.title=y;this.visible=0!=B;this.enabled=0!=C;this.columns=I;this.orientation=L;this.style=M;this.cssClass=N;this.columnClass=R;this.columnHeaderClass=P;this.jsScrCode=X;this.usrOnclick=W;this.eventName=aa;this.extraAttributes=ba;this.value=ha};this._getHtml=function(){this.dataType==gx.types.numeric&&(this.value=
gx.text.trim(this.value.toString()));var n=[];n.push(this.enabled?this.cssClass:gx.fn.prefixROClass(this.cssClass));n.push("gx-radio-button");1==this.orientation&&n.push("gx-radio-button-vertical");n=n.join(" ");var v=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row);this.style+=this.visible?"":";display:none;";this.append(z("radio",{id:this.id,className:n,style:this.style,title:this.title,isDisabled:!this.enabled,extraAttributes:this.extraAttributes,gxoch0:gx.html.controls.onJSEvent_impl("data-gxoch0",
v,this.usrOnclick),values:l.map(this.possibleValues,function(y,B){return{itemId:this.id+"_"+B,itemValue:y[0],itemDesc:y[1],isSelected:gx.text.trim(this.value.toString())==gx.text.trim(y[0].toString())}}.closure(this))}))}},comboBox:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.comboBox;this.rows=1;this.possibleValues=[];this.setProperties=function(n,v,y,B,C,I,L,M,N,R,P,X,W,aa,ba,ha,ia,la,oa,na,da,ea,pa,A,D){this.possibleValues=n.v||[];this.id=v;this.title=M;this.visible=
0!=N;this.enabled=0!=R;this.rtEnabled=0!=P;this.rows=y;this.format=X;this.width=W;this.widthUnit=aa;this.height=ba;this.heightUnit=ha;this.style=ia;this.cssClass=la;this.columnClass=oa;this.columnHeaderClass=na;this.formattedValue=ea;this.jsScrCode=C;this.usrOnclick=B;this.eventName=I;this.extraAttributes=da;this.value=D;this.rawValue=n};this._getHtml=function(){this.dataType==gx.types.numeric&&(this.value=gx.text.trim(this.value.toString()));0<this.width&&(this.style=this.style+";width: "+this.width+
this.widthUnit);0<this.height&&(this.style=this.style+";height: "+this.height+this.heightUnit);var n=this.style+" ;overflow:hidden;",v=this.enabled||this.rtEnabled;this.style+=!this.visible||!this.enabled&&this.rtEnabled?";display:none;":"";if(v){var y=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row);this.append("<select");1<this.rows&&this.tagAtt("size",this.rows);this.tagAtt("id",this.id);this.tagAtt("name",this.id);""!=this.title&&this.tagAtt("title",this.title);
""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.enabled||(this.append(" disabled"),gx.util.addOnce(gx.disabledControls,this.id,this.id));this.append(this.extraAttributes);gx.html.controls.onJSEvent(this,"data-gxoch0",y,this.usrOnclick);this.append(">");y=this.possibleValues.length;for(var B=0;B<y;B++){var C=this.possibleValues[B];this.append("<option");this.tagAtt("value",C[0]);gx.text.trim(C[0].toString())==gx.text.trim(gx.lang.htmlDecode(this.value.toString()))&&
this.append(" selected");this.append(">");this.append(C[1]);this.append("</option>")}this.append("</select>")}if(!this.enabled){this.rtEnabled||this.grid.addHiddenControl(this.id,this.value);y=gx.fn.prefixROClass(this.cssClass);n+=this.visible?"":";display:none;";this.append("<span ");this.tagAtt("id","span_"+this.id);""!=this.title&&this.tagAtt("title",this.title);""!=y&&this.tagAtt("class",y);""!=n&&this.tagAtt("style",n);gx.O.DSO&&this.tagAtt("data-gx-readonly","");v||this.tagAtt(gx.GxObject.GX_DATA_RAW_VALUE_ATTR,
gx.json.serializeJson(this.rawValue));this.append(this.extraAttributes);this.append(">");y=this.possibleValues.length;for(B=0;B<y;B++)if(C=this.possibleValues[B],gx.text.trim(C[0].toString())==gx.text.trim(gx.lang.htmlDecode(this.value.toString()))){this.append(C[1]);break}this.append("</span>")}}},listBox:function(u,x,E,F,G,n){this.base(u,x,E,F,G);this.type=gx.html.controls.types.listBox;this.rows=n},checkBox:function(u,x,E,F,G,n,v,y){this.base(u,x,E,F,G);this.type=gx.html.controls.types.checkBox;
this.caption=n||"";this.checkedValue=v;this.uncheckedValue=y;this.setProperties=function(B,C,I,L,M,N,R,P,X,W,aa,ba,ha){this.id=B;this.title=C;this.visible=0!=L;this.enabled=0!=M;this.checkedValue=N;this.caption=R;this.style=P;this.cssClass=X;this.columnClass=W;this.columnHeaderClass=aa;this.extraAttributes=ba;this.value=ha;this.labelCaption=I};this._getHtml=function(){var B=this.getVStruct();this.dataType==gx.types.numeric&&(this.value=gx.text.trim(this.value.toString()),this.checkedValue=gx.text.trim(this.checkedValue.toString()));
var C=this.cssClass;this.enabled||(C=gx.fn.prefixROClass(this.cssClass));this.style+=this.visible?"":";display:none;";this.append("<label");this.tagAtt("for",this.id);""!=C&&this.tagAtt("class",C);""!=this.style&&this.tagAtt("style",this.style);this.append("><input");this.tagAtt("id",this.id);this.tagAtt("type","checkbox");this.tagAtt("name",this.id);this.value.toString()==this.checkedValue.toString()?(this.append(" checked"),this.tagAtt("value",this.checkedValue)):this.tagAtt("value",this.uncheckedValue);
""!=this.title&&this.tagAtt("title",this.title);this.enabled||this.append(" disabled");this.append(this.extraAttributes);gx.fn.controlFiresEvent(B)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,B.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()));this.append(">");this.append(this.caption);this.append("</label>")}},imageReadOnly:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.image;this.alt="";this.setProperties=function(n,v,y,B,C,I,L,
M,N,R,P,X,W,aa,ba,ha,ia,la,oa,na,da,ea,pa,A,D,J,H,K,O,Q){this.id=n;this.accessKey=B;this.visible=0!=I;this.enabled=0!=L;this.alt=M;this.title=N;this.borderWidth=R;this.autoresize=0!=P;this.width=X;this.widthUnit=W;this.height=aa;this.heightUnit=ba;this.vSpace=ha;this.hSpace=ia;this.link=v;this.linkTarget=y;this.jsScrCode=la;this.usrOnclick=oa;this.eventName=na;this.style=da;this.cssClass=ea;this.columnClass=pa;this.columnHeaderClass=A;this.align=D;this.extraAttributes=J;this.useMap=H;this.jsDynCode=
K;this.imgSrcSet=O;this.value=this.imageUrl=Q};this._getHtml=function(){var n=this,v=gx.TabFocusOnPrompt?gx.fn.attachedControls():[],y=this.getVStruct(),B=v.find(function(C){return C.id===y.fld&&!0===C.info.isPrompt});B&&(v=B.info.controls||[],v=v.map(function(C){return n.grid.parentObject.getValidStruct(C).fld+"_"+n.gridRow}));this.grid.addHiddenControl(this.id,this.imageUrl);""!=this.eventName&&gx.text.endsWith(this.eventName,".'")&&(this.eventName=this.eventName.replace(".'","."+this.gridRow+"'"));
B=gx.util.accessKey(this.title);this.title=gx.util.accessKeyCaption(this.title);""!=B&&(this.accessKey=B);this.style+=this.visible?"":";display:none;";B=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,this.jsDynCode,this.grid,this.row);this.enabled&&""!=this.link&&this.append(gx.html.controls.startAnchor(this.jsScrCode,B,this.usrOnclick,this.link,this.linkTarget,"gx-image-link"));this.append("<img");this.tagAtt("src",this.value);this.imgSrcSet&&this.tagAtt("srcset",this.imgSrcSet);this.enabled||
(this.cssClass=(this.cssClass||"")+" gx-disabled");""!=this.accessKey&&this.tagAtt("accesskey",this.accessKey);this.tagAtt("id",this.id);0!=this.vSpace&&this.tagAtt("vspace",this.vSpace);0!=this.hSpace&&this.tagAtt("hspace",this.hSpace);""!=this.align&&this.tagAtt("align",this.align);if(""==this.cssClass||0<this.borderWidth)this.tagAtt("border",this.borderWidth),""!=this.cssClass&&(this.style=this.style+";border-width: "+this.borderWidth);this.tagAtt("alt",this.alt||this.title);v&&this.tagAtt("data-gx-attached-ctrl",
v.join(" "));""!=this.title&&this.tagAtt("title",this.title);0<this.width&&(this.style=this.style+";width: "+this.width+this.widthUnit);0<this.height&&(this.style=this.style+";height: "+this.height+this.heightUnit);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);""!=this.useMap&&this.tagAtt("usemap",this.useMap);this.extraAttributes&&this.append(this.extraAttributes);y.evt&&(this.tagAtt("tabindex","0"),this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,
y.fld),this.tagAtt(gx.GxObject.GX_EVENT_DATA_ATTR,""),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),this.usrOnclick&&this.tagAtt(gx.GxObject.GX_EVENT_CONDITION_DATA_ATTR,this.usrOnclick));this.append(">");this.enabled&&""!=this.link&&""==B&&gx.html.controls.endAnchor(this,B,this.usrOnclick,this.link)};this._persistValue=function(){var n=this.getVStruct();n.v2v&&n.v2v(this.imageUrl)}},multimedia:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.multimedia;
this.setProperties=function(n,v,y,B,C,I,L,M,N,R,P,X,W,aa,ba,ha,ia,la,oa,na,da,ea,pa){this.id=n;this.text=v;this.display=0!=y;this.visible=0!=B;this.enabled=0!=C;this.autoresize=0!=I;this.width=L;this.widthUnit=M;this.height=N;this.heightUnit=R;this.jsScrCode=P;this.usrOnclick=X;this.eventName=W;this.style=aa;this.cssClass=ba;this.columnClass=ha;this.columnHeaderClass=ia;this.extraInputAttributes=la;this.jsDynCode=na;this.readOnly=0!=da;this.isBlob=gx.lang.gxBoolean(ea);this.multimediaUrl=pa;this.value=
gx.util.resolveUrl(pa)};this.startMultimediaUploadControl=function(n,v,y,B){return['<div id="',n,'_ct" class="',gx.html.multimediaUpload.gxCssClass,'" style="',(B||"")+(v?"":"display:none;"),'" ',gx.html.multimediaUpload.gxPreviewHTMLAtt,'="',this.value,'" ">'].join("")};this.endMultimediaUploadControl=function(n,v,y,B,C,I,L,M,N,R,P,X,W,aa,ba,ha){y=[];B=gx.html.multimediaUpload.getInputFileEl(this.id);C="checked";I="";L=n.match(/([\w]+)(_\d{4})$/);L=L[1]+"_GXI"+L[2];if(ba||void 0===ba)C="",I="checked",
v="";ba=['<div id="',n,'_ct_fields" class="fields-ct">','<label class="option">','<input name="',n,'Option" type="radio" value="file" ',I,"/>",gx.getMessage("GXM_uploadfileoption"),"</label>",'<label class="option">','<input name="',n,'Option" type="radio" value="uri" ',C,"/>",gx.getMessage("GXM_uploadurioption"),"</label>",'<input type="text" class="field ',P,'" id="',L,'" name="',L,'" value="',v,'" ',W," />"];y.push(ba.join(""));ba=B?['<div id="',n,'_hook"></div>']:['<input type="file" class="field ',
P,'" id="',n,'" name="',n,'" accept="',ha,'" ',W,"/>"];y.push(ba.join(""));ba=["</div>","</div>"];y.push(ba.join(""));return y.join("")};this.getPreviewHtml=function(){var n=gx.fn.prefixROClass(this.cssClass||""),v=this.value,y=v?' href="'+v+'"':"",B=this.readOnly||!this.enabled,C=B?this.id:"";return(gx.text.startsWith(gx.util.getContentTypeFromExt(v),"image")||!B&&""===v?["<a",' class="'," gx-multimedia-ro",'"',' target ="_blank"',y,">",'<img id = "Object_',this.id,'" class = "',n,'" alt = "',this.alt,
'" src = "',v,'" />','<span id="',C,'" class="',this.placeHolderClass,'"></span>',"</a>"]:["<a",v?" download":"",' class="'," gx-multimedia-ro",'"',' target = "_blank"',y,">",'<span id = "',C,'" class = "',n," ",this.placeHolderClass,'" title = "',gx.getMessage("GXM_multimediaalttext"),'"></span>',"</a>"]).join("")};this._getHtml=function(){!this.readOnly&&this.enabled?(this.append(this.startMultimediaUploadControl(this.id,this.visible,this.width,this.style)),this.append('<a class="action change-action" gxfocusable="1" href=""'+
this.extraInputAttributes+">"+gx.getMessage("GXM_multimediachange")+"</a>"),this.append('<a gxfocusable="1" href="" class="action clear-action"></a>')):this.grid.addHiddenControl(this.id,this.multimediaUrl);this.append(this.getPreviewHtml());if(!this.readOnly&&this.enabled){this.append(this.endMultimediaUploadControl(this.id,this.value,"",this.width,this.widthUnit,this.height,this.heightUnit,this.usrOnclick,this.eventName,this.style,this.cssClass,"",this.extraInputAttributes,this.readOnly,this.isBlob,
this.accept));var n=gx.html.multimediaUpload.getInputFileEl(this.id);this.grid&&this.grid.parentObject.isTransaction()&&n&&this.grid.addControlToReuse({el:n,hookId:this.id+"_hook"})}};this._persistValue=function(){var n=this.getVStruct();n.v2v&&n.v2v(gx.html.multimediaUpload.getPreviewAtt(this.id+"_ct")||this.multimediaUrl)}},image:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.image;this.alt="";this.innerImage=new gx.html.controls.imageReadOnly;this.placeHolderClass="gx-image-placeholder";
this.setProperties=function(n,v,y,B,C,I,L,M,N,R,P,X,W,aa,ba,ha,ia,la,oa,na,da,ea,pa,A,D,J,H,K,O,Q,S,U,Z,T){this.id=n;this.accessKey=B;this.visible=0!=I;this.enabled=0!=L;this.alt=M;this.title=N;this.borderWidth=R;this.autoresize=0!=P;this.width=X;this.widthUnit=W;this.height=aa;this.heightUnit=ba;this.vSpace=ha;this.hSpace=ia;this.link=v;this.linkTarget=y;this.jsScrCode=la;this.usrOnclick=oa;this.eventName=na;this.style=da;this.cssClass=ea;this.columnClass=pa;this.columnHeaderClass=A;this.align=D;
this.extraInputAttributes=J;this.extraImageAttributes=H;this.useMap=K;this.jsDynCode=O;this.readOnly=0!=Q;this.isBlob=gx.lang.gxBoolean(S);this.isAttribute=gx.lang.gxBoolean(U);this.imgSrcSet=Z;this.multimediaUrl=T;this.value=gx.util.resolveUrl(T);this.themeName=C;this.className=ea;U&&(this.className=gx.fn.prefixROClass(ea));n=this.getGridData();this.updateinnerImageProperties();this.innerImage.setGridData(n);this.innerImage.column=this.column};this.updateinnerImageProperties=function(){this.innerImage.setProperties(this.id,
this.link,this.linkTarget,this.accessKey,this.themeName,this.visible,this.enabled,this.alt,this.title,this.borderWidth,this.autoresize,this.width,this.widthUnit,this.height,this.heightUnit,this.vSpace,this.hSpace,this.jsScrCode,this.usrOnclick,this.eventName,this.style,this.className,this.columnClass,this.columnHeaderClass,this.align,this.extraImageAttributes,this.useMap,this.jsDynCode,this.imgSrcSet,this.value)};this.getPreviewHtml=function(){var n=this.value,v=gx.fn.prefixROClass(this.cssClass||
"");return['<a target="_blank" class="gx-multimedia-ro"><img id="Object_',this.id,'" class="',v,'" alt="',this.alt,'" src="',n,'" /><span class="',this.placeHolderClass,'"></span></a>'].join("")};this._getHtml=function(){if(this.readOnly||!this.enabled)this.buffer=this.innerImage.buffer,this.updateinnerImageProperties(),this.innerImage._getHtml();else{this.append(this.startMultimediaUploadControl(this.id,this.visible,this.width,this.style));this.append('<a class="action change-action" gxfocusable="1" href=""'+
this.extraInputAttributes+">"+gx.getMessage("GXM_multimediachange")+"</a>");this.append('<a gxfocusable="1" href="" class="action clear-action"></a>');this.append(this.getPreviewHtml());this.append(this.endMultimediaUploadControl(this.id,this.value,this.title,this.width,this.widthUnit,this.height,this.heightUnit,this.usrOnclick,this.eventName,this.style,this.cssClass,this.align,this.extraInputAttributes,this.readOnly,this.isBlob,"image/*"));var n=gx.html.multimediaUpload.getInputFileEl(this.id);this.grid&&
this.grid.parentObject.isTransaction()&&n&&this.grid.addControlToReuse({el:n,hookId:this.id+"_hook"})}}},video:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.video;this.accept="video/*";this.placeHolderClass="gx-video-placeholder"},audio:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.audio;this.accept="audio/*";this.placeHolderClass="gx-audio-placeholder"},file:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.audio;this.placeHolderClass=
"gx-download-placeholder"},textBlock:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.textBlock;this.setProperties=function(n,v,y,B,C,I,L,M,N,R,P,X,W,aa){this.id=n;this.visible=0!=R;this.enabled=0!=P;this.rtEnabled=0!=X;this.format=W;this.title=N;this.link=v;this.linkTarget=y;this.jsScrCode=M;this.usrOnclick=B;this.eventName=C;this.extraAttributes=I;this.cssClass=L;this.value=gx.text.replaceAll(aa,"�","'")};this._getHtml=function(){var n=this.getVStruct(),v=this.enabled||
this.rtEnabled;if(this.format!=gx.html.controls.formats.RAW_HTML){if(this.format==gx.html.controls.formats.HTML){var y=(this.visible?";display:inline;":";display:none;")+this.extraAttributes;this.append("<div ")}else y=(this.visible?"":";display:none;")+this.extraAttributes,this.append("<span ");this.tagAtt("id",this.id);this.enabled||(this.cssClass=(this.cssClass||"")+" gx-disabled");""!=this.cssClass&&this.tagAtt("class",this.cssClass);this.tagAtt("data-gxformat",this.format);""!=y&&this.tagAtt("style",
y);""!=this.title&&this.tagAtt("title",this.title);gx.fn.controlFiresEvent(n)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,n.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),"textblock"!==n.ctrltype&&this.tagAtt("tabindex","0"));this.append(">")}v?(y=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row),this.append(gx.html.controls.startAnchor(this.jsScrCode,y,this.usrOnclick,this.link,this.linkTarget))):y="";this.append(gx.html.encodeCaseFormat(this.value,
this.format));v&&gx.html.controls.endAnchor(this,y,this.usrOnclick,this.link);this.format==gx.html.controls.formats.HTML?this.append("</div>"):this.format!=gx.html.controls.formats.RAW_HTML&&this.append("</span>");this.format==gx.html.controls.formats.RAW_HTML&&gx.html.processCode(this.buffer.toString(),!1)}},label:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.label;this.setProperties=function(n,v,y,B,C,I){this.referencedEl=n;this.labelCaption=v;this.labelClass=y;this.extraStyle=
I;this.addAttributes=[0===B?"data-gx-sr-only":"",this.extraStyle?'style="'+this.extraStyle+'"':""].join(" ")};this._getHtml=function(){this.append(z("label",{caption:this.labelCaption,className:this.labelClass,additionalAtts:this.addAttributes,relatedElement:this.referencedEl}))}},button:function(u,x,E,F,G,n){this.base(u,x,E,F,G);this.type=gx.html.controls.types.button;this.caption="";this.buttonStyle=n||"rounded";this.setProperties=function(v,y,B,C,I,L,M,N,R,P,X,W,aa,ba,ha,ia){this.reset=ha;this.id=
v;this.title=I;this.accessKey=L;this.style=M;this.cssClass=N;this.visible=0!=R;this.enabled=0!=P;this.buttonStyle=X;this.jsScrCode=C;this.usrOnclick=B;this.eventName=W+(5==this.jsScrCode?"+'"+this.gridRow+"'":"");this.extraAttributes=aa;this.jsCode=y;this.jsDynCode=ba;this.caption=ia};this._getHtml=function(){var v=this.getVStruct();this.style+=this.visible?"":";display:none;";var y="BaseRBtn R"+this.cssClass;"rounded"==this.buttonStyle&&(this.cssClass="BtnText",this.append("<span "),this.tagAtt("onclick",
"gx.evt.doClick('"+this.id+"', event);"),""!=this.style&&this.tagAtt("style",this.style),this.tagAtt("class",y),this.append('><span class="BtnLeft"><span class="BtnRight"><span class="BtnBackground">'));this.append("<input");y="button";1==this.reset?y="submit":0==this.reset&&(y="reset");this.tagAtt("type",y);y=gx.util.accessKey(this.caption);this.caption=gx.util.accessKeyCaption(this.caption);""==y&&(y=gx.util.accessKey(this.title),this.title=gx.util.accessKeyCaption(this.title));""!=y&&(this.accessKey=
y);this.tagAtt("name",this.id);this.tagAtt("id",this.id);this.tagAtt("value",this.caption);""!=this.title&&this.tagAtt("title",this.title);""!=this.accessKey&&this.tagAtt("accesskey",this.accessKey);this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.enabled||this.append(" disabled");this.append(gx.html.controls.onJsEventAttributes(this.jsScrCode,this.jsCode,this.usrOnclick));this.append(this.extraAttributes);gx.fn.controlFiresEvent(v)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,
v.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()));this.append(">");"rounded"==this.buttonStyle&&this.append("</span></span></span></span>")}},grid:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.grid;this.containerName="";this.setProperties=function(n){this.containerName=n;this.id=this.grid.gxComponentContext+this.containerName+"Div_"+this.gridRow};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.append("></div>")}},
userControl:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.userControl;this.containerName="";this.setProperties=function(n,v){this.id=this.containerName=n;this.visible=0!=v};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.tagAtt("class",gx.uc.gxCssClass);this.append("></div>");this.grid.addUsercontrolToDraw({r:this.gridRow,c:this.column})}},userControlContainer:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.userControlContainer;
this.containerName=this.parentName="";this.setProperties=function(n,v){this.parentName=n;this.containerName=v;this.id=this.parentName+this.containerName+"_"+this.gridRow};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.tagAtt("style","display:none;");this.tagAtt("class","gx_usercontrol_child");this.append(">")}},webComponent:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.webComponent;this.content=this.controlName="";this.setProperties=function(n){this.controlName=
n;var v=this.grid.parentObject.getComponentData(this.controlName);n=v.Prefix;var y=this.grid.gxComponentContext+"gxHTMLWrp"+n+this.gridRow,B=gx.dom.byId(y),C="";this.grid.addOldComponent(this.gridRow,this.grid.gxComponentContext+n+this.gridRow);if(null!=B)v=y+"_hook",this.grid.addComponentToDraw({create:!1,existingEl:v,el:y,p:this.grid.gxComponentContext+n+this.gridRow}),y=v;else if(!gx.lang.emptyObject(gx.csv.lastEvtResponse)&&!gx.lang.emptyObject(gx.csv.lastEvtResponse.gxComponents))if(B=gx.csv.lastEvtResponse.gxComponents[y],
gx.lang.emptyObject(B))C="";else{C=gx.html.cleanHtmlRefs(B);var I=gx.fn.getHidden(this.grid.gxComponentContext+n+this.gridRow);I||(I=v.GXClass);gx.lang.emptyObject(I)||this.grid.addComponentToDraw({load:!0,n:I.toLowerCase(),p:this.grid.gxComponentContext+n+this.gridRow,c:B})}this.id=y;this.content=C};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.tagAtt("class",gx.GxObject.WEBCOMPONENT_CLASS_NAME);this.append(">");this.append(this.content);this.append("</div>")}},embeddedPage:function(u,
x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.embeddedPage;this.align="center";this.scrollbars="auto";this.borderStyle="1";this.setProperties=function(n,v,y,B,C,I,L,M,N,R,P){this.id=n;this.value=v;this.visible=0!=y;this.width=B;this.widthUnit=C;this.height=I;this.heightUnit=L;this.borderStyle=M;this.align=N;this.title=R;this.scrollbars=P};this._getHtml=function(){this.style+=this.visible?"":";display:none;";this.append("<iframe");this.tagAtt("frameborder",this.borderStyle);this.tagAtt("align",
this.align);this.tagAtt("scrolling",this.scrollbars);0<this.height&&this.tagAtt("height",this.height+this.heightUnit);0<this.width&&this.tagAtt("width",this.width+this.widthUnit);""!=this.title&&this.tagAtt("title",this.title);""!=this.id&&(this.tagAtt("id",this.id),this.tagAtt("name",this.id));""!=this.value&&this.tagAtt("src",this.value);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.append(">");this.append("</iframe>")}},table:function(u,
x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.table;this.backColor=this.cellPadding=this.cellSpacing="";this.setProperties=function(n,v,y,B,C,I,L,M,N,R,P,X,W,aa,ba,ha,ia){this.id=n;this.visible=0!=v;this.cssClass=y;this.background=B;this.backColor=C;this.borderColor=I;this.align=L;this.title=M;this.borderWidth=N;this.cellPadding=R;this.cellSpacing=P;this.height=X;this.width=W;this.rules=aa;this.heightUnit=ba;this.widthUnit=ha;this.style="";this.header=ia};this._getHtml=function(){var n=
this.getVStruct();this.style+=this.visible?"":";display:none;";""!=this.background&&(this.background=gx.util.resourceUrl(gx.basePath+gx.staticDirectory+this.background,!0),this.style=this.style+"background-image: url("+this.background+");");if(""!=this.backColor){var v=parseInt(this.backColor);v=isNaN(v)?this.backColor:gx.color.html(v).Html;this.style=this.style+"background-color: "+v+";"}""!=this.borderColor&&(v=parseInt(this.borderColor),v=isNaN(v)?this.borderColor:gx.color.html(v).Html,this.style=
this.style+"border-color: "+v+";");""!=this.borderWidth&&(this.style=this.style+"border-width: "+this.borderWidth+";");""!=this.height&&(this.style=this.style+"height: "+this.height+this.heightUnit+";");""!=this.width&&(this.style=this.style+"width: "+this.width+this.widthUnit+";");this.append("<table");this.tagAtt("id",this.id);this.tagAtt("align",this.align);""!=this.borderWidth&&this.tagAtt("border",this.borderWidth);""!==this.cellSpacing&&this.tagAtt("data-cellspacing",this.cellSpacing);""!==
this.cellPadding&&this.tagAtt("data-cellpadding",this.cellPadding);""!=this.rules&&"none"!=this.rules&&this.tagAtt("rules",this.rules);""!=this.title&&this.tagAtt("title",this.title);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);n.evt&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,n.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),this.tagAtt("tabindex","0"));this.append(">");""!=this.header&&(this.append("<caption>"),
this.append(this.header),this.append("</caption>"))}},row:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.row;this.verticalAlign=this.align=this.borderColor=this.backColor="";this.isFreestyleRow=!1;this.oncontextmenu="";this.setProperties=function(n,v,y){v&&(this.cssClass=this.ownCssClass?v+(this.ownCssClass?" "+this.ownCssClass:""):v);this.style=y};this._getHtml=function(){this.append("<tr");""!=this.id&&this.tagAtt("id",this.id);this.isFreestyleRow&&this.tagAtt("data-gxrow",
this.gridRow);""!=this.backColor&&(this.style=this.style+"background-color:"+this.backColor+";");""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("data-cell-valign",this.verticalAlign);""!=this.style&&this.tagAtt("style",this.style);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.oncontextmenu&&this.tagAtt("oncontextmenu",this.oncontextmenu);this.append(">")}},cell:function(u,x,E,F,
G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.cell;this.className=this.rowSpan=this.colSpan=this.verticalAlign=this.align=this.borderColor=this.backColor=this.background=this.style="";this.setProperties=function(n,v,y){this.background=n;this.cssClass=y;v&&""!=v&&0<v.indexOf("style=")&&(this.style=v.substring(8),this.style=this.style.substring(0,this.style.length-1)+";")};this._getHtml=function(){this.append("<td");"undefined"!=typeof this.width&&0!=this.width&&this.tagAtt("width",this.width);
"undefined"!=typeof this.height&&0!=this.height&&this.tagAtt("height",this.height);""!=this.background&&this.tagAtt("background",this.background);""!=this.backColor&&(this.style+="background-color:"+this.backColor+";");""!=this.style&&this.tagAtt("style",this.style);""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("data-cell-valign",this.verticalAlign);""!=this.colSpan&&this.tagAtt("colspan",this.colSpan);
""!=this.rowSpan&&this.tagAtt("rowspan",this.rowSpan);""!=this.cssClass&&this.tagAtt("class",this.cssClass);this.append(">")}},responsiveRow:function(u,x,E,F,G){this.base(u,x,E,F,G);this._getHtml=function(){this.append("<div");""!=this.id&&this.tagAtt("id",this.id);this.isFreestyleRow&&this.tagAtt("data-gxrow",this.gridRow);""!=this.backColor&&(this.style=this.style+"background-color:"+this.backColor+";");""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&this.tagAtt("align",
this.align);""!=this.verticalAlign&&this.tagAtt("data-cell-valign",this.verticalAlign);""!=this.style&&this.tagAtt("style",this.style);this.tagAtt("class","row "+(this.cssClass||""));""!=this.oncontextmenu&&this.tagAtt("oncontextmenu",this.oncontextmenu);this.append(">")}},responsiveCell:function(u,x,E,F,G){this.base(u,x,E,F,G);this._getHtml=function(){this.append("<div");"undefined"!=typeof this.width&&0!=this.width&&this.tagAtt("width",this.width);"undefined"!=typeof this.height&&0!=this.height&&
this.tagAtt("height",this.height);""!=this.background&&this.tagAtt("background",this.background);""!=this.backColor&&(this.style+="background-color:"+this.backColor+";");""!=this.style&&this.tagAtt("style",this.style);""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("data-cell-valign",this.verticalAlign);""!=this.colSpan&&this.tagAtt("colspan",this.colSpan);""!=this.rowSpan&&this.tagAtt("rowspan",
this.rowSpan);this.tagAtt("class","col-xs-12 "+(this.cssClass||""));this.append(">")}},group:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.group;this.caption="";this.setProperties=function(n,v,y,B,C,I,L,M,N){this.id=n;this.caption=v;this.visible=0!=y;this.width=B;this.widthUnit=C;this.height=I;this.heightUnit=L;this.cssClass=M;this.extraAtts=N};this._getHtml=function(){this.append("<fieldset");this.tagAtt("id",this.id);this.tagAtt("name",this.id);""!=this.cssClass&&this.tagAtt("class",
this.cssClass);var n="-moz-border-radius:3pt;";"0"!=this.width&&(n+="width: "+this.width+this.widthUnit+";");"0"!=this.height&&(n+="height: "+this.height+this.heightUnit+";");this.visible||(n+="display:none;");this.tagAtt("style",n);""!=this.extraAtts&&this.append(this.extraAtts);this.append(">");this.append("<legend");""!=this.cssClass&&this.tagAtt("class",this.cssClass+"Title");this.append(">");this.append(gx.getMessage(this.caption));this.append("</legend>")}},div:function(u,x,E,F,G){this.base(u,
x,E,F,G);this.type=gx.html.controls.types.div;this.setProperties=function(n,v,y,B,C,I,L,M,N,R,P){this.id=n;this.visible=0!=v;this.width=y;this.widthUnit=B;this.height=C;this.heightUnit=I;this.cssClass=L;this.align=M;this.vAlign=N;this.extraAtts=R;this.extraStyle=P};this._getHtml=function(){var n=this.getVStruct(),v=this.align&&"left"!=this.align.toLowerCase()&&"start"!=this.align.toLowerCase(),y=this.vAlign&&"top"!=this.vAlign.toLowerCase(),B=this.visible?"":";display:none;",C=this.align.toLowerCase(),
I=this.vAlign.toLowerCase(),L=C,M=I;"justify"===L&&(L="space-evenly");"middle"===M?M="center":"bottom"===M&&(M="end");""!=this.height&&(B=B+"height: "+this.height+this.heightUnit+";");""!=this.width&&(B=B+"width: "+this.width+this.widthUnit+";");B+=this.extraStyle;this.append("<div");this.id&&this.tagAtt("id",this.id);""!=this.cssClass&&this.tagAtt("class",this.cssClass);if(v||y)this.tagAtt("data-valign",""),B="display:flex;justify-content:"+L+";"+B,y&&(B=B+";flex-wrap:wrap;align-content:"+M+";");
""!=B&&this.tagAtt("style",B);""!=this.extraAtts&&this.append(this.extraAtts);v&&this.tagAtt("data-align",C);y&&this.tagAtt("data-valign",I);gx.fn.controlFiresEvent(n)&&(this.tagAtt(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,n.fld),this.tagAtt(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,this.getEventContext()),this.tagAtt("tabindex","0"));this.append(">")}},divEnd:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.divEnd;this.setProperties=function(n,v){this.align=n;this.vAlign=v};this._getHtml=
function(){this.append("</div>")}},formGroup:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.formGroup;this.setProperties=function(n){this.captionPosition=n};this._getHtml=function(){1===this.captionPosition&&this.append('<div class="form-group gx-form-group">')}},formGroupEnd:function(u,x,E,F,G){this.base(u,x,E,F,G);this.type=gx.html.controls.types.formGroupEnd;this.setProperties=function(n){this.captionPosition=n};this._getHtml=function(){1===this.captionPosition&&this.append("</div>")}},
specificDomainCtrls:function(u){if(u.domainName==gx.domains.component&&0==u.enabled){var x=u.enabled?";display:none;":"",E=u.id+"_comp_trigger",F=gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"Resources\\"+gx.theme+"\\Select.png",!1);u.append("<img");u.tagAtt("src",F);u.tagAtt("id",E);u.tagAtt("class","");u.tagAtt("style",x+" margin-left:2px; cursor:pointer;");u.tagAtt("onclick","gx.popup.openUrl('"+u.value+"')");u.append("/>");x=[];x.push(u.column.gxId)}else u.dataType==gx.types.geolocation&&
(x=u.enabled?"":";display:none;",E=u.id+"_geoLocMe",u.append("<img"),u.tagAtt("src",gx.ajax.getImageUrl(gx,"myLocationImage")),u.tagAtt("id",E),u.tagAtt("class","GeoLocOption"),u.tagAtt("style",x),u.tagAtt("onclick","gx.geolocation.getMyPosition(this)"),u.append(">"),x=[],x.push(u.column.gxId))},_init:function(){gx.lang.inherits(this.singleLineEdit,this.htmlControl);gx.lang.inherits(this.multipleLineEdit,this.singleLineEdit);gx.lang.inherits(this.blob,this.htmlControl);gx.lang.inherits(this.radio,
this.htmlControl);gx.lang.inherits(this.comboBox,this.htmlControl);gx.lang.inherits(this.listBox,this.comboBox);gx.lang.inherits(this.checkBox,this.htmlControl);gx.lang.inherits(this.imageReadOnly,this.htmlControl);gx.lang.inherits(this.textBlock,this.htmlControl);gx.lang.inherits(this.button,this.htmlControl);gx.lang.inherits(this.grid,this.htmlControl);gx.lang.inherits(this.userControl,this.htmlControl);gx.lang.inherits(this.userControlContainer,this.htmlControl);gx.lang.inherits(this.webComponent,
this.htmlControl);gx.lang.inherits(this.embeddedPage,this.htmlControl);gx.lang.inherits(this.table,this.htmlControl);gx.lang.inherits(this.row,this.htmlControl);gx.lang.inherits(this.cell,this.htmlControl);gx.lang.inherits(this.group,this.htmlControl);gx.lang.inherits(this.multimedia,this.htmlControl);gx.lang.inherits(this.image,this.multimedia);gx.lang.inherits(this.video,this.multimedia);gx.lang.inherits(this.file,this.multimedia);gx.lang.inherits(this.audio,this.multimedia);gx.lang.inherits(this.div,
this.htmlControl);gx.lang.inherits(this.divEnd,this.htmlControl);gx.lang.inherits(this.responsiveRow,this.row);gx.lang.inherits(this.responsiveCell,this.cell);gx.lang.inherits(this.label,this.htmlControl);gx.lang.inherits(this.formGroup,this.htmlControl);gx.lang.inherits(this.formGroupEnd,this.htmlControl)}}}()}}(gx.$);
gx.util.Observable=function(){var l={};return{observers:[],initialObservers:[],addObserver:function(c,d,g,a){new gx.thread.Mutex(this,this.addObserverSync,arguments)},addObserverSync:function(c,d,g,a){a=a||{};if(!1===a.unique||0>this.indexOf(c,d,g)){var b={e:c,o:d,f:g,cfg:a};a&&a.observerKey&&(l[a.observerKey]=l[a.observerKey]||[],l[a.observerKey].push(b));this.observers.push(b);!0===a.doNotDelete&&this.initialObservers.push({e:c,o:d,f:g,cfg:a})}},deleteObserverByKey:function(c){l[c]&&(gx.$.each(l[c],
function(d,g){gx.fx.obs.deleteObserver(g.e,g.o,g.f)}),l[c]=[])},deleteObserver:function(c,d,g){new gx.thread.Mutex(this,this.deleteObserverSync,[c,d,g])},deleteObserverSync:function(c,d,g){c=this.indexOf(c,d,g);0<=c&&this.observers.splice(c,1)},removeAll:function(){this.observers=this.initialObservers.slice()},indexOf:function(c,d,g){for(var a=this.observers.length,b=0;b<a;b++){var f=this.observers[b];if(f&&f.e==c&&f.o==d&&f.f==g)return b}return-1},notify_count:0,notify:function(c,d,g){d||(d=[]);
var a=this.observers.length;this.notify_count+=1;for(var b=[],f,k=0;k<a;k++){var m=this.observers[k];if(m&&m.e==c&&!m.removed)try{m.cfg&&m.cfg.single&&(m.removed=!0),f=m.f.apply(m.o,d),m.cfg&&m.cfg.async&&b.push(f)}catch(q){gx.dbg.logEx(q,"gxfx.js","gx.obs.notify")}}gx.$.when.apply($,b).then(function(){--this.notify_count;if(0===this.notify_count)for(var q=this.observers.length-1;0<=q;q--)this.observers[q].removed&&this.observers.splice(q,1);g&&g()}.closure(this))}}};
gx.fx={GX_DATA_SUGGEST_LENGTH:"data-gx-suggest-length",GX_DATA_SUGGEST:"data-gx-suggest",delayedSuggest:function(){gx.$.each(gx.suggestControls,function(l,c){gx.fx.installSuggest(c,!0)})},installSuggest:function(l,c){if(!c&&document.readyState&&"complete"!=document.readyState)gx.suggestControls[l.id]=l;else try{var d=gx.O.getValidStructFld(l.id);if(d&&!gx.lang.emptyObject(d.gxsgprm)){var g=0<d.grid?gx.fn.currentGridRowImpl(d.grid):"main",a=d.gxsgprm;a.installed||(a.installed={});a.installed[g]||(gx.ajax.suggest(gx.O,
a[1],l.id,a[0],a[3],a[2]),a.installed[g]=!0,$(l).attr(gx.fx.GX_DATA_SUGGEST,"true"),$(l).attr(gx.fx.GX_DATA_SUGGEST_LENGTH,$(l).val().length))}}catch(b){gx.dbg.logEx(b,"gxfx.js","installSuggest")}},updateSuggestParms:function(l){if(l)for(var c=l.length,d=0;d<c;d++){var g=gx.fn.validStruct(l[d]);g&&"function"==typeof g.c2v&&g.c2v()}},firesuggest:function(l,c,d,g){gx.evt.isComposing?gx.evt.firesuggestdelayed||(gx.evt.firesuggestdelayed=!0,gx.evt.doAfterComposing(function(){gx.fx.firesuggestimpl(l,c,
d,g)},this)):gx.fx.firesuggestimpl(l,c,d,g)},firesuggestimpl:function(l,c,d,g){gx.evt.firesuggestdelayed=!1;this.updateSuggestParms(g);if(l.textbox.value)return c.requestSuggestions(l.sdtParms,function(){c.values?l.autosuggest(c.values,d):l.hideSuggestions();delete gx.fx.delayedValidation;gx.fx.obs.notify("gx.validation")});if(""===l.textbox.value)gx.evt.onchange_impl(l.textbox);delete gx.fx.delayedValidation;gx.fx.obs.notify("gx.validation")},autoSuggestControl:function(l,c,d,g,a,b){this.cur=-1;
this.layer=this.IFrameControl=null;this.provider=c;this.textbox=l;"undefined"==typeof this.textbox.GXonblur&&(this.textbox.GXonblur=l.onblur);this.ControlRefresh=d;this.typeahead=g;this.suggestParms=a||[];this.sdtParms=b||[];this.requestSuggestions=function(f,k,m){gx.fx.delayedValidation=!0;var q=this.suggestParms;this.timer&&window.clearTimeout(this.timer);this.timer=window.setTimeout(function(){gx.fx.firesuggest(f,k,m,q)},400)};this.hideSuggestions=function(){$(this.IFrameControl).hide();$(this.layer).hide()};
this.highlightSuggestion=function(f){for(var k=this.layer.childNodes.length,m=0;m<k;m++){var q=this.layer.childNodes[m];q==f?q.className="current":"current"==q.className&&(q.className="")}};this.init=function(){var f=function(k){k||(k=window.event);this.handleKeyUp(k)};gx.evt.attach(this.textbox,"keyup",f.closure(this));gx.evt.attach(this.textbox,"keydown",function(k){k||(k=window.event);this.handleKeyDown(k)}.closure(this));gx.evt.attach(this.textbox,"blur",function(){this.hideSuggestions();this.textbox.GXonblur()}.closure(this));
gx.util.browser.isFirefox()&&gx.evt.attach(this.textbox,"input",f.closure(this));this.createDropDown()};this.nextSuggestion=function(){var f=this.layer.childNodes;0<f.length&&(this.cur=this.cur<f.length-1?this.cur+1:0,f=f[this.cur],this.highlightSuggestion(f),this.pickvalue(f.firstChild.nodeValue))};this.previousSuggestion=function(){var f=this.layer.childNodes;0<f.length&&(this.cur=0<this.cur?this.cur-1:f.length-1,f=f[this.cur],this.highlightSuggestion(f),this.pickvalue(f.firstChild.nodeValue))};
this.selectRange=function(f,k){if(this.textbox.createTextRange){var m=this.textbox.createTextRange();m.moveStart("character",f);m.moveEnd("character",k-this.textbox.value.length);m.select()}else this.textbox.setSelectionRange&&this.textbox.setSelectionRange(f,k);gx.csv.stopOnError&&this.textbox.focus()};this.showSuggestions=function(f){this.cur=-1;this.setupLayer();gx.dom.shouldPurge()&&gx.dom.purge(this.layer,!0);this.layer.innerHTML="";if(!this.IFrameControl){var k=!1;this.IFrameControl=gx.dom.byId("gxAutosuggestIFrame");
this.IFrameControl||(k=!0,this.IFrameControl=document.createElement("IFRAME"),this.IFrameControl.src="about:blank",this.IFrameControl.id="gxAutosuggestIFrame");$(this.IFrameControl).css({zIndex:1,display:"none",position:"absolute"});this.IFrameControl.frameBorder="0";k&&document.body.appendChild(this.IFrameControl)}for(var m=f.length,q=0;q<m;q++)k=document.createElement("div"),k.appendChild(document.createTextNode(f[q].d)),k.style.width=this.textbox.offsetWidth,this.layer.appendChild(k);this.layer.style.left=
this.getLeft()+"px";this.layer.style.top=this.getTop()+this.textbox.offsetHeight+"px";this.layer.style.zIndex=2;this.IFrameControl.style.top=this.layer.style.top;this.IFrameControl.style.left=this.layer.style.left;this.IFrameControl.style.height=this.layer.offsetHeight;this.IFrameControl.style.width=this.layer.offsetWidth;$([this.IFrameControl,this.layer]).show()};this.typeAhead=function(f){if(this.textbox.createTextRange||this.textbox.setSelectionRange){var k=this.textbox.value.length;this.pickvalue(f);
f=f.length;k<f&&this.selectRange(k,f)}};this.pickvalue=function(f,k){for(var m=this.aSuggestions.length,q=0;q<m;q++)if(this.aSuggestions[q].d==f){this.textbox.value=f;!0===k&&gx.evt.fireEvent(this.textbox,"input");gx.evt.onchange_impl(this.textbox,void 0,!0);break}};this.autosuggest=function(f,k){this.aSuggestions=f;f=this.aSuggestions.length;if(k&&null!=this.aSuggestions&&1==f)this.typeAhead(this.aSuggestions[0].d);else if(this.textbox==gx.csv.lastControl&&null!=this.aSuggestions&&0<f&&(1==f&&this.aSuggestions[0].d!=
this.textbox||1<f)){this.showSuggestions(this.aSuggestions);return}this.hideSuggestions()};this.createDropDown=function(){var f=!1;this.layer=gx.dom.byId("gxAutosuggestElement");this.layer||(f=!0,this.layer=document.createElement("div"),this.layer.className="suggestions",this.layer.id="gxAutosuggestElement");this.setupLayer();f&&document.body.appendChild(this.layer)};this.setupLayer=function(){$(this.layer).hide();this.textbox.offsetWidth&&$(this.layer).width(this.textbox.offsetWidth);this.layer.onmousedown=
this.layer.onmouseup=this.layer.onmouseover=function(f){f=f||window.event;var k=gx.evt.source(f);"mousedown"==f.type?(gx.evt.stopPropagation(f),this.pickvalue(k.firstChild.nodeValue,!0),this.hideSuggestions(),window.setTimeout(function(){gx.fn.setFocus(this.textbox)},100)):"mouseover"==f.type?this.highlightSuggestion(k):this.textbox.focus()}.closure(this)};this.getLeft=function(){for(var f=this.textbox,k=0;null!=f&&"BODY"!=f.tagName;)k+=f.offsetLeft,f=f.offsetParent;for(f=this.textbox;null!=f&&"BODY"!=
f.tagName;)k-=f.scrollLeft,f=f.parentNode;return k};this.getTop=function(){for(var f=this.textbox,k=0;null!=f&&"BODY"!=f.tagName;)k+=f.offsetTop,f=f.offsetParent;for(f=this.textbox;null!=f&&"BODY"!=f.tagName;)k-=f.scrollTop,f=f.parentNode;return k};this.handleKeyDown=function(f){switch(f.keyCode){case 38:this.previousSuggestion();break;case 40:this.nextSuggestion();break;case 13:this.hideSuggestions()}};this.handleKeyUp=function(f){f=f.keyCode;if(9==f)this.hideSuggestions();else if(8==f||46==f)this.requestSuggestions(this,
this.provider,!1);else if(!(32>f||33<=f&&46>f||112<=f&&123>=f))this.requestSuggestions(this,this.provider,this.typeahead);else if(0===f){f=this.textbox.value.length;var k=parseInt($(this.textbox).attr(gx.fx.GX_DATA_SUGGEST_LENGTH)||"0",10);f!==k&&this.requestSuggestions(this,this.provider,this.typeahead)}$(this.textbox).attr(gx.fx.GX_DATA_SUGGEST_LENGTH,this.textbox.value.length)};this.init()},suggestProvider:function(l,c,d,g){this.requestSuggestions=function(a,b,f,k){var m,q=gx.ajax.gxObjectUrl(l)+
"?",w="gxajaxSuggest_"+g,p=c.length;for(m=0;m<p;m++){var t=gx.fn.evalCtxScope(l,c[m]);void 0!=t&&(w+=","+encodeURIComponent(t))}w+=","+encodeURIComponent(void 0===k?gx.fn.getControlValue_impl(d):k);p=a.length;for(m=0;m<p;m++)w+=","+encodeURIComponent(gx.fn.evalCtxScope(l,a[m]));q+=gx.ajax.encryptParms(l,w);gx.http.doCall({method:"GET",url:q,handler:function(z,r){z=gx.json.evalJSON(r);this.values=gx.fx.returnSuggestValues(this.VarRefresh,z[0]);b()},error:f,obj:this})}},returnSuggestValues:function(l,
c){return c},addElement:function(l,c,d){if(!this.elementExists(l,c,d)){var g=c.id;!0===d&&(g+=c.types.sort().join(""));l.splice(0,0,c);l[g]=c}},elementExists:function(l,c,d){var g=c.id;!0===d&&(g+=c.types.sort().join(""));return l[g]?!0:!1},deleteElement:function(l,c,d){var g=c;d&&(g+=d.sort().join(""));l[g]&&delete l[g];g=l.length;for(var a=0;a<g;a++){var b=l[a];if(b.id==c)if(d){if(this.matchingTypes(d,b.types)){l.splice(a,1);break}}else{l.splice(a,1);break}}return l},matchingTypes:function(l,c){for(var d=
c.length,g=0;g<d;g++){for(var a=!1,b=l.length,f=0;f<b;f++)c[g].toLowerCase()==l[f].toLowerCase()&&(a=!0);if(!a)return!1}return!0},findControl:function(l,c,d,g){c=gx.dom.el(d);if(null!=c&&"none"!==$(c).css("display"))return c;c=gx.fn.getRONode(d,!1);if(g&&null!=c&&$(c).is(":visible"))return c;c=gx.dom.el("gxHTMLWrp"+d);if(null!=c)return c;g&&!l.id&&"A"===l.tagName&&(l=l.parentNode);d="(^"+(g?"("+gx.fn.getRONodePrefix()+")?":"")+"v?"+d+"_(?:(?:[0-9]){4})+$)";d=new RegExp(d);return null!=l&&d.test(l.id)?
l:null},isUnderMouse:function(l){var c=gx.evt.mouse.x,d=gx.evt.mouse.y,g=gx.dom.position(l),a=gx.dom.dimensions(l);return c>=g.x&&c<=g.x+a.w&&d>=g.y&&d<=g.y+a.h||"DIV"==l.tagName&&0===a.w&&0===a.h&&l.firstChild&&(g=gx.dom.position(l.firstChild),a=gx.dom.dimensions(l.firstChild),c>=g.x&&c<=g.x+a.w&&d>=g.y&&d<=g.y+a.h)?!0:!1},dom:{generics:[],dblclicks:[],getEventHandlers:function(l){return"dblclick"==l?this.dblclicks:this.generics},addEventHandler:function(l,c,d,g){d=gx.lang.emptyObject(l)?d:l.CmpContext+
d;l={id:c+d,cId:d,type:c,obj:l,hdl:g};c=this.getEventHandlers(c);gx.fx.addElement(c,l,!1)},deleteEventHandlers:function(l){for(var c=[this.dblclicks,this.generics],d=c.length,g=0;g<d;g++){for(var a=[],b=c[g],f=b.length,k=0;k<f;k++){var m=b[k];m.obj==l&&a.push(m)}f=a.length;for(k=0;k<f;k++)gx.fx.deleteElement(b,a[k].id)}},hasEventHandler:function(l,c){var d=gx.evt.source(c);l=this.getEventHandlers(l);for(var g=l.length,a=!1,b=0;b<g&&!a;b++){var f=l[b];f=gx.fx.findControl(d,f.obj,f.cId,!0);null!=f&&
(a=c.currentTarget===f||gx.fx.isUnderMouse(f))}return a},delayedDispatch:function(l){return gx.fx.dom.hasEventHandler("dblclick",l)},raiseEvent:function(l,c){c=gx.evt.source(c);var d=$(c),g=gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR;"dblclick"==l&&(clearTimeout(parseInt(d.attr(g),10)),d.removeAttr(g));l=this.getEventHandlers(l);d=l.length;for(g=0;g<d;g++){var a=l[g],b=gx.fx.findControl(c,a.obj,a.cId,!0);null!=b&&gx.fx.isUnderMouse(b)&&a.hdl.call(a.obj)}},highlight:function(l,c,d){var g=gx.color.fromRGB(c[0],
c[1],c[2]),a=gx.dom.getStyle(l,"backgroundColor"),b="transparent"==a||"rgba(0, 0, 0, 0)"==a;return{play:function(){l.style.backgroundColor=g.Html;setTimeout(this.end,d)},end:function(){var f=a;b&&(f="transparent");l.style.backgroundColor=f}}}},obs:new gx.util.Observable,dnd:{obj:null,dragCtrl:null,clonCtrl:null,sources:[],targets:[],dropCtrl:null,noDropCtrl:null,toHdl:null,drag:function(l,c,d){d&&(gx.evt.setEventRow(l,this.dragCtrl),this.obj=d.call(l,this.dragCtrl),this.obj.gxDragTypes=c)},drop:function(l,
c,d){d&&d.call(c,l,this.dragCtrl,this.obj)},noDrop:function(){var l=this.noDropCtrl;null!=l&&l.gxDndClassName&&(l.className=l.gxDndClassName+"NoAcceptDrag")},out:function(){var l=this.dropCtrl;l&&l.gxClassName&&(l.className=l.gxClassName);this.dropCtrl=null;l=this.noDropCtrl;null!=l&&l.gxClassName&&(l.className=l.gxClassName);this.noDropCtrl=null},over:function(){var l=this.dropCtrl;null!=l&&l.gxDndClassName&&(l.className=l.gxDndClassName+"AcceptDrag")},deleteClonControl:function(){null!=this.clonCtrl&&
gx.dom.removeControlSafe(this.clonCtrl);this.clonCtrl=null},restoreControl:function(){var l=this.clonCtrl;null!=l&&(null==this.toHdl&&(l.dropLeft=parseFloat(l.style.left||"0"),l.dropTop=parseFloat(l.style.top||"0"),this.toHdl=setInterval("gx.fx.dnd.restoreControl()",2)),this.controlRestored()?(clearInterval(this.toHdl),this.toHdl=null,this.deleteClonControl()):(l=this.nextCoords(),this.moveDragControl(l.X,l.Y)))},nextCoords:function(){var l=this.clonCtrl,c=parseFloat(l.style.left||"0"),d=parseFloat(l.style.top||
"0");c>=d?(--c,d=l.dropTop-(l.dropTop-l.originalTop)*(l.dropLeft-c)/(l.dropLeft-l.originalLeft)):(--d,c=l.dropLeft-(l.dropTop-d)*(l.dropLeft-l.originalLeft)/(l.dropTop-l.originalTop));c<=l.originalLeft&&(c=l.originalLeft);d<=l.originalTop&&(d=l.originalTop);return{X:c,Y:d}},moveControl:function(l){if(null==this.clonCtrl){var c=document.createElement("DIV");c.style.position="absolute";l.gxDndClassName&&(c.className=l.gxDndClassName+"Dragging");gx.dom.shouldPurge()&&gx.dom.purge(c,!0);c.innerHTML=this.dragInfo();
gx.fn.setOpacity(50,c);document.body.appendChild(c);c.originalLeft=gx.evt.mouse.x-10;c.originalTop=gx.evt.mouse.y-10;c.diffLeft=10;c.diffTop=10;this.clonCtrl=c}this.moveDragControl(gx.evt.mouse.x,gx.evt.mouse.y)},controlRestored:function(){var l=this.clonCtrl;if(null==l)return!0;var c=parseFloat(l.style.left||"0"),d=parseFloat(l.style.top||"0")-l.originalTop;return 0>=c-l.originalLeft&&0>=d?!0:!1},moveDragControl:function(l,c){try{var d=this.clonCtrl;null!=d&&(d.style.left=l-d.diffLeft+"px",d.style.top=
c-d.diffTop+"px")}catch(g){this.deleteClonControl()}},dragInfo:function(){if(null!=this.obj){var l="",c="",d;for(d in this.obj){if("gxDragTypes"!=d){var g=[l];if("function"==typeof this.obj[d])continue;c+=d+": "+this.obj[d]+"</br>";l=g[0]}if(5<=l){c+="...";break}l++}return c}return""},deleteHandlers:function(l){gx.thread.Mutex(this,this.deleteHandlersSync,[l])},deleteHandlersSync:function(l){var c=[],d,g=this.sources.length;for(d=0;d<g;d++){var a=this.sources[d];a.obj!=l&&c.push(a)}this.sources=c;
c=[];g=this.targets.length;for(d=0;d<g;d++)a=this.targets[d],a.obj!=l&&c.push(a);this.targets=c},addSource:function(l,c,d,g,a){gx.thread.Mutex(this,this.addSourceSync,[l,c,d,g,a])},addSourceSync:function(l,c,d,g,a){c=gx.lang.emptyObject(l)?c:l.CmpContext+c;gx.fx.addElement(this.sources,{id:c,cssClass:d,types:g,obj:l,hdl:a},!1)},addTarget:function(l,c,d,g,a){gx.thread.Mutex(this,this.addTargetSync,[l,c,d,g,a])},addTargetSync:function(l,c,d,g,a){c=gx.lang.emptyObject(l)?c:l.CmpContext+c;gx.fx.addElement(this.targets,
{id:c,cssClass:d,types:g,obj:l,hdl:a},!0)},deleteSource:function(l){gx.thread.Mutex(this,this.deleteSourceSync,[l])},deleteSourceSync:function(l){this.sources=gx.fx.deleteElement(this.sources,l)},getSource:function(l){l=gx.evt.source(l);for(var c=this.sources.length,d=0;d<c;d++){var g=this.sources[d],a=this.dragCtrl=gx.fx.findControl(l,g.obj,g.id);if(null!=a&&(a.gxClassName=a.className,a.gxDndClassName=g.cssClass,gx.fx.isUnderMouse(a)))return g}return this.obj=this.dragCtrl=null},getTarget:function(l,
c){l=gx.evt.source(l);for(var d=this.targets.length,g=0;g<d;g++){var a=this.targets[g],b=gx.fx.findControl(l,a.obj,a.id);if(null!=b&&(b.gxClassName=b.className,b.gxDndClassName=a.cssClass,gx.fx.isUnderMouse(b))){if(gx.fx.matchingTypes(c,a.types))return this.noDropCtrl=null,this.dropCtrl=b,a;this.out();this.noDropCtrl=b;this.noDrop();return null}}this.out();return null}},notifications:{queuedEvents:[],initialize:function(l){l.notifications||(l.notifications=[],gx.fx.obs.addObserver("gx.ws.onMessage.notifications",
l,gx.fx.notifications.notify.closure(l),{single:!1,doNotDelete:l.IsMasterPage}),gx.fx.obs.addObserver("gx.onafterevent",l,gx.fx.notifications.fireQueuedEvents.closure(l),{single:!1,doNotDelete:l.IsMasterPage}));if(!this.webSocket){l.fullAjax||gx.dbg.write('Warning: WebNotifications are not supported with "Web User Experience": "Previous versions". You must use Smooth.');l=gx.fn.getHidden("GX_WEBSOCKET_PORT");var c=gx.basePath&&0<gx.basePath.length?"/":"";this.webSocket=new gx.webSocket({port:l,clientId:gx.fn.getHidden("GX_WEBSOCKET_ID"),
wsProtocol:"https:"===location.protocol?"wss://":"ws://",host:l?location.hostname+":"+l+"/":location.host+"/",resourceUrl:c+"gxwebsocket?",basePath:gx.basePath,namespace:"notifications"})}},deinit:function(){gx.fx.notifications.queuedEvents=[]},addTracker:function(l,c,d,g,a,b){gx.fx.notifications.initialize(l);l.notifications[c||""]={gxO:l,handler:a,eventName:d,type:g,noWait:b}},notify:function(l){l=gx.json.evalJSON(l);var c=this.notifications[l.GroupName||""];c&&(gx.fx.notifications.queuedEvents.push({notifObj:c,
data:l}),(c.noWait||gx.isInputEnabled())&&gx.fx.notifications.fireQueuedEvents())},fireQueuedEvents:function(){for(var l=0;l<gx.fx.notifications.queuedEvents.length;l++){var c=gx.fx.notifications.queuedEvents[l];if(!c.executed){gx.fx.notifications.queuedEvents.splice(l--,1);var d=c.notifObj.gxO;c.executed=!0;if(gx.lang.emptyObject(c.data.Object)||c.data.Object.toUpperCase()==d.ServerClass.toUpperCase()){var g=c.notifObj.type,a=c.notifObj.eventName;if(a){var b=d.isServerEvent(a),f={};f[g[0][0]]=c.data;
d.setEventParameters(c.notifObj.type,f);gx.evt.dispatcher.dispatch(d.getServerEventName(a),d,0,0,b,void 0,void 0,!0)}else c.notifObj.handler(c.data)}}}}},ctx:{setters:[],trackers:[],deleteHandlers:function(l){gx.thread.Mutex(this,this.deleteHandlersSync,[l])},deleteHandlersSync:function(l){var c,d=[],g=this.setters.length;for(c=0;c<g;c++){var a=this.setters[c];a.obj!=l&&d.push(a)}this.setters=d;d=[];g=this.trackers.length;for(c=0;c<g;c++)a=this.trackers[c],a.obj!=l&&d.push(a);this.trackers=d},addSetter:function(l,
c,d,g,a){gx.thread.Mutex(this,this.addSetterSync,[l,c,d,g,a])},addSetterSync:function(l,c,d,g,a){c=gx.lang.emptyObject(l)?c:l.CmpContext+c;gx.fx.addElement(this.setters,{id:c,cssClass:d,types:g,obj:l,hdl:a},!1)},addTracker:function(l,c,d){gx.thread.Mutex(this,this.addTrackerSync,[l,c,d])},addTrackerSync:function(l,c,d){gx.fx.addElement(this.trackers,{id:l.CmpContext+l.IsMasterPage.toString(),cssClass:"",types:c,obj:l,hdl:d},!0)},deleteSetter:function(l){gx.thread.Mutex(this,this.deleteSetterSync,
[l])},deleteSetterSync:function(l){this.setters=gx.fx.deleteElement(this.setters,l)},notify:function(l,c,d){gx.thread.Mutex(this,this.notifySync,[l,c,d])},notifySync:function(l,c,d){if(l&&l.forcedFocus)l.forcedFocus=!1;else{var g,a=gx.lang.emptyObject,b=function(w,p){var t=gx.O;gx.setGxO(w);p();gx.setGxO(t)},f=null;if(a(c)||a(d)){var k=this.setters.length;for(g=0;g<k;g++){var m=this.setters[g];if(a(l)){if(f=gx.fx.findControl(null,m.obj,m.id),null!=f&&a(f.onfocus)&&gx.fx.isUnderMouse(f)){b.apply(this,
[m.obj,function(){gx.evt.setEventRow(m.obj,f);c=m.types;d=m.hdl.call(m.obj,f)}]);break}}else if(l.id==m.id){b.apply(this,[m.obj,function(){f=l;gx.evt.setEventRow(m.obj,f);c=m.types;d=m.hdl.call(m.obj,f)}]);break}}}if(!a(c)&&(d||""===d))for(a=this.trackers.length,g=0;g<a;g++){var q=this.trackers[g];gx.fx.matchingTypes(c,q.types)&&b.apply(this,[q.obj,function(){q.hdl.call(q.obj,null,f,d)}])}}}}};
gx.date=function(){var l=/([0-9]{1,4})\/?-?([0-9]{1,2})\/?-?([0-9]{1,4})\s?T?([0-9]{1,2})?:?([0-9]{1,2})?:?([0-9]{1,2})?\.?([0-9]{1,3})?\s?(AM|PM)?/i,c=/([0-9]{1,2}):?([0-9]{1,2})?:?([0-9]{1,2})?[\.:]?([0-9]{1,3})?\s?(AM|PM)?/i,d=/^[0-9]{4}[/-]{1}[0-9]{2}[/-]{1}[0-9]{2}$/,g=/^([ ]*([\/|\-][ ]*[\/|\-][ ]*((00|12)(:00(:00(\.000)?)?)?[ ]*(a|am)?)?)?)?[ ]*$/i,a=new Date(0,0,0,0,0,0,0);return{UTC_Offset:(new Date).getTimezoneOffset(),clone:function(){return new Date(this.getTime())},equalsNoTime:function(b){return this.getDay()==
b.getDay()&&this.getMonth()==b.getMonth()&&this.getFullYear()==b.getFullYear()?!0:!1},toJson:function(){var b=new gx.date.gxdate("");b.assign_date(this);return b.json()},isoString:function(b){return b.toISOString()},jsonNullFormat:{Default:0,YearOne:1},gxdate:function(b,f){this.json=function(){var k=this.TimeFmt;this.TimeFmt=24;var m=this.HasTimePart,q=this.HasDatePart;this.HasDatePart=this.HasTimePart=!0;var w=this.getStringWithFmt("Y4MD")+" "+(m?this.getTimeString(!0,!0,!0,0<this.Value.getMilliseconds()):
"00:00:00");this.TimeFmt=k;this.HasTimePart=m;this.HasDatePart=q;return w};this.mapCTODFormatToPattern=function(k){return"ANSI"==k?"Y4MD":k};this.emptyDateString=function(k){return-1==k.indexOf("Y4")?gx.blankWhenEmpty?"        ":"  /  /  ":gx.blankWhenEmpty?"          ":"Y4MD"==k?"    /  /  ":"  /  /    "};this.getStringWithFmt=function(k){k=this.mapCTODFormatToPattern(k);if(0===this.Value-a)return this.emptyDateString(k);var m=k,q,w=this.FormatPos(k);if(this.JsonNullFormat===gx.date.jsonNullFormat.YearOne){var p=
q="01";var t="0001"}else q=gx.text.padl(this.Value.getDate().toString(),2,"0"),p=gx.text.padl((this.Value.getMonth()+1).toString(),2,"0"),t=gx.text.padl(this.Value.getFullYear().toString(),4,"0");m=m.replace("D",q+(3>w.DPos?"/":""));m=m.replace("M",p+(3>w.MPos?"/":""));-1==k.indexOf("Y4")?(t=t.slice(2,4),m=m.replace("Y",t+(3>w.YPos?"/":""))):m=m.replace("Y4",t+(3>w.YPos?"/":""));return m};this.getString=function(k){gx.lang.emptyObject(k)&&(k=gx.dateFormat);return this.getStringWithFmt(k)};this.toISOString=
function(){return this.Value.toISOString()};this.toString=function(){var k=this.HasTimePart?" "+this.getTimeString(!0,!0):"";return this.getString()+k};this.gxdtoc=function(k,m){return this.getStringWithFmt(this.mapCTODFormatToPattern(k)).replace("/",m)};this.getUrlVal=function(){if(gx.date.isNullDate(this))return"";if(this.HasDatePart){var k=gx.text.padl(this.Value.getDate().toString(),2,"0");var m=gx.text.padl((this.Value.getMonth()+1).toString(),2,"0");var q=gx.text.padl(this.Value.getFullYear().toString(),
4,"0")}else m=k="01",q="0001";var w=this.HasTimePart?gx.text.padl(this.Value.getHours().toString(),2,"0"):"",p=this.HasTimePart?gx.text.padl(this.Value.getMinutes().toString(),2,"0"):"",t=this.HasTimePart?gx.text.padl(this.Value.getSeconds().toString(),2,"0"):"",z=this.HasTimePart?gx.text.padl(this.Value.getMilliseconds().toString(),3,"0"):"";return q+m+k+w+p+t+z};this.getTimeString=function(k,m,q,w){if(gx.date.isNullDate(this)&&gx.blankWhenEmpty){var p="";q&&(p+="  ");k&&(p+="   ");m&&(p+="   ");
w&&(p+="    ");return p}p="";var t=this.Value.getHours();q=q||!0;12==this.TimeFmt&&12<=t?(12<t&&(t-=12),p=" PM"):12==this.TimeFmt&&(p=" AM");var z=this.HasTimePart?gx.text.padl(t.toString(),2,"0"):"",r=this.HasTimePart?gx.text.padl(this.Value.getMinutes().toString(),2,"0"):"",u=this.HasTimePart?gx.text.padl(this.Value.getSeconds().toString(),2,"0"):"",x=this.HasTimePart?gx.text.padl(this.Value.getMilliseconds().toString(),3,"0"):"";0===t&&""!==p&&(z="12");t="";q&&(t=z);k&&(t=t+":"+r);m&&(t=t+":"+
u);w&&(t=t+"."+x);return t+p};this.FormatPos=function(k){if("ANSI"==k){var m=1;var q=2;k=3}else{var w=k.indexOf("Y4");m=-1==w?k.indexOf("Y")+1:w+1;q=k.indexOf("M");0!==w&&q++;k=k.indexOf("D");0!==w&&k++}return{YPos:m,MPos:q,DPos:k}};this.assign_date=function(k){k instanceof gx.date.gxdate?(this.Value=k.Value,this.HasTimePart=k.HasTimePart,this.HasDatePart=k.HasDatePart):this.Value=void 0===k?a:k};this.toUTC=function(){if(gx.date.isNullDate(this)||"undefined"==typeof gx.StorageTimeZone||gx.StorageTimeZone==
gx.NULL_TIMEZONEOFFSET)return this;var k=new gx.date.gxdate("");k.Value.setTime(this.Value.getTime()+6E4*this.Value.getTimezoneOffset());k.HasTimePart=this.HasTimePart;k.HasDatePart=this.HasDatePart;return k};this.fromUTC=function(){if(gx.date.isNullDate(this)||"undefined"==typeof gx.StorageTimeZone||gx.StorageTimeZone==gx.NULL_TIMEZONEOFFSET)return this;var k=new gx.date.gxdate("");k.Value.setTime(this.Value.getTime()-6E4*this.Value.getTimezoneOffset());k.HasTimePart=this.HasTimePart;k.HasDatePart=
this.HasDatePart;return k};this.assign_string=function(k,m,q,w){var p=l,t=p.exec(k),z=0;if(null!=t){var r=k.indexOf(t[0]);0<r&&"."==gx.text.substring(k,r,1)&&(t=null)}if(null==t)-1!=k.indexOf("  /  /  ")&&(q=!0);else{r=t.length;for(var u=1;u<r;u++)gx.lang.emptyObject(t[u])||z++}var x=this.FormatPos(m),E=u=r=m=0,F=0,G=0,n=0;try{this.HasDatePart=!0;if(6==x.DPos+x.MPos+x.YPos&&null!=t&&3<=z){null!=t[x.YPos]&&(m=parseInt(t[x.YPos],10));if(isNaN(m))throw"InvalidDate";m<this.FYearOfCentury?m+=2E3:100>m?
m+=1900:1E3>m&&(m+=1E3);null!=t[x.MPos]&&(r=parseInt(t[x.MPos],10)-1);if(isNaN(r)||0>r||11<r)throw"InvalidDate";null!=t[x.DPos]&&(u=parseInt(t[x.DPos],10));if(isNaN(u)||0>u||u>gx.date.maxDays(r,m))throw"InvalidDate";}else this.HasDatePart=!1;this.HasTimePart=!1;x=0;null==t?(p=c,t=p.exec(k),null!=t&&(x=1,this.HasTimePart=!0)):3<z&&(x=4,this.HasTimePart=!0);if(this.HasTimePart&&!q){null!=t[x]&&(E=parseInt(t[x],10));if(gx.lang.emptyObject(t[x])||isNaN(E))throw this.HasTimePart=!1,"InvalidHour";null!=
t[x+1]&&(F=parseInt(t[x+1],10));isNaN(F)&&(F=0);null!=t[x+2]&&(G=parseInt(t[x+2],10));isNaN(G)&&(G=0);null!=t[x+3]&&(n=parseInt(t[x+3],10));isNaN(n)&&(n=0);if(!this.validTime(-1!=k.toLowerCase().indexOf("m"),E,F,G,n))throw"InvalidHour";(-1!=k.indexOf("PM")||-1!=k.indexOf("pm"))&&12>E&&(E+=12);-1==k.indexOf("AM")&&-1==k.indexOf("am")||12!=E||(E=0)}}catch(v){if(w)throw v;"InvalidDate"==v&&(n=G=F=E=u=r=m=0);"InvalidHour"==v&&(n=G=F=E=0)}this.Value=new Date(m,r,u,E,F,G,n);0<m+r+u+E+F+G+n&&(!this.HasTimePart||
q)&&this.Value.getDate()!=u&&(this.Value=new Date(Date.UTC(m,r,u,E+12,F,G,n)))};this.validTime=function(k,m,q,w,p){return k&&12<m||!k&&(24<m||24==m&&0<q+w)?!1:59>=q||59>=w||999>=p};this.compare=function(k){return"string"==typeof k?this.compare_string(k):this.compare_date(k)};this.compare_string=function(k){k=new gx.date.gxdate(k);return this.compare_date(k.Value)};this.compare_date=function(k){if(!k)return null;k=k instanceof gx.date.gxdate?k.Value:k;return this.HasTimePart?this.Value-k:this.Value.getFullYear()>
k.getFullYear()?1:this.Value.getFullYear()<k.getFullYear()?-1:this.Value.getMonth()>k.getMonth()?1:this.Value.getMonth()<k.getMonth()?-1:this.Value.getDate()>k.getDate()?1:this.Value.getDate()<k.getDate()?-1:0};this.JsonNullFormat=gx.date.jsonNullFormat.Default;this.TimeFmt=gx.timeFormat||12;this.SFmt=f||gx.dateFormat;this.FYearOfCentury=gx.centuryFirstYear||40;"string"==typeof b?this.assign_string(b,this.SFmt):this.assign_date(b)},isANSIDateTime:function(b){return"string"==typeof b&&l.test(b)?!0:
!1},isANSIDate:function(b){return"string"==typeof b&&d.test(b)?!0:!1},isLeapYear:function(b){return 0===b%400?!0:0===b%100?!1:0===b%4?!0:!1},dateObject:function(b){return b instanceof this.gxdate?b.Value:"string"==typeof b?(new this.gxdate(b,this.isANSIDate(b)?"Y4MD":void 0)).Value:b instanceof Date?b:new Date},gxdateObject:function(b){if(b instanceof this.gxdate)return b;if("string"==typeof b)return new this.gxdate(b,this.isANSIDate(b)?"Y4MD":void 0);if(b instanceof Date){var f=new this.gxdate("");
f.assign_date(b);return f}return new this.gxdate("")},clonedDate:function(b,f){var k=new this.gxdate("");k.assign_date(f);b instanceof this.gxdate&&(k.SFmt=b.SFmt,k.HasTimePart=b.HasTimePart,k.HasDatePart=b.HasDatePart);return k},nullDate:function(){return(new this.gxdate("")).Value},now:function(){var b=this.today();b.HasTimePart=!0;b.HasDatePart=!0;return b},today:function(){var b=new this.gxdate("");b.assign_date(new Date);return b},ctot:function(b,f){return new this.gxdate(b,f)},ctod:function(b,
f){b=new this.gxdate(b,f);b.Value.setHours(0,0,0,0);return b},ymdtod:function(b,f,k){b=new this.gxdate(b+"/"+f+"/"+k,"ANSI");b.Value.setHours(0,0,0,0);return b},ymdhmstot:function(b,f,k,m,q,w){return new this.gxdate(b+"/"+f+"/"+k+" "+m+":"+q+":"+w,"ANSI")},hour:function(b){return(new this.gxdate(b)).Value.getHours()},minute:function(b){return(new this.gxdate(b)).Value.getMinutes()},second:function(b){return(new this.gxdate(b)).Value.getSeconds()},millisec:function(b){return 864E5*b},day:function(b){return(new this.gxdate(b)).Value.getDate()},
month:function(b){return(new this.gxdate(b)).Value.getMonth()+1},year:function(b){return(new this.gxdate(b)).Value.getFullYear()},addDays:function(b,f){return this.addMill(b,this.dayToMillisec(f))},addSec:function(b,f){return this.addMill(b,this.secToMillisec(f))},addMill:function(b,f){var k=this.dateObject(b).clone(),m=new this.gxdate;m.assign_date(k);var q=k.getMilliseconds();k.setMilliseconds(q+f);return m.getString(this.isANSIDate(b)?"Y4MD":-1==gx.dateFormat.indexOf("Y4")?gx.dateFormat.replace("Y",
"Y4"):gx.dateFormat)},secDiff:function(b,f){return this.millisecToSec(this.milliDiff(b,f))},daysDiff:function(b,f){return this.millisecToDay(this.milliDiff(b,f))},milliDiff:function(b,f){b=this.gxdateObject(b);f=this.gxdateObject(f);b=b.Value.valueOf();f=f.Value.valueOf();return b-f},dayToMillisec:function(b){return 864E5*b},secToMillisec:function(b){return 1E3*b},millisecToDay:function(b){return b/24/60/60/1E3},millisecToSec:function(b){return b/1E3},dateParm:function(b){return"string"==typeof b?
new this.gxdate(b):b},urlDate:function(b,f){b="undefined"!=typeof b.value?b.value:gx.dom.spanValue(b)||b;f=new this.gxdate(b,f);return this.isNullDate(f)?"":f.Value.getFullYear().toString()+gx.text.padl((f.Value.getMonth()+1).toString(),2,"0")+gx.text.padl(f.Value.getDate().toString(),2,"0")},urlDateTime:function(b,f){b="undefined"!=typeof b.value?b.value:gx.dom.spanValue(b)||b;f=b instanceof this.gxdate?b:new this.gxdate(b,f);return f.HasDatePart?this.isNullDate(f)?"":f.Value.getFullYear().toString()+
gx.text.padl((f.Value.getMonth()+1).toString(),2,"0")+gx.text.padl(f.Value.getDate().toString(),2,"0")+gx.text.padl(f.Value.getHours().toString(),2,"0")+gx.text.padl(f.Value.getMinutes().toString(),2,"0")+gx.text.padl(f.Value.getSeconds().toString(),2,"0")+(0===f.Value.getMilliseconds()?"":gx.text.padl(f.Value.getMilliseconds().toString(),3,"0")):"00010101"+gx.text.padl(f.Value.getHours().toString(),2,"0")+gx.text.padl(f.Value.getMinutes().toString(),2,"0")+gx.text.padl(f.Value.getSeconds().toString(),
2,"0")},isNullDate:function(b){b instanceof this.gxdate&&(b=b.Value);var f=this.nullDate();return f.getFullYear()!=b.getFullYear()||f.getMonth()!=b.getMonth()||f.getDate()!=b.getDate()||f.getHours()!=b.getHours()||f.getMinutes()!=b.getMinutes()||f.getSeconds()!=b.getSeconds()||f.getMilliseconds()!=b.getMilliseconds()?!1:!0},dtoc:function(b,f,k){return(new this.gxdate(b,this.isANSIDate(b)?"Y4MD":void 0)).gxdtoc(f,k)},dttoc:function(b,f,k){b=new this.gxdate(b,this.isANSIDateTime(b)?"Y4MD":void 0);var m=
gx.dateFormat,q="";0<f&&(8<f&&-1==m.indexOf("Y4")&&(m=m.replace("Y","Y4")),q=b.getStringWithFmt(m)+" ");return 0<k?q+b.getTimeString(3<k,8<=k,1<k,12<=k):q},nulldate_toc:function(b,f){var k=new this.gxdate("");k.HasTimePart=!0;k.HasDatePart=!0;var m=gx.dateFormat,q="";0<b&&(8<b&&-1==m.indexOf("Y4")&&(m=m.replace("Y","Y4")),q=k.getStringWithFmt(m)+" ");return 0<f&&!gx.blankWhenEmpty?q+k.getTimeString(3<f,8<=f,1<f,12<=f):q},addyr:function(b,f){return this.addmth(b,12*f)},addmth:function(b,f){var k=this.gxdateObject(b);
b=new Date(this.dateObject(b).getTime());var m=b.getDate();b.setDate(1);b.setMonth(b.getMonth()+1*f);b.setDate(Math.min(m,this.maxDays(b.getMonth(),b.getFullYear())));return this.clonedDate(k,b)},dtadd:function(b,f){var k=this.gxdateObject(b);b=new Date(this.dateObject(b).getTime());var m=b.getMilliseconds();b.setMilliseconds(m+1E3*f);return this.clonedDate(k,b)},dtdiff:function(b,f){b=this.dateObject(b);f=this.dateObject(f);return(b-f)/1E3},maxDays:function(b,f){return[31,this.isLeapYear(f)?29:28,
31,30,31,30,31,31,30,31,30,31][b]},eom:function(b){var f=this.gxdateObject(b);b=this.dateObject(b);b=new Date(b.getTime());var k=this.maxDays(b.getMonth(),b.getFullYear());b.setDate(k);return this.clonedDate(f,b)},dow:function(b){b=this.dateObject(b);return b.equalsNoTime(this.nullDate())?0:b.getDay()+1},age:function(b,f){b=this.dateObject(b);f=this.dateObject(f);var k=this.nullDate();if(b.equalsNoTime(k)||f.equalsNoTime(k)||b.equalsNoTime(f))return 0;if(f>=b){k=36E5*f.getUTCHours()+6E4*f.getUTCMinutes()+
1E3*f.getUTCSeconds()-(36E5*b.getUTCHours()+6E4*b.getUTCMinutes()+1E3*b.getUTCSeconds());if(f.getUTCDate()>b.getUTCDate()||f.getUTCDate()==b.getUTCDate()&&0<=k)k=new Date(Date.UTC(f.getUTCFullYear(),f.getUTCMonth(),b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds()));else for(k=new Date(Date.UTC(f.getUTCFullYear(),f.getUTCMonth()-1,b.getUTCDate(),b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds())),f=f.getUTCMonth()-1,-1==f&&(f=11);k.getUTCMonth()!=f;)k.setUTCDate(k.getUTCDate()-
1);return b=k.getUTCMonth()>=b.getUTCMonth()?k.getUTCFullYear()-b.getUTCFullYear():k.getUTCFullYear()-1-b.getUTCFullYear()}return 0},valid_date:function(b,f,k,m,q,w,p,t){var z=p||!1,r=!1;w=b.value;p=k;var u="^[ ]*(",x=0<f?"GXM_invaliddate":"GXM_invalidtime";var E=gx.num.replaceFullWidthNumerals(w);E=E.split("\n")[0];k="YMD"==k?1:0;q=12==q?1:0;if(g.test(E))r=!0,w=E="";else if(0<f&&5>=E.length){var F=(new Date).getFullYear().toString().substring(10===f?0:2);E=1===k?F+"/"+E:E+"/"+F}u=0<f?8==f?0===k?
u+"([0-9]{1,2})[/|-]?([0-9]{1,2})[/|-]?([0-9]{2})":u+"([0-9]{2})[/|-]?([0-9]{1,2})[/|-]?([0-9]{1,2})":0===k?z?u+"([0-9]{1,2})[/|-]?([0-9]{1,2})[/|-]?([0-9]{4})":u+"([0-9]{1,2})[/|-]?([0-9]{1,2})[/|-]?([0-9]{2,4})":z?u+"([0-9]{4})[/|-]?([0-9]{1,2})[/|-]?([0-9]{1,2})":u+"([0-9]{2,4})[/|-]?([0-9]{1,2})[/|-]?([0-9]{1,2})":u+"( )?( )?( )?";0<m&&(u+="(",0<f&&(u+="[ ]*"),u+="([0-9]{1,2})",u=2<m?u+"(:?([0-9]{1,2}))?":u+"(( )?)?",u=5<m?u+"(:?([0-9]{1,2}))?":u+"(( )?)?",u=8<m?u+"(\\.?([0-9]{1,3}))?":u+"(( )?)?",
u=(1==q?u+"[ ]*(a|am|p|pm)?":u+"(( )?)?")+")?");k=new RegExp(u+")?[ ]*$","i");if(k.test(E)){z=E.match(k);0<f?(k="/",0<E.indexOf("-")&&(k="-"),z[2]?k=z[2]+k+z[3]+k+z[4]:(k=1==t?"        ":"  "+k+"  "+k+"  ",10==f&&(k+="  "))):k="";0<m&&(0<f&&(k+=" "),1!=t||z[6]||z[8]||z[10]||z[12]?(z[6]?k+=z[6]:r?(t=E.match(g),k=t[4]?k+t[4]:k+(1==q?"12":"00")):k+=1==q?"12":"00",2<m&&(k=z[8]?k+":"+z[8]:k+":00"),5<m&&(k=z[10]?k+":"+z[10]:k+":00"),8<m&&(k=z[12]?k+"."+z[12]:k+".000"),1==q&&(k="p"==(z[13]?z[13].substr(0,
1):"a").toLowerCase()?k+" PM":k+" AM")):k+="        ");q=new this.gxdate("",p);try{q.assign_string(k,p,0>=m,!0),""!==gx.text.trim(k)&&(k=this.formatDateTime(m,f,p,q))}catch(G){return gx.fn.alert(b,gx.getMessage(x)),gx.csv.setFormatError(b),!1}if(k!=w){b.value=k;if(-1!=navigator.userAgent.indexOf("Firefox/2"))b.onchange();(f=gx.O.getValidStructFld(b))&&gx.O.refreshDependantGrids(f)}gx.csv.setFormatError(b,!1);return!0}gx.fn.alert(b,gx.getMessage(x));gx.csv.setFormatError(b);return!1},formatDateTime:function(b,
f,k,m){var q="";0<b&&m.HasTimePart&&(q=m.getTimeString(4<=b,8<=b,void 0,12<=b));b=k;8<f&&-1==b.indexOf("Y4")&&(b=b.replace("Y","Y4"));return 0<f?m.getStringWithFmt(b)+(m.HasTimePart?" "+q:""):m.HasTimePart?q:""},_init:function(){Date.prototype.equalsNoTime=this.equalsNoTime;Date.prototype.clone=this.clone;Date.prototype.json=this.toJson}}}();
gx.text={stringBuffer:function(l){this.capacity=l||10;this.buffer=[];this.append=function(c){this.buffer.push(c);return this};this.clear=function(){delete this.buffer;this.buffer=[]};this.toString=function(){return 0===this.buffer.length?"":this.buffer.join("")};this.length=function(){return this.toString().length}},format:function(){for(var l=arguments[0],c=arguments.length,d=1;d<c;d++)l=l.replace("%"+d,gx.text.rtrim(arguments[d].toString()));return l},formatString:function(l,c,d,g){if(d)return gx.text.padl("",
c,"*");if(!gx.lang.emptyObject(g)&&this.startsWith(g,"@")&&0<g.indexOf("!")){c="";d=this.padr("",l?l.length:0,"!");g=this.replaceAll(d,"!"," ");if(l)for(var a=0,b=0,f;a<g.length&&b<l.length;)f=l[b],this.isSeparator(d[a])?(f==d[a]?(b++,c+=f):c+=g[a],a++):(c+=this.getCaret(d,f,a,c),a++,b++);else c=g;return gx.text.rtrim(c)}return l},getCaret:function(l,c,d,g){switch(l[d]){case "9":if(!isNaN(c))return c;break;case "X":return c;case "A":case "M":case "!":return c.toUpperCase();case "Z":if("1"<=c&&"9">=
c)return c;if("0"==c){l=!0;for(c=0;c<d;c++)if(" "!=g[c]){l=!1;break}if(!l)return"0"}}return" "},isSeparator:function(l){return"9"!=l&&"X"!=l&&"!"!=l&&"Z"!=l&&"A"!=l&&"M"!=l},replaceAll:function(l,c,d){return-1!=l.toString().indexOf(c)?String(l).split(c).join(d):l},charReplace:function(l,c,d){for(var g="",a=l.length,b=0;b<a;b++){for(var f=!1,k=c.length,m=0;m<k;m++)if(l.charAt(b)==c[m]&&m<d.length){g+=d[m];f=!0;break}!1===f&&(g+=l.charAt(b))}return g},length:function(l){return l.length},upper:function(l){return l.toUpperCase()},
lower:function(l){return l.toLowerCase()},padr:function(l,c,d){var g=c-l.length;if(1>g)return l.substring(0,c);for(c=0;c<g;c++)l+=d;return l},padl:function(l,c,d){var g=c-l.length;if(1>g)return l.substring(0,c);c="";for(var a=0;a<g;a++)c+=d;return c+l},ltrimstr:function(l,c,d){return this.ltrim(gx.num.str(l,c,d))},ltrim:function(l){return l.toString().replace(/^ */,"")},rtrim:function(l){return l.toString().replace(/ *$/,"")},trim:function(l){return this.rtrim(this.ltrim(l))},chr:function(l){return String.fromCharCode(l)},
like:function(l,c){if(null===c)return!1;c=c.replace(/([\.\\\+\*\?\[\^\]\$\(\)\{\}\=\!\<\>\|\:\-])/g,"\\$1");return(new RegExp(c.replace(/%/g,".*").replace(/_/g,"."))).test(l)},compare:function(l,c){return this.rtrim(l).localeCompare(this.rtrim(c))},concat:function(l,c,d){return this.rtrim(l)+d+c},space:function(l){for(var c="",d=0;d<l;d++)c+=" ";return c},substring:function(l,c,d){return 0>d?l.toString().substring(c-1):l.toString().substring(c-1,c-1+d)},tostring:function(l){return l.toString()},toformattedstring:function(l){return l.toString().replace(".",
gx.decimalPoint)},newline:function(){return"\n"},escapeMapping:{"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},escapeRegex:{start:/["\\\x00-\x1f]/,end:/([\x00-\x1f\\"])/g},escapeFn:function(l,c){if(l=gx.text.escapeMapping[c])return l;l=c.charCodeAt();return"\\u00"+Math.floor(l/16).toString(16)+(l%16).toString(16)},escapeString:function(l){return this.escapeRegex.start.test(l)?'"'+l.replace(this.escapeRegex.end,this.escapeFn)+'"':'"'+l+'"'},indexOf:function(l,c,d){if(d>
l.length)return 0;0>=d&&(d=1);return l.indexOf(c,d-1)+1},lastIndexOf:function(l,c,d){if(d>l.length)return 0;0>=d&&(d=l.length);return l.lastIndexOf(c,d-1)+1},endsWith:function(l,c){return-1!==l.indexOf(c,l.length-c.length)},startsWith:function(l,c){return 1==this.indexOf(l,c)},contains:function(l,c){return 0<this.indexOf(l,c)},charAt:function(l,c){return l.charAt(c-1)}};
gx.num=function(){var l=/[\uFF10-\uFF19]|[\uFF0C-\uFF0E]|\u2015|\u30FC|\uFF0F/g,c=function(d,g,a,b){var f=gx.lang.instanceOf,k="undefined"==typeof gx.num.dec?null:gx.num.dec.bigDecimal,m=gx.thousandSeparator,q=gx.decimalPoint;"string"==typeof a&&(a=gx.num.parseFloat(a,m,q));"string"==typeof b&&(b=gx.num.parseFloat(b,m,q));return f(a,k)&&f(b,Number)?a[d](new k(b.toString())).toString():f(a,Number)&&f(b,k)?(new k(a.toString()))[d](b).toString():f(a,Number)&&f(b,Number)||"undefined"==typeof gx.num.dec?
g(a,b):a[d](b)};return{str:function(d,g,a){if("string"===typeof d)return d;"undefined"==typeof g&&(g=10);if("undefined"==typeof a||g-1<=a)a=0;d=d.toFixed(a);return d.length<=g?gx.text.padl(d,g," "):gx.text.padr("",g,"*")},compare:function(d,g){if("number"===typeof d&&"number"===typeof g)return d>g?1:d===g?0:-1;"number"===typeof d&&(d=new gx.num.dec.bigDecimal(d.toString()));"number"===typeof g&&(g=new gx.num.dec.bigDecimal(g.toString()));return gx.lang.instanceOf(d,gx.num.dec.bigDecimal)&&gx.lang.instanceOf(g,
gx.num.dec.bigDecimal)?d.compareTo(g):d-g},maxNumericPrecision:function(){return 15},extractValue:function(d,g,a){a=gx.num.replaceFullWidthNumerals(a);if(gx.lang.instanceOf(a,Number)||this.overflowNumber(a))return a;var b=void 0===a?"":a;if(d){a="+"==d.charAt(0)||"-"==d.charAt(0)?d.replace(/[\+\-\d,*\.*Z*\s]+/,""):d.replace(/[\d,*\.*Z*\s]+/g,"");d.lastIndexOf(".")!=d.indexOf(".")&&(b=gx.text.replaceAll(b,".",""));for(d=0;d<a.length;d++)b=b.replace(a.charAt(d),"");b=!gx.config.number.validation.strict&&
g?gx.text.replaceAll(b,g,""):b}return gx.text.trim(b)},formatNumber:function(d,g,a,b,f,k,m){if(!a||""===d&&"Blank"===m)return d?d.toString():"";d=gx.lang.emptyObject(d)?"0":d;b=-1!=a.indexOf(",")?gx.thousandSeparator:"";m=gx.decimalPoint;var q=!1,w=gx.numericLenDec(a),p=w.Integers;g=w.Decimals;"string"==typeof d&&b&&(d=gx.text.replaceAll(d,b,""));"string"==typeof d&&(d=d.replace(m,"."));if(gx.num.overflowNumber(d))return d;try{d="undefined"!=typeof gx.num.dec&&d instanceof gx.num.dec.bigDecimal||
0!==g?gx.num.setScale(d,g,m):gx.num.trunc(d,0).toString()}catch(r){d=d.toString()}w=d.split(".");w[0]||(w[0]="0");w[1]||(w[1]="");if(k){if(w[1].length>g&&w[1].replace(/0*$/,"").length>g)throw"InvalidNumber";if(f&&"-"==w[0].charAt(0)&&w[0].replace(/0*/,"").length>p||!f&&"-"==w[0].charAt(0)||w[0].replace(/[+]?0*/,"").length>p)throw"InvalidNumber";}p=w[0].substring(0,p);0>d&&(f=!0);if(w[1].length<g){var t=w[1];for(k=w[1].length+1;k<=g;k++)t+="0";w[1]=t}t="";f&&("-"==p.charAt(0)?(t="-",p=p.substring(1)):
"+"==a.charAt(0)&&(0!==Number(d)&&(t="+"),"+"==p.charAt(0)&&(p=p.substring(1))));if(b&&3<p.length){f=p;p="";for(d=3;d<f.length;d+=3)k=f.slice(f.length-d,f.length-d+3),p=b+k+p+"";d=f.substr(0,0===f.length%3?3:f.length%3);p=d+p}m=w[1]?m:"";0<g?(d=a.split("."),d[1]==gx.text.padr("",g,"Z")&&(q=!0)):(d=Array(a),0<d.length&&0===gx.text.replaceAll(gx.text.replaceAll(d[0],",",""),"Z","").length&&(q=!0));g=0;a="";if(1<d.length)for(f=d[1],k=0;k<f.length;k++){var z=f.charAt(k);"9"==z||"Z"==z?w[1].length>g?(a+=
w[1].charAt(g),g++):a+="0":"."!=z&&","!=z&&(a+=z)}w="";d=d[0];g=p.length-1;for(k=d.length-1;0<=k;k--)if(f=d.charAt(k),"9"==f||"Z"==f)if(0<=g){if("Z"!=f||0!==Number(p.substring(0,g+1)))w=p.charAt(g)+w;g--}else w=("9"==f?"0":"")+w;else"Z"!=f&&","!=f&&"+"!=f?w=f+w:","==f&&p.charAt(g)==b&&(w=p.charAt(g)+w,g--);return!q||"0"!=w&&""!==w||0!==a.replace(/0+$/,"").length?t+w+(a?m+a:""):""},add:function(d,g){return c("add",function(a,b){return a+b},d,g)},subtract:function(d,g){return c("substract",function(a,
b){return a-b},d,g)},multiply:function(d,g){return c("multiply",function(a,b){return a*b},d,g)},divide:function(d,g){return c("divide",function(a,b){return a/b},d,g)},negate:function(d){return gx.lang.instanceOf(d,Number)||"undefined"==typeof gx.num.dec?-d:d.negate()},pow:function(d,g){return c("pow",function(a,b){return Math.pow(a,b)},d,g)},mod:function(d,g){return c("remainder",function(a,b){return a%b},d,g)},setScale:function(d,g){if(gx.lang.instanceOf(d,Number))return d.toFixed(g);"string"==typeof d&&
(d=gx.text.trim(d));if(d.length<this.maxNumericPrecision()||"undefined"==typeof gx.num.dec){if(0===d.length&&0===g)return"0";var a=d.split(".");a[1]||(a[1]="");if(a[1].length<g){var b=a[1];for(d=a[1].length+1;d<=g;d++)b+="0";a[1]=b;return a[0]+(""===a[1]?"":".")+a[1]}return Number(parseFloat(d)).toFixed(g)}return(new gx.num.dec.bigDecimal(d)).setScale(g,gx.num.dec.ROUND_UP).toString()},parseFloat:function(d,g,a){if(gx.lang.instanceOf(d,Number)||this.overflowNumber(d))return d;d=this.toInvariant(d,
g,a);return d.length>this.maxNumericPrecision()&&"undefined"!=typeof gx.num.dec?new gx.num.dec.bigDecimal(d):parseFloat(d)},toInvariant:function(d,g,a){return"number"==typeof d||"undefined"!=typeof gx.num.dec&&d instanceof gx.num.dec.bigDecimal?d:gx.text.replaceAll(d,g,"").replace(a,".")},parseInt:function(d,g,a){if("number"==typeof d)return d;d=gx.text.replaceAll(d,a,"");return parseInt(d,g)},overflowNumber:function(d){return/\*(\**)/.test(d)},urlDecimal:function(d,g,a){return"undefined"!=typeof d?
(d="undefined"!=typeof d.value?d.value:d,d=this.parseFloat(d,g,a),d.toString()):""},random:function(){return Math.random()},abs:function(d){return Math.abs(d)},intval:function(d){d="undefined"!=typeof d?d.toString():"";d=d.length<gx.num.maxNumericPrecision()||"undefined"==typeof gx.num.dec?parseInt(d,0):(new gx.num.dec.bigDecimal(d)).setScale(0,gx.num.dec.ROUND_UP);isNaN(d)&&(d=0);return d},val:function(d){d=gx.text.trim(d).replace(",",".");d=this.parseFloat(d);isNaN(d)&&(d=0);return d},trunc:function(d,
g){var a=d;d=d.toString();var b=d.indexOf(".");if(-1!=b){a=d.substring(0,b);if(0===g)return Number(a);d=d.substring(b+1,b+1+g);a=gx.num.parseFloat(a+"."+d);isNaN(a)&&(a=0)}return a},round:function(d,g){return 0<=g?parseFloat(gx.num.decimalAdjust("round",d,-g).toFixed(g)):gx.num.roundNeg(d,g)},decimalAdjust:function(d,g,a){if("undefined"===typeof a||0===+a)return Math[d](g);g=+g;a=+a;if(isNaN(g)||"number"!==typeof a||0!==a%1)return NaN;g=g.toString().split("e");g=Math[d](+(g[0]+"e"+(g[1]?+g[1]-a:-a)));
g=g.toString().split("e");return+(g[0]+"e"+(g[1]?+g[1]+a:a))},roundNeg:function(d,g){d=d.toString();var a=d.indexOf(".");var b=parseInt(g,0)+1;b=""+"0000000000000000000000".substring(1,b);var f=parseFloat("."+b+"5");-1==a?(a="0000000000000000000000",b=""+d):0===a?(b="0",d=0+parseFloat(d)+parseFloat(f),d+="0000000000000000000000",a=""+d.substring(1,d.length)):(d=parseFloat(d)+f,b=d.toString().substring(0,a),a=""+(""+d+"0000000000000000000000").substring(a+1,a+1+parseInt(g,0)));a=a.substring(0,parseInt(g,
0));g=parseFloat(b+"."+a);isNaN(g)&&(g=0);return g},normalize_decimal_sep:function(d,g,a,b){var f=b.lastIndexOf(a);0<=d.indexOf(".")&&","==a&&-1==f&&b.lastIndexOf(".")==b.indexOf(".")?b=b.replace(".",a):-1==d.indexOf(g)&&"."==a&&-1==f&&b.lastIndexOf(",")==b.indexOf(",")&&(b=b.replace(",",a));return b},truncate:function(d,g,a){g=d.lastIndexOf(g);var b=d;-1!=g&&(b=0<a?1:0,b=d.slice(0,g+parseInt(a,10)+b));return b},valid_decimal:function(d,g,a,b){var f=d.value,k=!0,m=gx.O.getValidStructFld(d),q=gx.rtPicture(m,
d);b=q?gx.numericLenDec(q).Decimals:b;f=this.normalize_decimal_sep(q,g,a,f);gx.lang.emptyObject(m)||(f=gx.num.extractValue(gx.rtPicture(m,d),g,f));var w=new RegExp("^[ ]*((([+-]{1}[0-9]+)||([0-9]*))(\\"+g+"[0-9]{3})*(\\"+a+"[0-9]*)?)?[ ]*$");if(f)if(w.test(f)){b=gx.num.truncate(f,a,b);try{gx.lang.emptyObject(m)||(b=gx.num.formatNumber(b,m.dec,q,m.len,m.sign,!0,m.emptyAsNull)),"."!=a&&"SELECT"==d.tagName&&(b=gx.num.toInvariant(b,g,a))}catch(p){k=!1}if(k&&b!=gx.text.trim(d.value)&&(d.value=b,gx.util.browser.isIEStrict()||
-1!=navigator.userAgent.indexOf("Firefox/2")))d.onchange()}else k=!1;else k=!0;k?gx.csv.setFormatError(d,!1):(gx.csv.setFormatError(d),gx.fn.alert(d,gx.getMessage("GXM_badnum")))},valid_integer:function(d,g){var a=gx.O.getValidStructFld(d),b=gx.lang.emptyObject(a);var f=d.value;b||(f=gx.num.extractValue(gx.rtPicture(a,d),g,f));g=b||-1==gx.rtPicture(a,d).indexOf(",")?/^[ ]*(([+-]{1}[0-9]+)||([0-9]*))[ ]*$/:new RegExp("^[ ]*([+-]{1}[0-9]+||[0-9]*)(\\"+g+"[0-9]{3})*[ ]*$");var k=!0;if(f)if(g.test(f)){try{b||
(f=gx.num.formatNumber(f,a.dec,gx.rtPicture(a,d),a.len,a.sign,!0,a.emptyAsNull))}catch(m){k=!1}if(f!=gx.text.trim(d.value)&&(d.value=f,-1!=navigator.userAgent.indexOf("Firefox/2")))d.onchange()}else k=!1;else k="number"===d.type&&"undefined"!==typeof d.validity?d.validity.valid:!0;k?gx.csv.setFormatError(d,!1):(gx.csv.setFormatError(d),gx.fn.alert(d,gx.getMessage("GXM_badnum")))},replaceFullWidthNumerals:function(d){return"string"===typeof d?d.replace(l,function(g){return 8213==g.charCodeAt()||12540==
g.charCodeAt()?String.fromCharCode(45):String.fromCharCode(g.charCodeAt()-65248)}):d}}}();
gx.color={rgb:function(l,c,d){return 65536*l+256*c+d},css:function(l){return"rgb"==l.substring(0,3)?eval(l):"#"==l.charAt(0)?parseInt(l.substring(1),16):0},html:function(l){l=this.toHex(l);gx.lang.emptyObject(l)&&(l="000000");l=gx.text.padl(l,6,"0");var c={};c.Hexa=l;c.Html="#"+l;c.R=parseInt(l.substring(0,2),16);c.G=parseInt(l.substring(2,4),16);c.B=parseInt(l.substring(4,6),16);return c},fromRGB:function(l,c,d){var g={};"undefined"!=typeof l&&"undefined"!=typeof c&&"undefined"!=typeof d&&(g.Hexa=
this.toHex(l)+this.toHex(c)+this.toHex(d),g.Html="#"+g.Hexa,g.R=l,g.G=c,g.B=d);return g},ARGBToHex:function(l){var c=this.toHex(l>>16&255),d=this.toHex(l>>8&255);l=this.toHex(l&255);return c+d+l},toHex:function(l){if(void 0===l)return"000000";if(0>l)return gx.color.ARGBToHex(l);if(0===l)return l+"0";for(var c,d="";0!==l;)c=l%16,l=(l-c)/16,d="0123456789ABCDEF".charAt(c)+d;0!==d.length%2&&(d="0"+d);return d}};
gx.grid=function(l){return{drawAtServer:!1,deleteMethods:{images:0,menu:1,none:2},deletePositions:{left:0,right:1,bottomR:2,bottomL:3,topR:4,topL:5},deleteMethod:null,deleteImage:null,undeleteImage:null,deletePosition:null,deletePositionFree:null,deleteTooltip:null,deleteTitle:null,lastFocusCtrl:null,styles:{none:0,uniform:1,header:2,report:3,0:"none",1:"uniform",2:"header",3:"report"},getImplClass:function(c,d){return d?(gx.lang.inherits(gx.ui.grid,gx.uc.UserControl,!0),gx.lang.inherits(gx.ui.grid,
c.isResponsive?gx.grid.responsiveGrid:gx.grid.impl,!0),gx.lang.inherits(d,gx.ui.grid,!0),d=new d(gx.$),c&&(d.ParentObject=c.parentObject,d.ControlName=c.gridName,c.parentObject.setUserControl(d)),d):c.isResponsive?new gx.grid.responsiveGrid("gx"):new gx.grid.impl("gx")},validGridColsValue:function(c){c=void 0!=c?c:1;return 0!=c?c:9999},setActiveGridRow:function(c,d){"string"===typeof c&&(c=(c=gx.O.getGrid(c))?c.grid:null);c&&c.gxAllowSelection&&(gx.csv.currentGridSelection=c,"undefined"!==typeof d&&
(c.toggleRowHoverById(c.gxHoveredRowId,!1),c.gxHoveredRowId=parseInt(d,10)-1,gx.grid.clearActiveGridHandlerInstalled||(gx.fx.obs.addObserver("gx.onclick",this,gx.grid.clearActiveGridHandler),gx.grid.clearActiveGridHandlerInstalled=!0)))},clearActiveGrid:function(c){c&&gx.csv.currentGridSelection!==c.grid||(delete gx.csv.currentGridSelection,delete gx.grid.clearActiveGridHandlerInstalled,gx.fx.obs.deleteObserver("gx.onclick",this,gx.grid.clearActiveGridHandler))},clearActiveGridHandler:function(c){c=
gx.evt.source(c.event);c=gx.fn.rowGridId(c);(c=gx.fn.getGridObj(c))&&c.grid.gxAllowSelection||gx.grid.clearActiveGrid()},handleKeyUpEvt:function(c){var d=gx.csv.currentGridSelection,g=!1;if(!d||!d.gxAllowSelection||d.gxAllowHovering)return g;switch(c.keyCode){case 38:case 40:d.ownerGrid.setSelection(d.ownerGrid.getSelection(),!0),gx.evt.cancel(c,!0),g=!0}return g},handleKeyPressEvt:function(c){var d=gx.csv.currentGridSelection,g=!1;if(!d||!d.gxAllowHovering&&!d.gxAllowSelection)return g;var a=d.gxAllowHovering;
switch(c.keyCode){case 38:a?g=d.setPreviousRowHovered():d.ownerGrid.setPreviousRowSelected(!1);gx.evt.cancel(c,!0);break;case 40:a?g=d.setNextRowHovered():d.ownerGrid.setNextRowSelected(!1);gx.evt.cancel(c,!0);break;case 13:g=d.ownerGrid.setSelection(d.gxHoveredRowId)&&d.gxOnLineActivate}return g},grid:function(c,d,g,a,b,f,k,m,q,w,p,t,z,r,u,x,E,F,G,n,v,y,B,C,I,L,M,N,R,P,X,W,aa,ba,ha,ia,la,oa){var na=function(A){return function(D){D=this.parentObject.getGridById(a,D||gx.fn.currentGridRow(a));return A.call(this,
D||this)}.closure(this)}.closure(this);this.parentObject=c;this.parentObject["sub"+b+"_Rows"]=na(function(A){return A.grid.pageSize/A.grid.gxGridCols});this.parentObject[f.toUpperCase()+(q?"_MPAGE":"")+"_nFirstRecordOnPage"]=na(function(A){return A.grid.firstRecordOnPage});this.parentObject[f.toUpperCase()+(q?"_MPAGE":"")+"_nEOF"]=na(function(A){return A.grid.eof});this.gridLvl=d;this.gridLvlName=g;this.gridId=a;this.gridName=b;this.realGridName=f;this.containerName=k||this.gridName+"Container";this.parentName=
w||"";this.pagingParms=[];this.lvlKey=p||[];this.isFreestyle=t||!1;this.isResponsive=aa||!1;this.allowHovering=(this.allowSelection=r||!1)&&u||!1;this.allowCollapsing=X||!1;this.collapsed=!1;this.sortable=!0;this.hoverColor=this.selectionColor=null;this.visible=!0;this.refreshTimer=null;this.pageSizeParm=L||!1;this.hasAddlines=M||!1;this.hasForEachLine=N||!1;this.width=void 0!=v?v:0;this.widthUnit=y||"";this.height=void 0!=B?B:0;this.heightUnit=C||"";this.gridCols=void 0!=z?z:1;this.gridCols=0!=this.gridCols?
this.gridCols:9999;this.gridRows=void 0!=x?x:5;this.gridResponsiveCols=ba||[1,1,1,1];this.usePaging=(this.usePaging=E||!1)&&!this.isFreestyle;this.eof=1;this.firstRecordOnPage=0;this.defaultDragable=F||!1;this.defaultSetsContext=G||!1;this.boundedCollType=n||"";this.boundedCollName=W||"";this.gxContainerCtrl=this.contextMenu=null;this.lastRefreshParms="";this.gxComponentContext=m;this.isMasterPageGrid=q;this.htmlTags="";this.onLineActivate=P;this.addingRows=!1;this.deleteMethod=gx.grid.deleteMethod;
this.DatePickersControls=[];this.GridUserControls=[];this.GridComponents=[];this.GridControls=[];this.IsValidState=[];this.implClass=R;this.grid=gx.grid.getImplClass(this,R);this.grid.ownerGrid=this;this.grid.parentGxObject=this.parentObject;this.grid.gxLvl=this.gridLvl;this.grid.gxId=this.gridId;this.grid.gxGridName=this.gridName;this.grid.gxGridObject=this.containerName;this.grid.gxParentName=this.parentName;this.grid.gxIsFreestyle=this.isFreestyle;this.grid.gxWidth=this.width;this.grid.gxWidthUnit=
this.widthUnit;this.grid.gxHeight=0;this.grid.gxAllowSelection=this.allowSelection;this.grid.gxAllowHovering=this.allowHovering;this.grid.gxAllowCollapsing=this.allowCollapsing;this.grid.gxCollapsed=this.collapsed;this.grid.gxSortable=this.sortable;this.grid.gxSelectionColor=this.selectionColor;this.grid.gxHoverColor=this.hoverColor;this.grid.gxVisible=this.visible;this.grid.gxGridCols=this.gridCols;this.grid.gxGridResponsiveCols=this.gridResponsiveCols;this.grid.gxCmpContext=this.gxComponentContext;
this.grid.gxHtmlTags=this.htmlTags;this.grid.gxIsMasterPageGrid=this.isMasterPageGrid;this.grid.gxDragable=this.defaultDragable;this.grid.gxHasAddlines=this.hasAddlines;this.grid.gxHasForEachLine=this.hasForEachLine;this.grid.gxOnLineActivate=this.onLineActivate;this.grid.gxNewRowText=void 0!=I?I:"New Row";this.grid.beforeRenderCallbacks=[];this.grid.isAbstract=la;this.isUsercontrol=gx.lang.instanceOf(this.grid,gx.uc.UserControl);this.useUserControlModelValues=function(){return this.isUsercontrol&&
!this.grid.useNativeChildControls};this.currentBuffer=this.grid.gxBuffer;this.parentGrid=null;this.childGrids=[];this.hiddens=[];this.grid.selectedRows=[];this.oldCmps={};this.ColumnPropertiesAfterRender=[];this.grid.useHiddensForControlValues=this.isUsercontrol&&(this.grid.useHiddensForControlValues||"undefined"===this.grid.useHiddensForControlValues);this.gxCreateGridCode=function(A){var D=new gx.grid.grid(this.parentObject,this.gridLvl,this.gridLvlName,this.gridId,this.gridName+"_"+A,this.gridName,
this.containerName+"_"+A,this.gxComponentContext,this.isMasterPageGrid,this.parentName,this.lvlKey,this.isFreestyle,this.gridCols,this.allowSelection,this.allowHovering,this.gridRows,this.usePaging,this.defaulDragable,this.defaultSetsContext,this.boundedCollType,this.width,this.widthUnit,this.height,this.heightUnit,this.grid.gxNewRowText,this.pageSizeParm,this.hasAddlines,this.hasForEachLine,this.implClass,this.onLineActivate,this.allowCollapsing,this.boundedCollName,this.isResponsive,this.gridResponsiveCols,
!1,0,this.grid.isAbstract,this.InverseLoading),J=this.grid,H=D.grid;D.emptyText=this.emptyText;H.ControlLvl=this.gridLvl;H.GridId=this.gridId;H.GridRow=A;H.GridBaseName=this.gridName;if(J.Properties)for(K in J.Properties)H.setProp(K,J.Properties[K],J[K],J.PropTypes[K]);if(J.DynProperties)for(A=0,len=J.DynProperties.length;A<len;A++){var K=J.DynProperties[A];H.setDynProp(K,J.Properties[K],J[K],J.PropTypes[K],!0)}return D}.closure(this);this.gxAddColumnsCode=[];this.grid.usePaging=this.usePaging;this.grid.eof=
this.eof;this.grid.firstRecordOnPage=this.firstRecordOnPage;this.postingVariables=[];this.InfiniteScrolling=ha;this.InverseLoading=oa;this.ScrollType=ia;this.isAbstract=la;this.addColumnDinCode=function(A,D){this.gxAddColumnsCode.push(function(){A.apply(this,D)})};this.addSingleLineEdit=function(A,D,J,H,K,O,Q,S,U,Z,T,Y,V,fa,ca,ja,qa,ra,ka,sa,ta,wa,ua,va){this.addColumnDinCode(this.addSingleLineEdit,arguments);var ma=this.newColumn(H,Q,Y,S);ma.visible=qa;ma.htmlName=J;ma.gxId=D;ma.gxAttId=A;ma.gxAttName=
O;ma.gxTooltip=K;ma.gxWidthUnit=U;ma.gxColSize=T;ma.gxSetsContext=ka;ma.gxCssClass=ta;ma.gxColumnClass=ua;ma.gxColumnHeaderClass=va;ma.gxControl=new gx.html.controls.singleLineEdit;ma.gxControl.column=ma;ma.gxControl.isPassword=sa;ma.gxControl.visible=ma.visible;ma.gxControl.dataType=ma.type;ma.gxControl.clickEvent=V;this.grid.addColumn(ma)};this.addPostingVar=function(A){this.postingVariables.push(A)};this.addMultipleLineEdit=function(A,D,J,H,K,O,Q,S,U,Z,T,Y,V,fa,ca,ja,qa,ra){this.addColumnDinCode(this.addMultipleLineEdit,
arguments);var ka=this.newColumn(H,O,V,Q);ka.visible=ca;ka.htmlName=J;ka.gxId=D;ka.gxAttId=A;ka.gxAttName=K;ka.gxWidthUnit=S;ka.gxSetsContext=ja;ka.gxColumnClass=ra;ka.gxControl=new gx.html.controls.multipleLineEdit;ka.gxControl.column=ka;ka.gxControl.dataType=ka.type;ka.gxControl.visible=ka.visible;ka.gxControl.heightUnit=Z;ka.gxControl.clickEvent=fa;this.grid.addColumn(ka)};this.addBlob=function(A,D,J,H,K,O,Q,S,U,Z,T,Y,V,fa){this.addColumnDinCode(this.addBlob,arguments);var ca=this.newColumn(H,
O,"left",U);ca.visible=Y;ca.htmlName=J;ca.gxId=D;ca.gxAttId=A;ca.gxAttName=K;ca.gxWidthUnit=T;ca.gxSetsContext=V;ca.gxColumnClass=fa;ca.gxControl=new gx.html.controls.blob;ca.gxControl.column=ca;ca.gxControl.dataType=ca.type;ca.gxControl.visible=ca.visible;ca.gxControl.height=S;ca.gxControl.width=U;this.grid.addColumn(ca)};this.addRadioButton=function(A,D,J,H,K,O,Q,S,U,Z,T){this.addColumnDinCode(this.addRadioButton,arguments);var Y=this.newColumn(H,O,"left","");Y.visible=U;Y.htmlName=J;Y.gxId=D;Y.gxAttId=
A;Y.gxAttName=K;Y.gxSetsContext=Z;Y.gxColumnClass=T;Y.gxControl=new gx.html.controls.radio;Y.gxControl.column=Y;Y.gxControl.dataType=Y.type;Y.gxControl.vertical=S;Y.gxControl.visible=Y.visible;Y.gxControl.clickEvent=Q;this.grid.addColumn(Y)};this.addComboBox=function(A,D,J,H,K,O,Q,S,U,Z,T,Y,V){this.addColumnDinCode(this.addComboBox,arguments);var fa=this.newColumn(H,O,"left",T);fa.visible=U;fa.htmlName=J;fa.gxId=D;fa.gxAttId=A;fa.gxAttName=K;fa.gxSetsContext=Z;fa.gxWidthUnit=Y;fa.gxColumnClass=V;
fa.gxControl=new gx.html.controls.comboBox;fa.gxControl.column=fa;fa.gxControl.dataType=fa.type;fa.gxControl.rtEnabled=1==S;fa.gxControl.visible=fa.visible;fa.gxControl.clickEvent=Q;this.grid.addColumn(fa)};this.addListBox=function(A,D,J,H,K,O,Q,S,U,Z,T,Y,V,fa){this.addColumnDinCode(this.addListBox,arguments);var ca=this.newColumn(H,O,"left",T);ca.visible=U;ca.htmlName=J;ca.gxId=D;ca.gxAttId=A;ca.gxAttName=K;ca.gxSetsContext=Z;ca.gxWidthUnit=Y;ca.gxColumnClass=V;ca.gxControl=new gx.html.controls.listBox;
ca.gxControl.column=ca;ca.gxControl.dataType=ca.type;ca.gxControl.rows=void 0!==fa?fa:4;ca.gxControl.rtEnabled=1==S;ca.gxControl.visible=ca.visible;ca.gxControl.clickEvent=Q;this.grid.addColumn(ca)};this.addCheckBox=function(A,D,J,H,K,O,Q,S,U,Z,T,Y,V,fa,ca){this.addColumnDinCode(this.addCheckBox,arguments);var ja=this.newColumn(H,Q,"left",V);ja.visible=T;ja.htmlName=J;ja.gxId=D;ja.gxAttId=A;ja.gxAttName=O;ja.gxChecked=S;ja.gxUnChecked=U;ja.gxSetsContext=Y;ja.gxWidthUnit=fa;ja.gxColumnClass=ca;ja.gxControl=
new gx.html.controls.checkBox;ja.gxControl.column=ja;ja.gxControl.checkedValue=S;ja.gxControl.uncheckedValue=U;ja.gxControl.dataType=ja.type;ja.gxControl.visible=ja.visible;ja.gxControl.clickEvent=Z;this.grid.addColumn(ja)};this.addBitmap=function(A,D,J,H,K,O,Q,S,U,Z,T,Y){this.addColumnDinCode(this.addBitmap,arguments);var V=this.newColumn(Z,"","left",H);V.htmlName=D;V.gxId=J;V.gxAttId=A;V.gxWidthUnit=K;V.gxControl=new gx.html.controls.image;V.gxControl.column=V;V.gxControl.dataType=V.type;V.gxControl.width=
H;V.gxControl.widthUnit=K;V.gxControl.height=O;V.gxControl.heightUnit=Q;V.gxControl.clickEvent=S;V.gxCssClass=T;V.gxColumnClass=Y;this.grid.addColumn(V)};this.addVideo=function(A,D,J,H,K,O,Q,S,U,Z,T,Y){this.addColumnDinCode(this.addVideo,arguments);var V=this.newColumn(Z,"","left",H);V.htmlName=D;V.gxId=J;V.gxAttId=A;V.gxWidthUnit=K;V.gxControl=new gx.html.controls.video;V.gxControl.column=V;V.gxControl.dataType=V.type;V.gxControl.width=H;V.gxControl.widthUnit=K;V.gxControl.height=O;V.gxControl.heightUnit=
Q;V.gxControl.clickEvent=S;V.gxCssClass=T;V.gxColumnClass=Y;this.grid.addColumn(V)};this.addAudio=function(A,D,J,H,K,O,Q,S,U,Z,T,Y){this.addColumnDinCode(this.addAudio,arguments);var V=this.newColumn(Z,"","left",H);V.htmlName=D;V.gxId=J;V.gxAttId=A;V.gxWidthUnit=K;V.gxControl=new gx.html.controls.audio;V.gxControl.column=V;V.gxControl.dataType=V.type;V.gxControl.width=H;V.gxControl.widthUnit=K;V.gxControl.height=O;V.gxControl.heightUnit=Q;V.gxControl.clickEvent=S;V.gxCssClass=T;V.gxColumnClass=Y;
this.grid.addColumn(V)};this.addFile=function(A,D,J,H,K,O,Q,S,U,Z,T,Y){this.addColumnDinCode(this.addVideo,arguments);var V=this.newColumn(Z,"","left",H);V.htmlName=D;V.gxId=J;V.gxAttId=A;V.gxWidthUnit=K;V.gxControl=new gx.html.controls.file;V.gxControl.column=V;V.gxControl.dataType=V.type;V.gxControl.width=H;V.gxControl.widthUnit=K;V.gxControl.height=O;V.gxControl.heightUnit=Q;V.gxControl.clickEvent=S;V.gxCssClass=T;V.gxColumnClass=Y;this.grid.addColumn(V)};this.addTextBlock=function(A,D,J){this.addColumnDinCode(this.addTextBlock,
arguments);var H=this.newColumn("","","left");H.gxId=J;H.htmlName=A;H.gxControl=new gx.html.controls.textBlock;H.gxControl.column=H;H.gxControl.dataType=H.type;H.gxControl.clickEvent=D;this.grid.addColumn(H)};this.addLabel=function(A){this.addColumnDinCode(this.addLabel,arguments);var D=this.newColumn("","","left");D.htmlName=A;D.gxControl=new gx.html.controls.label;D.gxControl.column=D;this.grid.addColumn(D)};this.addButton=function(A,D,J,H,K){this.addColumnDinCode(this.addButton,arguments);var O=
this.newColumn("","","left");O.htmlName=D;O.gxId=A;O.gxControl=new gx.html.controls.button;O.gxControl.column=O;O.gxControl.dataType=O.type;this.grid.addColumn(O)};this.addGrid=function(A){this.addColumnDinCode(this.addGrid,arguments);this.childGrids.push(A);var D=this.newColumn("","","left");D.htmlName=A.getContainerControlId();D.gxControl=new gx.html.controls.grid;D.gxControl.column=D;this.grid.addColumn(D)};this.addUsercontrol=function(A,D,J,H,K,O,Q,S,U,Z){this.addColumnDinCode(this.addUsercontrol,
arguments);var T="",Y=this.parentObject;Y.GridUCsProps&&Y.GridUCsProps[K]&&(T=Y.GridUCsProps[K].title||"");T=this.newColumn(T,"","left");T.gxUCId=A;T.gxUCLastId=D;T.gxUCClassName=J;T.gxUCContainerName=H;T.gxUCControlName=K;T.gxUCFieldName=O;T.gxShowFunc=Q;T.gxC2VFuncs=S;T.gxV2CFuncs=U;T.visible=Z;T.gxControl=new gx.html.controls.userControl;T.gxControl.column=T;T.gxControl.dataType=T.type;T.htmlName=K.toUpperCase();T.isUserControl=!0;this.grid.addColumn(T)};this.startContainer=function(){this.addColumnDinCode(this.startContainer,
arguments);var A=this.newColumn("","","left");A.gxControl=new gx.html.controls.userControlContainer;A.gxControl.column=A;A.gxControl.dataType=A.type;this.grid.addColumn(A)};this.endContainer=function(){this.addColumnDinCode(this.endContainer,arguments);this.currentBuffer.append("</div>")};this.addWebComponent=function(A){this.addColumnDinCode(this.addWebComponent,arguments);var D=this.newColumn("","","left");D.gxControl=new gx.html.controls.webComponent;D.gxControl.column=D;D.gxControl.dataType=D.type;
this.grid.addColumn(D)};this.addEmbeddedPage=function(A){this.addColumnDinCode(this.addEmbeddedPage,arguments);var D=this.newColumn("","","left");D.gxControl=new gx.html.controls.embeddedPage;D.gxControl.column=D;D.gxControl.dataType=D.type;this.grid.addColumn(D)};this.addHtmlCode=function(A){this.addColumnDinCode(this.addHtmlCode,arguments);this.currentBuffer.append(A)};this.startTable=function(A,D,J){this.addColumnDinCode(this.startTable,arguments);var H=this.newColumn("","","left");H.gxId=D;H.htmlName=
A+"_"+D;H.gxControl=new gx.html.controls.table;H.gxControl.column=H;H.gxControl.width=J;H.gxControl.dataType=H.type;this.grid.addColumn(H)};this.endTable=function(){this.addColumnDinCode(this.endTable,arguments);this.currentBuffer.append("</table>")};this.startRow=function(A,D,J,H,K,O){this.addColumnDinCode(this.startRow,arguments);var Q=this.newColumn("","","left");Q.gxControl=new gx.html.controls.row;Q.gxControl.column=Q;Q.gxControl.title=A;Q.gxControl.align=D;Q.gxControl.verticalAlign=J;Q.gxControl.backColor=
H;Q.gxControl.borderColor=K;Q.gxControl.cssClass=O;Q.gxControl.ownCssClass=O;Q.gxControl.dataType=Q.type;this.grid.addColumn(Q)};this.endRow=function(){this.addColumnDinCode(this.endRow,arguments);this.currentBuffer.append("</tr>")};this.startCell=function(A,D,J,H,K,O,Q,S,U,Z){this.addColumnDinCode(this.startCell,arguments);var T=this.newColumn("","","left");T.gxControl=new gx.html.controls.cell;T.gxControl.column=T;T.gxControl.title=A;T.gxControl.align=D;T.gxControl.verticalAlign=J;T.gxControl.backColor=
H;T.gxControl.borderColor=K;T.gxControl.height=O;T.gxControl.width=Q;T.gxControl.colSpan=S;T.gxControl.rowSpan=U;T.gxControl.cssClass=Z;T.gxControl.dataType=T.type;this.grid.addColumn(T)};this.endCell=function(){this.addColumnDinCode(this.endCell,arguments);this.isResponsive?this.currentBuffer.append("</div>"):this.currentBuffer.append("</td>")};this.startGroup=function(A,D,J,H,K){this.addColumnDinCode(this.startGroup,arguments);var O=this.newColumn("","","left");O.htmlName=A;O.gxControl=new gx.html.controls.group;
O.gxControl.column=O;O.gxControl.id=A;O.gxControl.caption=D;O.gxControl.height=J;O.gxControl.width=H;O.gxControl.cssClass=K;O.gxControl.dataType=O.type;this.grid.addColumn(O)};this.endGroup=function(){this.addColumnDinCode(this.endGroup,arguments);this.currentBuffer.append("</fieldset>")};this.startDiv=function(A,D,J,H){this.addColumnDinCode(this.startDiv,arguments);var K=this.newColumn("","","left");K.gxId=A;K.htmlName=D+"_"+A;K.gxControl=new gx.html.controls.div;K.gxControl.column=K;K.gxControl.width=
H;K.gxControl.height=J;K.gxControl.dataType=K.type;this.grid.addColumn(K)};this.endDiv=function(){this.addColumnDinCode(this.endDiv,arguments);var A=this.newColumn("","","left");A.gxControl=new gx.html.controls.divEnd;A.gxControl.column=A;this.grid.addColumn(A)};this.startFormGroup=function(A,D,J,H){this.addColumnDinCode(this.startFormGroup,arguments);var K=this.newColumn("","","left");K.gxId=A;K.htmlName=D+"_"+A;K.gxControl=new gx.html.controls.formGroup;K.gxControl.column=K;K.gxControl.width=H;
K.gxControl.height=J;K.gxControl.dataType=K.type;this.grid.addColumn(K)};this.endFormGroup=function(){this.addColumnDinCode(this.endFormGroup,arguments);var A=this.newColumn("","","left");A.gxControl=new gx.html.controls.formGroupEnd;A.gxControl.column=A;this.grid.addColumn(A)};this.newColumn=function(A,D,J,H){D=this.getColumnType(D);A=new gx.grid.column(A,D,H,J);this.currentBuffer=A.buffer;A.htmlName="";A.gxId="";A.gxAttId="";A.gxAttName="";return A};this.getColumnType=function(A){switch(A){case "decimal":case "int":A=
gx.types.numeric;break;case "date":A=gx.types.date;break;case "dtime":A=gx.types.dateTime;break;case "boolean":A=gx.types.bool;break;case "GeneXus\\Geolocation":A=gx.types.geolocation;break;default:A=gx.types.character}return A};this.addOldComponent=function(A,D){"undefined"==typeof this.oldCmps[A]&&(this.oldCmps[A]=[]);this.oldCmps[A].push(D)};this.updateOldComponents=function(){for(var A=this.grid.rows.length,D=0;D<A;D++)delete this.oldCmps[this.grid.rows[D].gxId];for(var J in this.oldCmps){for(A=
this.oldCmps[J];0<A.length;)D=A.shift(),gx.fn.deleteHidden(D);delete this.oldCmps[J]}};this.addHidden=function(A){this.hiddens.push(A)};this.addHiddenControl=function(A,D,J){gx.fn.setHidden(A,D);1!=J&&this.addHidden(A)};this.clearHiddens=function(){for(var A=0;A<this.hiddens.length;A++)gx.fn.deleteHidden(this.hiddens[A]);this.hiddens=[]};var da={};this.setHtmlTags=function(A){gx.lang.apply(da,A);var D=' style="'+("0"==da.Visible?"display:none;":"");A=' class="'+da.Class+'"';var J=gx.lang.emptyObject;
D+=J(da.Background)?"":"background:"+da.Background+";";D+=J(da.Backcolor)||"0"==da.Backcolor?"":"background-color:"+gx.color.html(da.Backcolor).Html+";";D+=J(da.Bordercolor)||"0"==da.Bordercolor?"":"border-color:"+gx.color.html(da.Bordercolor).Html+";";D+=J(da.Borderwidth)||"0"==da.Borderwidth?"":" border-width:"+da.Borderwidth+";";D+=J(da.Width)||"0"==da.Width?"":" width:"+gx.dom.addUnits(da.Width,this.width==da.Width?this.widthUnit:"")+";";D+=J(da.Height)||"0"==da.Height?"":"max-height:"+gx.dom.addUnits(da.Height,
this.height==da.Height?this.heightUnit:"")+";";A+=J(da.Align)?"":' align="'+da.Align+'"';A+=J(da.Tooltiptext)?"":' title="'+da.Tooltiptext+'"';A+=J(da.Cellpadding)?"":' data-cellpadding="'+da.Cellpadding+'"';A+=J(da.Cellspacing)?"":' data-cellspacing="'+da.Cellspacing+'"';this.htmlTags=gx.text.trim(A+(D+'"'));this.grid.gxHtmlTags=this.htmlTags;J(da.Width)||(this.grid.gxWidth=da.Width);J(da.Height)||(this.grid.gxHeight=da.Height)};var ea={};this.setGridStyles=function(A){gx.lang.apply(ea,A);this.grid.header=
A.Header;this.visible=void 0!=ea.Visible?gx.lang.gxBoolean(ea.Visible):!0;this.setSortable(void 0!=ea.Sortable?gx.lang.gxBoolean(ea.Sortable):!0);this.background=void 0!=ea.Background?ea.Background:"";this.cssClass=void 0!=ea.Class?ea.Class:"";this.titleBackstyle=void 0!=ea.Backcolorstyle?ea.Backcolorstyle:gx.grid.styles.none;this.titleFont=void 0!=ea.Titlefont?ea.Titlefont:"";this.linesFont=void 0!=ea.Linesfont?ea.Linesfont:"";this.borderWidth=void 0!=ea.Borderwidth?ea.Borderwidth:"";this.toolTipText=
void 0!=ea.Tooltiptext?ea.Tooltiptext:"";try{this.backcolor=void 0!=ea.Backcolor?gx.color.html(ea.Backcolor).Html:"",this.titleBackcolor=void 0!=ea.Titlebackcolor?gx.color.html(ea.Titlebackcolor).Html:"",this.titleForecolor=void 0!=ea.Titleforecolor?gx.color.html(ea.Titleforecolor).Html:"",this.linesBackcolorOdd=void 0!=ea.Backcolorodd?gx.color.html(ea.Backcolorodd).Html:"",this.linesBackcolorEven=void 0!=ea.Backcoloreven?gx.color.html(ea.Backcoloreven).Html:"",this.bordercolor=void 0!=ea.Bordercolor?
gx.color.html(ea.Bordercolor).Html:""}catch(D){gx.dbg.logEx(D,"gxgrid.js","setGridStyles")}this.borderWidth=void 0!=ea.Borderwidth?ea.Borderwidth:"";this.toolTipText=void 0!=ea.Tooltiptext?ea.Tooltiptext:"";this.grid.gxCssClass="";this.grid.gxTitleClass="";this.grid.gxFooterClass="";this.grid.gxOddLlinesClass="";this.grid.gxEvenLinesClass="";this.grid.gxBackColor=this.backcolor;this.grid.gxTitleBackColor=this.titleBackcolor;this.grid.gxTitleForeColor=this.titleForecolor;this.grid.gxTitleBackstyle=
this.titleBackstyle;this.grid.gxTitleFont=this.titleFont;this.grid.gxLinesFont=this.linesFont;this.grid.gxBackground=this.background;this.grid.gxLinesBackcolorOdd=this.linesBackcolorOdd;this.grid.gxLinesBackcolorEven=this.linesBackcolorEven;this.grid.gxBorderWidth=this.borderWidth;this.grid.gxBordercolor=this.bordercolor;this.grid.gxToolTipText=this.toolTipText;this.grid.gxVisible=this.visible;""!=this.cssClass&&(this.grid.gxCssClass=this.cssClass,this.grid.gxTitleClass=this.cssClass+"Title",this.grid.gxFooterClass=
this.cssClass+"Footer",this.titleBackstyle==gx.grid.styles.none?(this.grid.gxOddLlinesClass=this.cssClass+"Odd",this.grid.gxEvenLinesClass=this.grid.gxOddLlinesClass):this.titleBackstyle==gx.grid.styles.uniform?(this.grid.gxOddLlinesClass=this.cssClass+"Uniform",this.grid.gxEvenLinesClass=this.grid.gxOddLlinesClass):this.titleBackstyle==gx.grid.styles.header?(this.grid.gxOddLlinesClass=this.cssClass+"Odd",this.grid.gxEvenLinesClass=this.grid.gxOddLlinesClass):this.titleBackstyle==gx.grid.styles.report&&
(this.isFreestyle&&0>=this.gridCols?(this.grid.gxOddLlinesClass=this.cssClass+"Odd",this.grid.gxEvenLinesClass=this.grid.gxOddLlinesClass):(this.grid.gxOddLlinesClass=this.cssClass+"Odd",this.grid.gxEvenLinesClass=this.cssClass+"Even")))};this.setSortable=function(A){if(this.sortable!=A){this.sortable=A;for(var D=this.grid.columns.length,J=0;J<D;J++)this.grid.columns[J].sortable=A}};this.lastRowId=0;this.addRow=function(A){var D,J=this.lastRowId++,H=gx.grid.rowId(J+1);H=new gx.grid.row(J,A,H,this.grid.gxParentRowId);
H.gxCmpContext=this.gxComponentContext;H.Grids=A.Grids;H.ownerGrid=this;H.gxLvl=this.gridLvl;this.setRowHiddens(A.Hiddens);for(var K=this.grid.columns,O=K.length,Q=0;Q<O;Q++){var S=K[Q];if(0!==J){var U=this.grid.rows[0].gxProps[Q];var Z=A.Props[Q].length;for(D=this.grid.rowsValues?U.length-1:U.length;Z<D;Z++)H.gxProps[Q].push(U[Z])}D=A.Props[Q];D=D[D.length-1];(U=this.grid.rowsValues)&&!this.autoRefreshing&&(Z=U[J],void 0!==Z&&0<Z.length&&(D=U[J][Q]));H.values[Q]=D;this.grid.rowsValues&&H.gxProps[Q].push(D);
this.parentObject.isTransaction()&&(S=this.columnIndexInKey(S.gxAttId),-1!=S&&(H.gxKeyValues[S]=D))}this.isFreestyle&&(H.IsNew=!0,this.installChildGrids(H));this.grid.addRow(H);return H};this.installChildGrids=function(A){for(var D=this.childGrids.length,J=0;J<D;J++){var H=this.childGrids[J],K=H.gxCreateGridCode(A.gxId);K.grid.parentGxObject=this.parentObject;var O=(K.isMasterPageGrid?"MP":this.grid.gxCmpContext)+K.realGridName+"Container";K.gxContainerDivName=O+"Div_"+A.gxId;K.gxContainerDataName=
O+"Data_"+A.gxId;K.gxContainerValuesName=O+"DataV_"+A.gxId;A.gxGrids.push(K);K.parentGrid=this;K.parentRow=A;this.parentObject.setGrid(K);H.copyPropertiesTo(K);K.grid.gxCmpContext=this.grid.gxCmpContext;K.grid.gxParentRowId=A.gxId;this.installChildGridColumns(K,H)}};this.installChildGridColumns=function(A,D){for(var J=D.gxAddColumnsCode.length,H=0;H<J;H++)D.gxAddColumnsCode[H].call(A)};this.copyPropertiesTo=function(A){A.cssClass=this.cssClass;A.titleBackstyle=this.titleBackstyle;A.titleBackcolor=
this.titleBackcolor;A.linesBackcolorOdd=this.linesBackcolorOdd;A.linesBackcolorEven=this.linesBackcolorEven;A.grid.gxCssClass=this.grid.gxCssClass;A.grid.gxTitleClass=this.grid.gxTitleClass;A.grid.gxOddLlinesClass=this.grid.gxOddLlinesClass;A.grid.gxEvenLinesClass=this.grid.gxEvenLinesClass;A.grid.gxAllowCollapsing=this.grid.gxAllowCollapsing;A.grid.gxCollapsed=this.grid.gxCollapsed};this.setRowHiddens=function(A){if(A&&this.parentObject.isTransaction())for(var D in A)gx.fn.setHidden(D,A[D])};this.executeEvent=
function(A,D){gx.evt.setGridEvt(this.gridId.toString(),D);this.instanciateRow(D);this.parentObject[A].call(this.parentObject,D)};this.getHiddenName=function(A){var D="";this.parentRow&&(D="_"+this.parentRow.gxId);return this.grid.gxCmpContext+this.realGridName.toUpperCase()+(this.isMasterPageGrid?"_MPAGE":"")+"_"+A+D};this.updatePagingVars=function(A,D){void 0==A&&void 0==D?(this.grid.eof=gx.fn.getHidden(this.getHiddenName("nEOF")),this.grid.firstRecordOnPage=gx.fn.getHidden(this.getHiddenName("nFirstRecordOnPage"))):
(this.grid.eof=A,this.grid.firstRecordOnPage=D)};this.setPagingVars=function(A,D){this.grid.eof=A;this.grid.firstRecordOnPage=D;gx.fn.setHidden(this.getHiddenName("nEOF"),A);gx.fn.setHidden(this.getHiddenName("nFirstRecordOnPage"),D)};this.clearDefaultEventHandlers=function(){if(this.defaultDragable||this.defaultSetsContext){var A=this.grid.rows.length;for(var D=0;D<A;D++){var J=this.containerName+"Row_"+this.grid.rows[D].gxId;this.defaultDragable&&gx.fx.dnd.deleteSource(J);this.defaultSetsContext&&
gx.fx.ctx.deleteSetter(J)}}A=this.grid.columns.length;for(D=0;D<A;D++)if(J=this.grid.columns[D],1==J.gxSetsContext)for(var H=this.grid.rows.length,K=0;K<H;K++)gx.fx.ctx.deleteSetter(J.htmlName+"_"+this.grid.rows[K].gxId)};this.setDefaultEventHandlers=function(){var A=0,D=this.additiveResponse?this.firstAdditiveRow:0,J=this.getRowAsTypes();if(this.defaultDragable||this.defaultSetsContext)if(gx.lang.emptyObject(this.boundedCollType)){A=this.grid.rows.length;for(var H=D;H<A;H++){var K=this.gxComponentContext+
this.containerName+"Row_"+this.grid.rows[H].gxId;K=gx.dom.byId(K);null!=K&&(K.gxGrid=this.containerName,K.gxGridName=this.gridName,K.gxId=this.grid.rows[H].gxId);K=this.containerName+"Row_"+this.grid.rows[H].gxId;O=function(S){return this.returnRowData(S)}.closure(this);this.defaultDragable&&gx.fx.dnd.addSource(this.parentObject,K,this.cssClass,J,O);this.defaultSetsContext&&gx.fx.ctx.addSetter(this.parentObject,K,this.cssClass,J,O)}}else{A=this.grid.gxCmpContext+this.containerName+"Div";var O=function(){return this.returnGridData()}.closure(this);
this.defaultDragable&&gx.fx.dnd.addSource(this.parentObject,A,this.cssClass,[this.boundedCollType],O);this.defaultSetsContext&&gx.fx.ctx.addSetter(this.parentObject,A,this.cssClass,[this.boundedCollType],O)}if(this.parentGrid)for(O=gx.fx.ctx.setters[this.gxComponentContext+this.realGridName+"ContainerTbl"],A=this.grid.rows.length,H=D;H<A;H++)K=this.containerName+"Row_"+this.grid.rows[H].gxId,O&&O.hdl&&gx.fx.ctx.addSetter(this.parentObject,K,this.cssClass,J,O.hdl);if(!this.additiveResponse)for(A=this.grid.columns.length,
H=0;H<A;H++)if(J=this.grid.columns[H],1==J.gxSetsContext)for(K=this.grid.rows.length,O=D;O<K;O++){var Q=gx.dom.el(this.gxComponentContext+J.htmlName+"_"+this.grid.rows[O].gxId,!0);null!=Q&&(Q.gxHtmlName=J.htmlName,gx.fx.ctx.addSetter(this.parentObject,J.htmlName+"_"+this.grid.rows[O].gxId,"",[J.gxAttName],this.returnColumnContext))}};this.infinite_scrolling_ensure_loading_scroll=function(){if(!this.mock_element){var A=l("#"+this.getGridInnerTableId());this.mock_element=l('<div class="gx-grid-loading" style="visibility:hidden;">'+
gx.getMessage("GXM_Loading")+"</div>");this.mock_element.insertAfter(A)}};this.infinite_scrolling_before_scroll=function(){this.infinite_scrolling_ensure_loading_scroll();!0!==this.isScrolling&&(this.mock_element.css("visibility","visible"),this.isScrolling=!0)};this.hide_loading_message=function(){gx.lang.requestAnimationFrame(function(){this.mock_element&&this.mock_element.css("visibility","hidden")},this)};this.remove_loading_message=function(){this.mock_element&&(l(this.mock_element).remove(),
this.mock_element=void 0)};this.infinite_scrolling_after_scroll=function(){var A=this.getGridInnerTableId();l("#"+A);this.fixColumnsWidth(this.fixedColumnsWidth);this.isScrolling=!1;this.hide_loading_message()};this.fixColumnsWidth=function(A){if(!this.isFreestyle){var D=this.getGridInnerTableId();rows=l("#"+D).find("tbody tr[data-gxrendering_row]");l.each(rows,function(J,H){l(H).children().map(function(K,O){O.style.width=A[K]+"px";O.style.maxWidth=A[K]+"px"})});rows.removeAttr("data-gxrendering_row")}};
this.unInstallScrollListener=function(){this.ScrollingElement&&(l(this.ScrollingElement).scrollTop(0),this.remove_loading_message(),this.ScrollingElement.removeEventListener("scroll",this.ScrollingHandler,{passive:!0}))};this.installScrollListener=function(A,D,J,H){var K=gx.grid.scrollingThreshold||4,O=function(){if(this.InverseLoading)return A.scrollTop<=30*A.clientHeight/100;if(1==this.ScrollType){var U=l(window);var Z=l(document).height();var T="CSS1Compat"===(document.compatMode||"");T=void 0!==
window.pageXOffset?window.pageYOffset:T?document.documentElement.scrollTop:document.body.scrollTop;U=U.height()}else Z=A.scrollHeight,T=A.scrollTop,U=A.clientHeight;var Y=T;var V=S.lastPosition;S.lastPosition=Y;return Y<V?!1:Z-T-U<U*K}.closure(this),Q=this,S={allow:!0,reallow:function(){S.allow=!0;S.runAfterReallow&&(S.runAfterReallow=!1,Q.ScrollingHandler())},lastPosition:0,runAfterReallow:!1,delay:300};this.ScrollingHandler=function(){gx.lang.requestAnimationFrame(function(){if(S.allow){var U=Q.grid;
!0!==Q.isScrolling&&!U.isLastPage()&&O()&&(Q.infinite_scrolling_before_scroll(),U.changeGridPage("NEXT",!1));S.allow=!1;setTimeout(S.reallow,S.delay)}else S.runAfterReallow=!0})};this.infinite_scrolling_ensure_loading_scroll();A.addEventListener("scroll",this.ScrollingHandler,{passive:!0})};this.installFixedGridHeader=function(){if(!this.usePaging&&!this.InfiniteScrolling&&!this.isFreestyle&&this.grid.gxHeight&&0<this.grid.rows.length){var A=this.getContainerControl();if(A){var D=l(A),J=this,H=this.getGridInnerTableId();
A=l("#"+H);var K=A.find("tbody tr:first").children(),O=l("#"+H+"> tbody"),Q=l("#"+H+"> thead > tr"),S=l("#"+H+"> thead");H=gx.util.browser.isOldIE();this.fixedContainerWidth||(this.fixedContainerWidth=A.width());this.fixedColumnsWidth||(this.fixedColumnsWidth=K.map(function(){return l(this).width()}).get());D.addClass("gx-infinite-scrolling-container");if(!this.width||H)H?(D.addClass("gx-grid-fixed-header-ie7"),D.wrap("<div style='position:relative;'>"),A.css("width",""),D.width(this.fixedContainerWidth+
l.position.scrollbarWidth()+2),K=S.position(),Q.css("top",K.top),K=Q.outerHeight(!0),D.css("paddingTop",gx.dom.addUnits(K,"px")),A.attr("data-bkgstyle",""),K=A.css("background-color"),S=Q.css("background-color"),!K||S&&"transparent"!==S||Q.css("background-color",K)):A.width(this.fixedContainerWidth+l.position.scrollbarWidth()+2);0<this.fixedColumnsWidth.length&&(A.find("thead tr").children().each(function(U,Z){l(Z)[0].style.width=J.fixedColumnsWidth[U]+"px"}),this.fixColumnsWidth(this.fixedColumnsWidth));
O.addClass("gx-infinite-scrolling-element");D=H?D:O;A.css("max-height","");D.css({"max-height":gx.dom.addUnits(this.grid.gxHeight,this.grid.gxHeight==this.height?this.heightUnit:"px")})}}};this.handleInfiniteScrolling=function(){if(this.InfiniteScrolling){var A=this.getContainerControl();if(A){var D=l(A);D.removeClass("gx-infinite-scrolling-container");if(0<this.grid.rows.length){var J=this,H=this.getGridInnerTableId();if(1==this.ScrollType){var K=window;this.fixedColumnsWidth=[]}else{this.ScrollingHeight&&
l(K).css({height:this.ScrollingHeight});var O=l("#"+H),Q=O.find("tbody tr:first").children(),S=l("#"+H+">tbody"),U=l.grep(this.grid.columns,function(ja){return 1==ja.visible}).length;this.fixedColVisibleCount!=U&&(this.fixedColVisibleCount=U,this.isFreestyle||(this.fixedColntainerWidth=O.width(),this.fixedColumnsWidth=Q.map(function(){return this.offsetWidth}).get()));D.addClass("gx-infinite-scrolling-container");this.isFreestyle||O.width(this.fixedColntainerWidth+l.position.scrollbarWidth()+2);!this.isFreestyle&&
0<this.fixedColumnsWidth.length&&(O.find("thead tr").children().each(function(ja,qa){l(qa)[0].style.width=J.fixedColumnsWidth[ja]+"px"}),this.fixColumnsWidth(this.fixedColumnsWidth));K=0<S.length?S[0]:A;l(K).addClass("gx-infinite-scrolling-element")}this.ScrollingHeight&&1!=this.ScrollType&&l(K).css({height:this.ScrollingHeight});this.ScrollingElement=K;this.infinitScrollingInstalled=!0;A=this.InverseLoading?this.grid.firstItemSelector:this.grid.lastItemSelector;var Z=this.infinite_scrolling_before_scroll.closure(this);
if(!this.ScrollingHeight&&(this.isFreestyle||this.grid.rows.length>=this.grid.pageSize&&0<this.grid.pageSize)){if(1!=this.ScrollType){var T=l(K).height()-2;l(K).css({height:T})}this.ScrollingHeight=T}if(K){var Y=0,V=function(){var ja;if(10==Y)return Y=0,!1;(ja=this.InverseLoading?0==K.scrollTop:1==this.ScrollType?gx.popup.ispopup()?document.body.scrollHeight<document.body.clientHeight:document.body.scrollHeight<=document.body.clientHeight:K.clientHeight==K.scrollHeight)&&Y++;return ja}.closure(this),
fa=function(){J.InverseLoading&&(K.scrollTop=K.scrollHeight);this.hide_loading_message();ca()}.closure(this),ca=function(){if(!this.grid.isLastPage()&&V())return Z(),this.grid.changeGridPage("NEXT",!1).then(fa())}.closure(this);gx.lang.requestAnimationFrame(function(ja,qa,ra,ka){ca();this.installScrollListener(ja,qa,ra,ka)}.closure(this,[this.ScrollingElement,H,S,A]))}}}}};this.returnColumnContext=function(A){A="SPAN"==A.nodeName?gx.dom.spanValue(A):gx.fn.getControlValue_impl(A.id);return null!=A?
A:""};this.returnRowData=function(A){var D={};if(A=this.grid.getRowByGxId(A.gxId))for(var J=this.grid.columns.length,H=0;H<J;H++){var K=this.grid.columns[H].gxAttName;""!=K&&(D[K]=A.values[H])}return D};this.returnGridData=function(){for(var A=[],D=this.grid.rows.length,J=0;J<D;J++){var H={};A[J]=H;for(var K=this.grid.rows[J],O=this.grid.columns.length,Q=0;Q<O;Q++){var S=this.grid.columns[Q].gxAttName;""!=S&&(H[S]=K.values[Q])}}return A};this.doDrop=function(A){this.getNewRows(void 0!=A.length?A.length:
1,null,function(D){this.addDropedRows(D,A)})};this.addDropedRows=function(A,D){A.gxHiddens&&gx.fn.setJsonHiddens(null,A.gxHiddens);A=A.gxContainer?A.gxContainer:A;var J=D.length;if(void 0!=J)for(var H=0;H<J;H++)this.setDroppedRow(A[H],D[H]);else this.setDroppedRow(A[0],D);this.setNewRows(A)};this.setDroppedRow=function(A,D){for(var J=this.grid.columns.length,H=0;H<J;H++){var K=A.Props[H],O=this.grid.columns[H].gxAttName,Q="";""!=O&&void 0!=D[O]&&(Q=D[O]);K.Value=Q;K.FormattedValue=Q}};this.getRowAsTypes=
function(){for(var A=[],D=this.grid.columns.length,J=0;J<D;J++){var H=this.grid.columns[J].gxAttName;""!=H&&A.push(H)}return A};this.addRows=function(A){var D=A.Count;this.grid.rowsValues=A.values;for(var J=0;J<D;J++)this.addRow(A[J])};this.lastRowIsModified=function(){if(0==this.grid.rows.length)return!1;var A=this.grid.rows[this.grid.rows.length-1];return A.gxExists()||A.gxIsMod()?!0:!1};this.getNewRows=function(A,D,J){J=void 0!=J?J:this.setNewRows;var H=gx.util.browser.isFirefox()?"keypress":"keydown";
null!=D&&((D.type!=H||32!=D.charCode&&32!=D.keyCode&&13!=D.keyCode)&&"click"!=D.type||0!=this.grid.rows.length&&!this.lastRowIsModified())?null==D||32!=D.keyCode&&13!=D.keyCode||gx.evt.cancel(D,!0):(gx.csv.pkDirty=!1,gx.ajax.newRows(this.gxComponentContext,this.isMasterPageGrid,this.realGridName,A+this.lastRowId,this.lastRowId+1,gx.grid.rowId(this.lastRowId+1)+this.grid.gxParentRowId,this.grid.gxParentRowId,J),gx.csv.pkDirty=!1,null!=D&&gx.evt.cancel(D,!0))};this.setNewRows=function(A){return this.setNewRows_impl(A,
function(D){this.refreshGrid({loadChildGrids:!1});this.grid.execShowFunction&&this.grid.execShowFunction()})};this.loadNewRows=function(A){A.gxHiddens&&gx.fn.setJsonHiddens(null,A.gxHiddens);A=A.gxContainer?A.gxContainer:A;return this.setNewRows_impl(A,function(D){this.loadGrid({rowProps:D,isPostback:!0,addRows:!0})})};this.setNewRows_impl=function(A,D){A.gxHiddens&&gx.fn.setJsonHiddens(null,A.gxHiddens);A=A.gxContainer?A.gxContainer:A;if(void 0!=A.Count){var J;this.grid.rowsValues||(this.grid.rowsValues=
[]);this.grid.rowsValues=this.grid.rowsValues.concat(A.values);for(J=0;J<A.Count;J++){var H=this.addRow(A[J]);gx.fn.setCurrentGridRow(this.gridId,H.gxId)}0<A.Count&&(this.addingRows=!0,D.call(this,A),this.addingRows=!1,this.setFocusFirstControl(A[0]))}return H};this.gxNewRowFocused=function(A){A.style.textDecoration="underline";var D=gx.fn.firstGridControl(this.gridId);gx.evt.onfocus(A,D,this.gxComponentContext,this.isMasterPageGrid,"9999",this.gridId)};this.rowKeyPressed=function(A){var D=gx.evt.source(A);
void 0!=D&&A.ctrlKey&&46==A.keyCode&&(this.setRowDeleted(D),gx.evt.cancel(A,!0))};this.gxHasDuplicateKey=function(){for(var A=[],D=this.grid.rows,J=D.length,H=0;H<J;H++){var K=D[H];if((K.gxExists()||K.gxIsMod())&&!K.gxDeleted()){for(var O="",Q=K.gxKeyValues.length,S=0;S<Q;S++)O+=K.gxKeyValues[S].toString();if(void 0!=A[O])return!0;A[O]=1}}return!1};this.columnIndexInKey=function(A){for(var D=this.lvlKey.length,J=0;J<D;J++)if(this.lvlKey[J]==A)return J;return-1};this.refreshVars=[];this.addRefreshingVar=
function(A){if(!gx.lang.emptyObject(A)){var D="",J=function(){this.filterVarChanged()};this.refreshVars[this.refreshVars.length]=A;if(A.fld){var H=gx.dom.el(this.gxComponentContext+A.fld,!1,!0);if(void 0!=H&&gx.lang.emptyObject(A.hc)&&(D="radio"==H.type||"checkbox"==H.type?"click":"SELECT"==H.tagName?"change":gx.evt.eachKeyAutorefreshType(A.type)?["keyup","input"]:"blur",""!=D))if("radio"==H.type){H=gx.dom.byName(this.gxComponentContext+A.fld);A=H.length;for(var K=0;K<A;K++)gx.evt.attach(H[K],D,J,
this)}else"search"==H.type&&(D=[D,"search"]),gx.evt.attach(H,D,J,this)}else if((D=this.parentObject.VarControlMap[A.rfrVar])&&(D=this.parentObject.getValidStructFld(D.id))&&D.isuc)for(H in D.ucInstances)D.ucInstances.hasOwnProperty(H)&&(D.ucInstances[H].autoRefreshFn=J.closure(this))}};this.refreshParms=[];this.addRefreshingParm=function(A){gx.lang.emptyObject(A)||(this.refreshParms[this.refreshParms.length]=A)};this.doRefresh=function(){var A=this.getRefreshParmsUrl();this.callAsyncRefresh(A)};this.filterVarChanged=
function(){if(this.parentObject.autoRefresh&&!gx.grid.drawAtServer){var A=this.getRefreshParmsUrl();this.lastRefreshParms!=A&&(this.lastRefreshParms=A,this.callAsyncRefresh())}else this.parentObject.conditionsChanged=this.conditionsChanged()};this.conditionsChanged=function(){for(var A=this.refreshVars.length,D=0;D<A;D++){var J=this.refreshVars[D];if("undefined"==typeof J.rfrVar){var H=gx.fn.getHidden(this.gxComponentContext+"GXH_"+J.fld);J=J.val();if(void 0!==H&&H!=J)return!0}}return!1};this.getRefreshParmsUrl=
function(A){return this.getParmsValues(A,this.refreshParms,!0).join(",")};this.getParmsValues=function(A,D,J){var H=gx.O,K=D.length,O=[];gx.setGxO(this.parentObject);for(var Q=function(ja,qa,ra,ka){!0===ra&&(qa=gx.ajax.ControlValuesObject(qa,ja))&&ka.push(encodeURIComponent(gx.json.serializeJson(qa)));ka.push(ja)},S=0;S<K;S++){var U=D[S];if(U&&("function"==typeof U.c2v&&U.c2v(),gx.fn.call_v2bc(U,gx.O),"undefined"!=typeof U.rfrVar)){var Z=gx.fn.vStructForVar(U.rfrVar);if(!Z&&(Z=gx.fn.getVarControlMapForVar(U.rfrVar))&&
!A){var T=this.parentObject.getValidStructFld(Z.id);if(T&&T.isuc){var Y=T&&T.grid?gx.fn.currentGridRowImpl(T.grid):void 0;(T.getUCInstance(Y)||T.uc).execC2VFunctions()}}if(Z&&("undefined"==typeof U.rfrProp||this.isValueProperty(U.rfrProp)))var V=Z.type}if("undefined"!=typeof U.rfrVar){var fa;T=fa=Y=void 0;if("undefined"!=typeof U.rfrProp){var ca;"undefined"!=typeof U.gxAttId&&(ca=this.grid.getColumnByGxAttId(U.gxAttId));ca||(ca=this.grid.getColumnForVar(U.rfrVar));if(ca){if(fa=U.rfrProp.toLowerCase(),
T=ca.hasOwnProperty(fa)?ca[fa]:ca.gxControl[fa],!Z||Z.fmt!==gx.html.controls.formats.RAW_HTML&&Z.fmt!==gx.html.controls.formats.HTML||(T=gx.lang.htmlDecode(T)),this.isValueProperty(fa)&&ca.gxControl.type==gx.html.controls.types.image&&(T=gx.util.removeBaseUrl(T)),Y=this.parentObject.getValidStruct(ca.gxId))this.isValueProperty(fa)?V=Y.type:"enabled"===fa||"visible"===fa?(V="int",T=gx.lang.gxBoolean(T)?1:0):V=""}else T=""}else"undefined"!=typeof this.parentObject.VarControlMap[U.rfrVar]&&(fa=this.parentObject.VarControlMap[U.rfrVar].id),
gx.lang.emptyObject(this.parentObject[U.rfrVar])?"undefined"==typeof T&&"undefined"!=typeof fa&&(T=gx.fn.getHidden(this.gxComponentContext+fa)):T=this.parentObject[U.rfrVar],"object"==typeof T&&"date"!=V&&"dtime"!=V&&(T=gx.json.serializeJson(T));T="undefined"==typeof T?"":T;Q(this.getFormattedParm(T,V),U.rfrVar,(!U.rfrProp||"Value"===U.rfrProp)&&J,O)}else"string"==typeof U.gxGrid?(T=gx.O.getGridByBaseName(U.gxGrid),"string"==typeof U.rfrProp&&"Rows"==U.rfrProp&&O.push(T?T.grid.pageSize:9999)):gx.lang.emptyObject(U.hc)?
(Q(this.getFormattedVStructParm(U),U.gxvar,(!U.rfrProp||"Value"===U.rfrProp)&&J,O),gx.fn.setHidden(this.gxComponentContext+"GXH_"+U.fld,U.val())):(T=gx.fn.getHidden(this.gxComponentContext+"GXH_"+U.fld),O.push(encodeURIComponent(A&&"undefined"!==typeof T?T:this.parentObject[U.hc])))}this.parentObject.IsComponent&&O.push(encodeURIComponent(this.parentObject.CmpContext));gx.setGxO(H);return O};this.initRefreshParms=function(){this.parentObject.autoRefresh&&(this.lastRefreshParms=this.getRefreshParmsUrl(!0))};
this.isValueProperty=function(A){return"undefined"!=typeof A&&"value"==A.toLowerCase()};this.getFormattedVStructParm=function(A){if("date"==A.type||"dtime"==A.type){var D=gx.dom.el(this.gxComponentContext+A.fld);D="undefined"!=typeof D.value?D.value:gx.dom.spanValue(D)||D}else D=A.val();return this.getFormattedParm(D,A.type)};this.getFormattedParm=function(A,D){"date"===D?A=gx.date.urlDate(A,gx.dateFormat):"dtime"===D&&(A=gx.date.urlDateTime(A,gx.dateFormat));return encodeURIComponent(A)};this.callAsyncRefresh=
function(A,D){gx.evt.refreshGridCallback||(gx.evt.refreshGridCallback=[]);null!=this.refreshTimer&&(window.clearTimeout(this.refreshTimer),this.refreshTimer=null,gx.evt.setReady(!0,"callAsyncRefresh"));gx.evt.setReady(!1,"callAsyncRefresh");var J=gx.util.executionContext.getContext();this.refreshTimer=window.setTimeout(function(){gx.util.executionContext.changedContext(J)||(this.autoRefreshing||gx.evt.processing?this.callAsyncRefresh(A):(gx.fx.obs.addObserver("grid.onafterrefresh",gx.evt,gx.evt.notifyRefreshGrid,
{single:!0}),"undefined"===typeof A&&(A=this.getRefreshParmsUrl()),gx.ajax.refreshGrid(this,A),gx.evt.setReady(!0,"callAsyncRefresh"),this.refreshTimer=null))}.closure(this),D||400)};this.updatePropsHidden=function(A){var D=this.getDataHiddenName();gx.fn.setHidden(D,A)};this.updatePagingVarsAfterRefresh=function(A){if(this.usePaging){var D=this.grid.gxGridName.toUpperCase()+"_nEOF",J=this.grid.gxGridName.toUpperCase()+"_nFirstRecordOnPage";this.setPagingVars(A[D],A[J])}};this.getSelection=function(){if(this.allowSelection)for(var A=
this.grid.rows.length,D=0;D<A;D++)if(this.grid.rows[D].selected)return D;return-1};this.setNextRowSelected=function(A){var D=Math.min(this.getSelection()+1,this.grid.rows.length);this.setSelection(D,A);this.grid.keepGridItemVisible(D)};this.setPreviousRowSelected=function(A){var D=Math.max(this.getSelection()-1,0);this.setSelection(D,A);this.grid.keepGridItemVisible(D)};this.setProperty=function(A){if(A.Selectedindex)if(A=Number(A.Selectedindex),-1==A)this.setSelection(A);else return this.setSelectionRowCtrl(this.grid.getRowByPos(A));
return!1};this.setSelection=function(A,D){if(this.allowSelection){if(-1==A)return this.grid.setRowSelected(void 0,"",void 0,void 0,D),!0;if(0<=A)return A=this.getRowCtrlByIdx(A),this.setSelectionRowCtrl(A,D)}return!1};this.setSelectionRowCtrl=function(A,D){return this.allowSelection&&A?(this.grid.setRowSelected(A,A.getAttribute("data-gxrow"),void 0,void 0,D),!0):!1};this.getRowCtrlByIdx=function(A){return gx.dom.el(this.grid.gxCmpContext+this.grid.gxGridObject+"Row_"+gx.grid.rowId(A+1))};this.blankGridRows=
function(){this.InfiniteScrolling&&(this.additiveResponse=0!=this.grid.firstRecordOnPage);this.InfiniteScrolling&&this.additiveResponse||(this.lastRowId=0,this.grid.rows=[],delete this.grid.rowsValues)};this.setRowDeleted=function(A){A="string"==typeof A?this.grid.getRowByGxId(A):void 0==A.gxId?this.getRowFromHtmlCtrl(A):A;A.setDeleted(!A.gxDeleted());this.setRowModified(A.gxId);gx.fn.removeGridRow(A.gxId,this.gridId.toString());var D=new gx.text.stringBuffer;parseInt(A.gxId);this.grid.renderRow(A,
!1,A.id,0,this.grid.lastRenderedRow,this.gxIsFreestyle&&1<this.gxGridCols,D,void 0,this.grid.gxBuffer.toString(),this.grid.columns.length,void 0,void 0,void 0,void 0,this.grid.fromCollection,this.grid.columns);A=D.toString();D=(D=A.match(/id='(\S+)'/))&&gx.dom.el(D[1]);D.outerHTML=A;gx.plugdesign.applyTemplateObject(D);gx.dom.indexElements()};this.setFocusFirstControl=function(A){for(var D=0;D<A.Count;D++){var J=this.grid.getRowByGxId(gx.grid.rowId(this.lastRowId)+this.grid.gxParentRowId);if(J&&(J=
gx.dom.el(this.grid.gxCmpContext+this.grid.columns[D].htmlName+"_"+J.gxId),void 0!=J&&gx.fn.isAccepted(J))){gx.grid.lastFocusCtrl=this.grid.columns[D].gxId;gx.fn.setFocus(J);break}}};this.instanciateRow=function(A){var D=gx.O,J,H;gx.setGxO(this.parentObject);gx.csv.instanciatedRowGrid=this;try{var K=A;"string"==typeof K&&(K=this.grid.getRowByGxId(A));if(null!=K){gx.fn.setCurrentGridRow(this.gridId,K.gxId);var O=K.values.length;for(H=0;H<O;H++){var Q=this.grid.columns[H];if(""!=Q.gxId){var S=this.parentObject.getValidStruct(Q.gxId);
S&&(this.useUserControlModelValues()?S.v2v&&(S.v2v(this.grid.properties[K.id][Q.index].value),gx.fn.setHidden(this.grid.properties[K.id][Q.index].id,this.grid.properties[K.id][Q.index].value)):"function"==typeof S.c2v&&S.c2v())}}}else for(gx.fn.setCurrentGridRow(this.gridId,A),O=this.grid.columns.length,H=0;H<O;H++)Q=this.grid.columns[H],""!=Q.gxId&&(S=this.parentObject.getValidStruct(Q.gxId))&&"function"==typeof S.c2v&&S.c2v();var U=this.parentObject.UserControls;for(J in U)if(U.hasOwnProperty(J)){var Z=
U[J];Z.GridId===this.gridId&&Z.GridRow===K.gxId&&(this.parentObject[Z.DesignContainerName]=Z)}}catch(T){gx.dbg.logEx(T,"gxgrid.js","instanciateRow")}gx.setGxO(D);return!0};this.setRenderProp=function(A,D,J,H){this.grid.setProp(A,D,J,H)};this.setRenderDynProp=function(A,D,J,H){this.grid.setDynProp(A,D,J,H)};this.addRenderEventHandler=function(A,D){this.grid.addEventHandler(A,D)};this.addRenderV2CFunction=function(A){this.grid.addV2CFunction(A)};this.addRenderC2VFunction=function(A){this.grid.addC2VFunction(A)};
this.cleanup=function(){gx.grid.clearActiveGrid(this);this.parentGrid=this.parentObject=null;this.grid.ownerGrid=null;this.grid.parentGxObject=null;this.grid.container=null;this.grid.ascLabel=null;this.grid.descLabel=null;this.grid.columns=null;this.grid.rows=null;this.grid=this.grid.selectedRows=null;this.unInstallScrollListener()};this.loadGrid=function(A){gx.dbg.logPerf("loadGrid_"+this.gridName);A=A||{};var D=A.rowProps,J=A.isPostback,H=A.addRows;A=A.isNestedLoad;this.isNestedLoad=this.isNestedLoad||
A;A=gx.O;gx.setGxO(this.parentObject);this.isLoading=!0;var K=this.parentObject.isTransaction();K&&null==this.contextMenu&&(this.contextMenu=new gx.grid.contextMenu(this));if(void 0!=D){K=D.GridName?D[D.GridName.toUpperCase()+"_nEOF"]:void 0;var O=D.GridName?D[D.GridName.toUpperCase()+"_nFirstRecordOnPage"]:void 0,Q=this.getContainerControl();if(null!=Q){this.autoRefreshing?this.updatePagingVarsAfterRefresh(D):this.updatePagingVars(K,O);this.InfiniteScrolling&&(this.additiveResponse=0!=this.grid.firstRecordOnPage);
J&&!H&&(D.values=this.getValuesFromHidden(),this.isFreestyle&&gx.lang.emptyObject(this.parentRow)&&this.backupComponents());this.deleteGridData();this.grid.setContainerDelayed(Q);this.additiveResponse||this.clearHiddens();this.setRowsProperty();J=this.getSelection();this.autoRefreshing?this.updatePagingVarsAfterRefresh(D):this.updatePagingVars(K,O);H||this.blankGridRows();this.setHtmlTags(D);this.setGridStyles(D);this.setDeleteMethod(D.DeleteMethod);this.setSelectionAndHover(D.Allowselection,D.Selectioncolor,
D.Allowhover,D.Hovercolor,D.Selectedindex);this.setCollapsing(D.Allowcollapsing,D.Collapsed);this.setSflColumns(D.SflColumns);this.setColumnsProperties(D.Columns);H||this.addRows(D);this.updateOldComponents();this.initRefreshParms();var S=this.getGridInnerTableId();S=void 0!==l("#"+S).attr("data-gx-grid-nodata");S=this.refreshGrid({addRows:H&&!S,loadChildGrids:null,fromAutoRefresh:this.autoRefreshing});this.setProperty({Selectedindex:J+1})}}else this.clearHiddens(),this.setRowsProperty(),this.grid.pageSize=
K||this.isFreestyle?9999:this.gridRows,Q=this.getContainerControl(),null!=Q?(this.grid.setContainerDelayed(Q),H=this.getRowsFromHidden(),null!=H?(H.values=this.getValuesFromHidden(),this.blankGridRows(),this.setHtmlTags(H),this.setGridStyles(H),this.setDeleteMethod(H.DeleteMethod),this.setSelectionAndHover(H.Allowselection,H.Selectioncolor,H.Allowhover,H.Hovercolor,H.Selectedindex),this.setCollapsing(H.Allowcollapsing,H.Collapsed),this.setSflColumns(H.SflColumns),this.setColumnsProperties(H.Columns),
this.updatePagingVars(),this.addRows(H),this.initRefreshParms(),this.addingRows=!0,S=this.refreshGrid(),this.addingRows=!1):(this.blankGridRows(),this.updatePagingVars(),this.initRefreshParms(),S=this.refreshGrid())):S=this.loadWrappedGridChilds();this.isLoading=!1;gx.setGxO(A);gx.dbg.logPerf("loadGrid_"+this.gridName,"Grid '"+this.gridName+"' loaded");return S};this.loadWrappedGridChilds=function(){var A=l.Deferred();try{var D=gx.fn.getHidden(this.grid.gxCmpContext+"nRC_GXsfl_"+this.gridId);if("undefined"!=
typeof D){D=parseInt(D);for(var J=0;J<D;J++)for(var H=this.grid.columns.length,K=0;K<H;K++){var O=this.grid.columns[K];O.gxControl.type==gx.html.controls.types.userControl&&this.addUsercontrolToDraw({r:gx.grid.rowId(J+1),c:O})}this.setupGridUsercontrols(this.GridUserControls)}}catch(Q){gx.dbg.logEx(Q,"gxgrid.js","loadWrappedGridChilds")}A.resolve();return A};this.getRowsFromHidden=function(){var A=this.getDataHiddenName(),D=gx.fn.getHidden(A);gx.json.setNonSerializable(A);return"string"==typeof D?
gx.json.evalJSON(D):"object"==typeof D?D:null};this.deleteGridData=function(){var A=this.getDataHiddenName();gx.json.setNonSerializable(A)};this.getValuesFromHidden=function(){var A=this.getValuesHiddenName(),D=gx.fn.getHidden(A);gx.lang.emptyObject(D)&&(D=gx.fn.getControlValue(A));gx.json.setNonSerializable(A);A=null;null!=D&&""!=D&&(A=gx.json.evalJSON(D));return A};this.getContainerControlId=function(){return void 0!=this.gxContainerDivName?this.gxContainerDivName:this.grid.gxCmpContext+this.containerName+
"Div"};this.getContainerControl=function(){if(!this.gxContainerCtrl){var A=gx.dom.byId(this.getContainerControlId());A&&(this.gxContainerCtrl=A,A.setAttribute("data-gxgridid",this.gridId.toString()),gx.dom.addClass(A,"gx-grid"),this.isResponsive&&gx.dom.addClass(A,"gx-responsive-grid"),gx.dom.addClass(A,this.isFreestyle?"gx-freestyle-grid":"gx-standard-grid"),A.gxGridName=this.grid.gxGridName)}return this.gxContainerCtrl};this.getHiddenSuffix=function(){return""==this.grid.gxParentRowId?"":"_"+this.grid.gxParentRowId};
this.getDataHiddenName=function(){return void 0!=this.gxContainerDataName?this.gxContainerDataName:this.grid.gxCmpContext+this.containerName+"Data"+this.getHiddenSuffix()};this.getValuesHiddenName=function(){return void 0!=this.gxContainerValuesName?this.gxContainerValuesName:this.grid.gxCmpContext+this.containerName+"DataV"+this.getHiddenSuffix()};this.setColumnsProperties=function(A){try{if(!gx.lang.emptyObject(A))for(var D=A.length,J=0;J<D;J++){var H=this.grid.columns[J];for(O in A[J]){var K=A[J][O];
var O=this.fixColumnPropName(O);if(this.isUsercontrol){var Q=gx.uc.getClientProperty(O,K);H[Q.name]=Q.value}H[O.toLowerCase()]=K}this.checkPromptColumn(H)}}catch(S){gx.dbg.logEx(S,"gxgrid.js","setColumnsProperties")}};this.checkPromptColumn=function(A){try{if(this.isPromptColumn(A)){var D=gx.fn.getAttachedCtrl(A.htmlName);if(D&&D.info&&D.info.controls){for(var J=!1,H=!1,K=D.info.controls.length,O=0;O<K;O++){var Q=this.grid.getColumnByGxId(D.info.controls[O]),S=gx.lang.gxBoolean(Q.enabled),U=gx.lang.gxBoolean(Q.visible);
S&&(H=!0);U&&(J=!0)}H||(A.enabled="0");J||(A.visible="0")}}}catch(Z){gx.dbg.logEx(Z,"gxgrid.js","checkPromptColumn")}};this.fixColumnPropName=function(A){return"Horizontalalignment"==A?"align":A};this.setDeleteMethod=function(A){if(this.parentObject.isTransaction()){var D="DSP"==this.parentObject.Gx_mode;!D&&A&&"none"==A&&(D=!0);this.deleteMethod=D?gx.grid.deleteMethods.none:gx.grid.deleteMethod}};this.setSelectionAndHover=function(A,D,J,H,K){try{"undefined"!=typeof A&&(this.allowSelection=gx.lang.gxBoolean(A)),
"undefined"!=typeof D&&(this.selectionColor=null),"undefined"!=typeof H&&(this.hoverColor=null),this.allowSelection&&"undefined"!=typeof D&&("undefined"!=typeof J&&(this.allowHovering=gx.lang.gxBoolean(J)),D=eval(D),this.selectionColor="undefined"!=typeof D[0]?gx.color.fromRGB(D[0],D[1],D[2]):gx.color.html(D),this.allowHovering&&"undefined"!=typeof H&&(H=eval(H),this.hoverColor="undefined"!=typeof H[0]?gx.color.fromRGB(H[0],H[1],H[2]):gx.color.html(H))),this.grid.gxAllowSelection=this.allowSelection,
this.grid.gxSelectionColor=this.selectionColor,this.grid.gxAllowHovering=this.allowHovering,this.grid.gxHoverColor=this.hoverColor,this.grid.selectedRows=[],K=Number(K||0),0<K&&(this.grid.Selectedindex=K-1)}catch(O){gx.dbg.logEx(O,"gxgrid.js","setSelectionAndHover")}};this.setCollapsing=function(A,D){try{void 0!==A&&(this.allowCollapsing=gx.lang.gxBoolean(A),this.grid.gxAllowCollapsing=this.allowCollapsing),void 0!==D&&(this.collapsed=gx.lang.gxBoolean(D),this.grid.gxCollapsed=this.collapsed)}catch(J){gx.dbg.logEx(J,
"gxgrid.js","setCollapsing")}};this.setSflColumns=function(A){try{gx.lang.emptyObject(A)&&0!==A||(this.gridCols=gx.grid.validGridColsValue(parseInt(A)),this.grid.gxGridCols=this.gridCols,1<this.gridCols&&0<this.gridRows&&(this.grid.pageSize=(this.gridRows?this.gridRows:1)*this.gridCols))}catch(D){gx.dbg.logEx(D,"gxgrid.js","setSflColumns")}};this.isPromptColumn=function(A){return A.gxAttId.indexOf&&-1!=A.gxAttId.indexOf("prompt_")?!0:!1};this.setRowsProperty=function(){var A=gx.fn.getHidden(this.getHiddenName("Rows"));
if(null!=A){try{this.gridRows=parseInt(A,10)}catch(D){gx.dbg.logEx(D,"gxgrid.js","setRowsProperty")}this.grid.pageSize=this.gridRows*(1<this.gridCols?this.gridCols:1)}};this.crearInstalledSuggests=function(){for(var A=this.grid.columns.length,D=0;D<A;D++){var J=this.parentObject.getValidStruct(this.grid.columns[D].gxId);J&&J.gxsgprm&&J.gxsgprm.installed&&(J.gxsgprm.installed={})}};this.refreshCollection=function(A){try{this.blankGridRows();this.updatePagingVars();this.initRefreshParms();for(var D=
A.length,J=0;J<D;J++){for(var H={Props:[]},K=A[J],O=this.grid.columns.length,Q=0;Q<O;Q++){var S=this.grid.columns[Q];H.Props[S.index]=[K[S.gxAttName]]}this.addRow(H)}this.refreshGrid({loadChildGrids:!1,fromAutoRefresh:!1,fromCollection:!0})}catch(U){gx.dbg.logEx(U,"gxgrid.js","refreshCollection")}};this.refreshGrid=function(A){var D=l.Deferred(),J=[D];A=A||{};var H=A.loadChildGrids,K=A.fromAutoRefresh,O=A.fromCollection,Q=A.isNestedLoad,S=A.immediateApplyInfiniteScroll;this.isNestedLoad=this.isNestedLoad||
Q;this.DatePickersControls=[];this.GridUserControls=[];this.GridComponents=[];this.GridControls=[];this.ColumnPropertiesAfterRender=[];this.additiveResponse||(A.addRows||this.clearDefaultEventHandlers(),this.clearHiddens());this.crearInstalledSuggests();this.setRowsProperty();void 0==this.parentRow||gx.lang.emptyObj(this.parentRow.Grids)||(Q=this.parentRow.Grids[this.realGridName],null!=Q&&(this.setHtmlTags(Q),this.setGridStyles(Q),this.setColumnsProperties(Q.Columns),this.addingRows||this.parentRow.IsNew&&
this.addRows(Q)));var U=!1;Q=function(){D.resolve()};var Z=function(){gx.fn.setPromptlisteners(this.getContainerControl());this.setupGridControls(this.GridControls);this.setupCellAttributes(this.IsValidState);this.setupFixedColumnProperties();this.setupGridUsercontrols(this.GridUserControls);this.installFixedGridHeader();var Y=this,V=this.getGridInnerTableId(),fa=this.grid.scroll_last_row_selector(this.gridRows),ca=this.grid.scroll_first_row_selector(this.gridRows);this.grid.firstItemSelector="#"+
V+ca;this.grid.lastItemSelector="#"+V+fa;var ja=function(qa){qa=l.map(qa,function(ra,ka){return ra.onLoadDeferred});l.when.apply(l,qa).done(function(){if(Y.InfiniteScrolling)if(S)Y.handleInfiniteScrolling();else{var ra=Y.getContainerControl();gx.fn.isVisible(ra)?gx.spa.isNavigating()?gx.spa.addObserver("onnavigatecomplete",Y,Y.handleInfiniteScrolling,{single:!0}):gx.ol(Y.handleInfiniteScrolling,Y):gx.dom.getIntersectionObserver(function(ka){var sa=new ka(function(){gx.fn.isVisible(ra)&&(sa.disconnect(),
Y.handleInfiniteScrolling())},{root:document.body});sa.observe(ra)})}D.resolve()})};this.setupGridComponents(this.GridComponents).then(function(){var qa=l.map(Y.GridComponents,function(ra,ka){return gx.pO.getWebComponent(ra.p)});Y.isFreestyle&&(J=J.concat(Y.loadRowsGrids(U,A)));gx.fx.obs.notify("grid.onafterrender",[Y.grid,Y.isNestedLoad]);Y.isNestedLoad?(Y.isNestedLoad=!1,ja(qa)):Y.additiveResponse?gx.pendingCmps?gx.fx.obs.addObserver("webcom.all_rendered",Y,function(){Y.infinite_scrolling_after_scroll()}):
Y.infinite_scrolling_after_scroll():Y.applyTemplateObject().then(function(){ja(qa)});Y.additiveResponse=!1});this.triggerDatePickersSetup(this.DatePickersControls);this.installImageControls();this.updateRcdCount();this.setDefaultEventHandlers();this.setSelection(this.grid.Selectedindex)};Z=Z.closure(this);this.grid.doSort();0==H?this.grid.render(U,!1,O,Z,Q,A):(U=!0,this.grid.render(U,K,O,Z,Q,A));var T=l.Deferred();l.when.apply(l,J).done(function(){T.resolve()});return T.promise()};this.getGridInnerTableId=
function(){return this.gxComponentContext+this.containerName+"Tbl"};this.disposeTemplateObject=function(){gx.fx.obs.deleteObserverByKey(this.getContainerControl().id)};this.applyTemplateObject=function(A){A=A||{};var D=this.isFreestyle&&!this.parentObject.IsComponent?"."+gx.GxObject.WEBCOMPONENT_CLASS_NAME+" *":"";gx.$.extend(A,{selector:"#"+this.getContainerControl().id,excluded:D,observerKey:this.getContainerControl().id});return gx.plugdesign.applyTemplateObject(A)};var pa="gx-wc-bkp_"+m+"_"+b;
this.getComponentsBackupContainer=function(){var A=gx.dom.byId(pa);A||(A=document.createElement("div"),A.id=pa,A.style.display="none",document.body.appendChild(A));return A};this.destroyComponentsBackup=function(){var A=gx.dom.byId(pa);A&&A.parentNode&&gx.dom.removeControlSafe(A)};this.backupComponents=function(){try{if(!this.additiveResponse)for(var A=this.grid.rows.length,D=0;D<A;D++){for(var J=this.grid.rows[D],H=this.grid.columns.length,K=0;K<H;K++)if(this.grid.columns[K].gxControl.type==gx.html.controls.types.webComponent){var O=
this.parentObject.getComponentPrefix(J.gxProps[K][0]),Q=gx.dom.byId(this.gxComponentContext+"gxHTMLWrp"+O+J.gxId);Q&&(Q.parentNode.removeChild(Q),this.getComponentsBackupContainer().appendChild(Q))}var S=J.gxGrids.length;for(K=0;K<S;K++){var U=J.gxGrids[K];U&&U.isFreestyle&&U.backupComponents()}}}catch(Z){gx.dbg.logEx(Z,"gxgrid.js","backupComponents")}};this.getEntireGridColumn=function(A){var D=this.getContainerControl();if(!D)return[];var J=D.firstChild;D=[];if(J.querySelectorAll)D=gx.fn.toArray(J.querySelectorAll("td[data-colindex='"+
A+"'], th[data-colindex='"+A+"']"));else{var H=gx.dom.byTag("TD",J);J=gx.dom.byTag("TH",J);for(var K=0,O=H.length;K<O;K++)H[K].getAttribute("data-colindex")==A&&D.push(H[K]);K=0;for(O=J.length;K<O;K++)J[K].getAttribute("data-colindex")==A&&D.push(J[K])}return D};this.applyPropEntireColumn=function(A,D,J){A=this.getEntireGridColumn(A);for(var H=0;H<A.length;H++)gx.fn.setCtrlPropertyImpl(A[H],D,J)};this.setupFixedColumnProperties=function(){for(var A=0;A<this.ColumnPropertiesAfterRender.length;A++){var D=
this.ColumnPropertiesAfterRender[A];this.applyPropEntireColumn(D.colIndex,D.ptyName,D.ptyValue)}};this.addColPropertyAfterRender=function(A,D,J){J={colIndex:A,ptyName:D,ptyValue:J};A="gxpty"+D+A;(D=this.ColumnPropertiesAfterRender[A])?this.ColumnPropertiesAfterRender[D]=J:(D=this.ColumnPropertiesAfterRender.push(J)-1,this.ColumnPropertiesAfterRender[A]=D)};this.setupCellAttributes=function(A){for(var D in A){var J=A[D],H=gx.dom.byId(D);if(H)for(var K in J)H.setAttribute(K,J[K])}};this.setupGridControls=
function(A){for(var D=0,J=A.length;D<J;D++){var H=A[D],K=gx.dom.byId(H.hookId),O=K.parentNode;O&&(O.insertBefore(H.el,K),gx.dom.removeControlSafe(K))}};this.setupGridComponents=function(){var A=function(J,H){var K,O=J.length;for(K=0;K<O;K++){var Q=J[K];if(!1!==Q.create){var S=gx.createComponent(Q.n,Q.p);if(null!=S){gx.addComponent(S);S.readServerVars();if(Q.load)S.onload(void 0,!0);K==O-1&&H.resolve()}}}},D=function(J){var H,K=J.length;for(H=0;H<K;H++)gx.dom.removeClass(J[H],gx.GxObject.WEBCOMPONENT_LOADING_CLASS_NAME)};
return function(J){var H=l.Deferred(),K,O=J.length,Q=[];0==O&&H.resolve();var S=[];for(K=0;K<O;K++){var U=J[K];if(!1===U.create){var Z=gx.dom.byId(U.existingEl);if(Z){var T=Z.parentNode;U=gx.dom.byId(U.el);gx.dom.removeControlSafe(Z);T.appendChild(U);S.push(U)}K==O-1&&H.resolve()}else Q.push(U.c)}gx.lang.requestAnimationFrame(D.closure(this,[S]));0<Q.length&&gx.html.processCode(Q.join(""),!1,A.closure(this,[J,H]));this.destroyComponentsBackup();return H.promise()}}();this.setupGridUsercontrols=function(A){var D=
A.length;gx.uc.StartRender();for(var J=0;J<D;J++){var H=A[J].r,K=A[J].c;H=gx.uc.getNew(this.parentObject,K.gxUCId,K.gxUCLastId,K.gxUCClassName,K.gxUCContainerName+"_"+H,K.gxUCControlName,K.gxUCFieldName,this.gridLvl,this.gridId,H);H.DesignContainerName=K.gxUCContainerName;H.setC2ShowFunction(K.gxShowFunc);for(var O=K.gxC2VFuncs.length,Q=0;Q<O;Q++)H.addC2VFunction(K.gxC2VFuncs[Q]);O=K.gxV2CFuncs.length;for(Q=0;Q<O;Q++)H.addV2CFunction(K.gxV2CFuncs[Q],K.gxUCFieldName);H.setGridProperties();H.setGridEventHandlers();
this.parentObject.setUserControl(H);H.execV2CFunctions(!0);H.execShowFunction()}gx.uc.EndRender()};this.triggerDatePickersSetup=function(A){for(var D=A.length,J=0;J<D;J++){for(var H=A[J].CtrlId,K=A[J].Grid,O=A[J].Row,Q=gx.O,S=null,U=gx.fn.controlIds(),Z=U.length,T=0;T<Z&&(S=gx.fn.validStruct(U[T]),S.grid!=K||Q.CmpContext+S.fld+"_"+O!=H);T++);null!=S&&void 0!=S.dp&&gx.fn.installDatePicker(H,S,Q,S.dp.f,S.dp.st,S.dp.wn,S.dp.mf,gx.fn.datePickerFormat(S.dp.pic,S.dp.dec,S.len),S.len,S.dp.dec)}};this.installImageControls=
function(){var A=this.gxContainerCtrl,D=this.grid.newAdditiveRows?this.grid.newAdditiveRows.get(0):null;this.additiveResponse&&D&&D.childNodes[0]&&(A=D);A=gx.dom.byClass(gx.html.multimediaUpload.gxCssClass,"",A);if(A[0]){D=0;for(var J=A.length;D<J;D++)gx.html.multimediaUpload.createControl(A[D])}};this.addComponentToDraw=function(A){this.GridComponents.push(A)};this.addUsercontrolToDraw=function(A){this.GridUserControls.push(A)};this.addDatepickerToSetup=function(A){this.DatePickersControls.push(A)};
this.addControlToReuse=function(A){A.el.parentNode&&gx.dom.removeControlSafe(A.el);this.GridControls.push(A)};this.loadRowsGrids=function(A,D){D=D||{};var J=[],H=this.grid.rows.length;for(D=this.additiveResponse||D.addRows?this.firstAdditiveRow:0;D<H;D++)J=J.concat(this.loadRowGrids(this.grid.rows[D],A));return J};this.loadRowGrids=function(A,D){for(var J=A.gxGrids.length,H=[],K=0;K<J;K++){var O=A.gxGrids[K];O.grid.setContainerDelayed(gx.dom.byId(O.gxContainerDivName));if(D){if(void 0!=O.parentRow&&
!gx.lang.emptyObj(O.parentRow.Grids)){var Q=O.getDataHiddenName();gx.fn.setHidden(Q,gx.json.serializeJson(O.parentRow.Grids[O.realGridName]))}H.push(O.loadGrid({isNestedLoad:!0}))}else H.push(O.refreshGrid({isNestedLoad:!0}));A.IsNew=!1}return H};this.updateRcdCount=function(){(this.hasForEachLine||this.parentObject.isTransaction())&&gx.fn.setHidden(this.grid.gxCmpContext+"nRC_GXsfl_"+this.gridId+(""==this.grid.gxParentRowId?"":"_"+this.grid.gxParentRowId),this.lastRowId.toString());var A=gx.fn.getHidden(this.grid.gxCmpContext+
this.gridName.toUpperCase()+"_ROW");if(0==this.lastRowId||parseInt(A,10)>this.lastRowId)this.grid.instanciateSelectionVars("0000"),gx.fn.setCurrentGridRow(this.gridId,"")};this.updateControlValue=function(A,D,J){try{var H=this,K=J=J||gx.fn.currentGridRow(A.grid).toString(),O=J.length;if(4<O){var Q=J.substring(4,O);H=gx.fn.gridObj(this.gxComponentContext,this.gridName+"_"+Q,this.isMasterPageGrid);if(!H)return;K=J.substring(0,4)}var S=parseInt(K,10)-1;1==D&&H.setRowModified(J);var U=H.getColumnIndexByName(A.fld),
Z=gx.dom.el(this.gxComponentContext+A.fld+"_"+J);H.updateRowValue(U,S,Z);return H}catch(T){gx.dbg.logEx(T,"gxgrid.js","updateControlValue")}return null};this.persistControlValue=function(A,D,J){var H=A.lastIndexOf("_");if(-1!=H){var K=A.substring(0,H);H=A.substring(H+1);if(H=this.grid.getRowByGxId(H))if(K=this.grid.getColumnByHtmlName(K)){var O=this.parentObject[J.gxvar];"decimal"==J.type&&gx.lang.instanceOf(O,Number)&&(O=O.toFixed(J.dec));H.values[K.index]=O;H.gxProps[K.index]||(H.gxProps[K.index]=
{});(A=gx.dom.el(A))&&"SELECT"==A.tagName&&(H.gxProps[K.index].Values=gx.dom.comboBoxToObj(A));H.gxProps[K.index].Value=O;H.gxProps[K.index].FormattedValue=D}}};this.getColumnIndexByName=function(A){for(var D=this.grid.columns,J=D.length,H=0;H<J;H++)if(D[H].htmlName==A)return H;return-1};this.setRowModified=function(A){gx.fn.setHidden(this.grid.gxCmpContext+"nIsMod_"+this.gridLvl.toString()+"_"+A,1);null!=this.parentGrid&&this.parentGrid.setRowModified(this.grid.gxParentRowId);this.grid.showDeleteImage(A)};
this.validateRow=function(A){if(A)try{var D=A.getAttribute("data-gxgridid");gx.fn.setCurrentGridRow(D,A.gxrow);var J=gx.fn.lastGridControl(D);gx.csv.validControls(gx.csv.lastId,J+1,!0,gx.O)}catch(H){gx.dbg.logEx(H,"gxgrid.js","validateRow")}};this.updateRowValue=function(A,D,J){D=this.grid.getRowById(D);var H=this.grid.columns[A];"checkbox"==J.type&&(J.value=J.checked?H.gxChecked:H.gxUnChecked);J=this.parentObject.getValidStruct(this.grid.columns[A].gxId).val(D.gxId);D.values[A]=J;gx.lang.emptyObject(D.gxProps[A])||
(D.gxProps[A].Value=J,D.gxProps[A].FormattedValue=gx.fn.getControlValue(this.grid.columns[A].htmlName+"_"+D.gxId,"screen"));this.parentObject.isTransaction()&&(A=this.columnIndexInKey(H.gxAttId),-1!=A&&(D.gxKeyValues[A]=J));H.gxControl.type==gx.html.controls.types.blob&&gx.fn.setControlValue(this.grid.gxCmpContext+H.htmlName+"_"+D.gxId+"_gxBlob",J)};this.expandCollapse=function(A,D){gx.evt.cancel(D,!0);D=gx.dom.byId(this.getGridInnerTableId());null!=D&&(this.collapsed?(l(D).removeAttr("data-gx-sr-only"),
A.className="collapse-icon",A.src=gx.ajax.getImageUrl(gx,"collapseImage")):(l(D).attr("data-gx-sr-only",""),A.className="expand-icon",A.src=gx.ajax.getImageUrl(gx,"expandImage")),this.collapsed=!this.collapsed,this.grid.gxCollapsed=this.collapsed,this.parentGrid?(A=this.gridName.lastIndexOf("_"),A=this.gridName.substring(A),A=this.gxComponentContext+this.realGridName.toUpperCase()+"_Collapsed"+A):A=this.gxComponentContext+this.realGridName.toUpperCase()+"_Collapsed",gx.fn.setHidden(A,this.collapsed?
"1":"0"))};this.getRowFromHtmlCtrl=function(A){var D=A.gxrow;gx.lang.emptyObject(D)&&(D=A.id.lastIndexOf("_"),D=A.id.substring(D+1));return this.grid.getRowByGxId(D)};this.showContextMenu=function(A,D){this.contextMenu.show(A,D)}},contextMenu:function(c){this.gxgrid=c;this.controlName=this.gxgrid.containerName+"ContextMenu";this.eventSource=this.contextEvent=this.rowClicked=null;var d=new gx.text.stringBuffer;this.show=function(g,a){this.gxgrid.validateRow(g);this.contextEvent=a;this.eventSource=
gx.evt.source(this.contextEvent);gx.evt.cancel(a,!0);this.rowClicked=g;this.startMenu();d.append('<div class="').append("menuItem").append('" id="').append("deleteRow").append('" align="center">').append(gx.getMessage("GXM_deleterow")).append("</div>");this.endMenu()};this.startMenu=function(){d.clear();var g=this.getMenuCoords();d.append('<div onclick="').append(this.gxgrid.grid.gridObject()+".contextMenu.contextMenuClicked(event);").append('" onmouseover="');d.append(this.gxgrid.grid.gridObject()+
".contextMenu.switchContextMenu();").append('" onmouseout="').append(this.gxgrid.grid.gridObject()+".contextMenu.switchContextMenu();").append('" oncontextmenu="gx.evt.cancel(event, true);');d.append('" style="').append("position:absolute;width:100;background-Color:menu; border: outset 1px gray;");d.append("top:"+g.top+"; left:"+g.left+";").append('">')};this.endMenu=function(){d.append("</div>");var g=gx.dom.byId(this.controlName);null==g&&(g=document.createElement("SPAN"),ContextControlShadow=document.createElement("SPAN"),
ContextControlShadow2=document.createElement("SPAN"),IFrameControl=document.createElement("IFRAME"),g.id=this.controlName,ContextControlShadow.id=this.controlName+"Shadow",ContextControlShadow2.id=this.controlName+"Shadow2",IFrameControl.id=this.controlName+"GXiFrameIEHack",IFrameControl.src="about:blank",IFrameControl.style.zIndex=1,IFrameControl.style.visibility="hidden",IFrameControl.style.position="absolute",IFrameControl.frameBorder="0",document.body.appendChild(g),document.body.appendChild(ContextControlShadow),
document.body.appendChild(ContextControlShadow2),document.body.appendChild(IFrameControl));gx.dom.shouldPurge()&&gx.dom.purge(g,!0);g.innerHTML=d.toString()};this.hide=function(){this.contextEvent=this.rowClicked=null;gx.dom.removeControl(gx.dom.byId(this.controlName))};this.getMenuCoords=function(){var g=0,a=0,b=this.contextEvent;if(b.pageX||b.pageY)g=b.pageX,a=b.pageY;else if(b.clientX||b.clientY)g=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=b.clientY+document.body.scrollTop+
document.documentElement.scrollTop;return{left:g,top:a}};this.contextMenuClicked=function(g){g=gx.evt.source(g);this.handleContextMenuAction(g.id);this.hide()};this.handleContextMenuAction=function(g){switch(g){case "deleteRow":this.gxgrid.setRowDeleted(this.rowClicked);break;case "undeleteRow":this.gxgrid.setRowDeleted(this.rowClicked)}};this.switchContextMenu=function(){}},getPaddedRowId:function(c){c=""+c;return"0000".substring(0,4-c.length)+c},rowId:function(c){for(c=c.toString();4>c.length;)c=
"0"+c;return c},_init:function(){this.deleteMethod||(this.deleteMethod=this.deleteMethods.images);this.baseDeleteImage||(this.baseDeleteImage=this.deleteImage);this.deleteImage=this.deleteImage&&this.deleteMethod==this.deleteMethods.images?gx.ajax.getImageUrl(this,"baseDeleteImage"):gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"delete_16x.jpg",!0);this.baseUndeleteImage||(this.baseUndeleteImage=this.undeleteImage);this.undeleteImage=this.undeleteImage&&this.deleteMethod==this.deleteMethods.images?
gx.ajax.getImageUrl(this,"baseUndeleteImage"):this.deleteImage;this.deletePosition||(this.deletePosition=this.deletePositions.left);this.deletePositionFree||(this.deletePositionFree=this.deletePositions.topL);this.deleteTooltip=this.deleteTooltip?gx.getMessage(this.deleteTooltip):"";this.deleteTitle=this.deleteTitle?gx.getMessage(this.deleteTitle):""},_deinit:function(){this.lastFocusCtrl=null}}}(gx.$);
gx.grid.impl=function(l){return function(c){var d=/style="([^"]*)"/ig;this.basePath=gx.basePath;this.imgsDir=gx.staticDirectory;this.columns=[];this.columnsHtmlName=[];this.columnsGxId=[];this.columnsGxAttId=[];this.rows=[];this.rowsById=[];this.rowsByGxId=[];this.fixedValues=[];this.align=this.width="";this.border="0";this.padding="1";this.spacing="0";this.sortColumn=-1;this.usePaging=this.ascSort=!0;this.eof=1;this.firstRecordOnPage=0;this.pageSize=9999;this.currentPage=1;this.gxLvl=0;this.gxGridName=
"";this.gxGridObject=null;this.gxBuffer=new gx.text.stringBuffer;this.gxParentRowId="";this.gxHoveredRowId=null;this.evenRowCellClass=this.evenRowClass=this.oddRowCellClass=this.oddRowClass=this.columnHeaderTextClass=this.columnAutoHeaderClass=this.highlightedNavigationLinkClass=this.navigationLinkClass=this.navigationClass=this.editControlClass=this.footerClass=this.headerClass=this.tableClass="";this.rowsValues=[];this.pagingButtonFirstClass="PagingButtonsFirst";this.pagingButtonPreviousClass="PagingButtonsPrevious";
this.pagingButtonNextClass="PagingButtonsNext";this.pagingButtonLastClass="PagingButtonsLast";this.pagingButtonDisabled="gx-grid-paging-disabled";this.pagingBarClass="gx-grid-paging-bar";this.selectedRowClass="gx-row-selected";this.rendered=!1;"undefined"!=typeof Image?(this.ascLabel=new Image,this.descLabel=new Image):this.descLabel=this.ascLabel=null;this.id=c;this.container=null;this.setContainerDelayed=function(f){this.container=f};this.addColumn=function(f){f.isGxRemove()&&(f.visible=!1);var k=
this.columns.length;f.index=k;f.table=this;this.columns[k]=f;"undefined"!=typeof f.htmlName&&(this.columnsHtmlName[f.htmlName]=f);"undefined"!=typeof f.gxId&&(this.columnsGxId[f.gxId]=f);"undefined"!=typeof f.gxAttId&&(this.columnsGxAttId[f.gxAttId]=f);return f};this.getColumnByIndex=function(f){return this.columns[f]};this.getColumnByCtrlType=function(f){return l.map(this.columns,function(k){return k.gxControl.type==f?k:null})};this.addRow=function(f,k){f.table=this;if(null!=f)return this.rows[this.rows.length]=
f,"undefined"!=typeof f.id&&(this.rowsById[f.id]=f),"undefined"!=typeof f.gxId&&(this.rowsByGxId[f.gxId]=f),gx.lang.booleanValue(k)&&this.render(),f};this.getColumnByHtmlName=function(f){var k=this.columnsHtmlName[f];if("undefined"==typeof k&&"undefined"!=typeof this.gxCmpContext&&this.gxCmpContext.length<f.length){var m=f.substring(0,this.gxCmpContext.length);m==this.gxCmpContext&&(f=f.substring(this.gxCmpContext.length,f.length),k=this.columnsHtmlName[f])}return k};this.getColumnByGxId=function(f){return this.columnsGxId[f]};
this.getColumnByGxAttId=function(f){return this.columnsGxAttId[f]};this.getColumnForVar=function(f){for(var k=0;k<this.columns.length;k++){var m=this.parentGxObject.getValidStruct(this.columns[k].gxId);if(m&&m.gxvar==f)return this.columns[k]}return null};this.getRowById=function(f){return this.rowsById[f]};this.getRowByGxId=function(f){return this.rowsByGxId[f]};this.setSort=function(f,k){f==this.sortColumn?this.ascSort=null==k?!this.ascSort:gx.lang.booleanValue(k):(this.sortColumn=f,this.ascSort=
null==k?!0:gx.lang.booleanValue(k));this.doSort();this.ownerGrid.refreshGrid({immediateApplyInfiniteScroll:!0})};this.doSort=function(){-1!=this.sortColumn&&this.rows.sort(this.sort)};this.getControlName=function(f,k){return this.gxCmpContext+k.htmlName+"_"+f.gxId};this.getControlId=function(f,k){return this.getControlName(f,k)};this.getRowCount=function(){return this.rows.length};this.getMaxPage=function(){return Math.ceil(this.getRowCount()/this.pageSize)};this.isGxTrn=function(){return this.parentGxObject.isTransaction()};
this.gridObject=function(){return"gx.fn.gridObj('"+this.gxCmpContext+"','"+this.gxGridName+"',"+this.gxIsMasterPageGrid.toString()+")"};this.deleteImgId=function(f){return this.gxCmpContext+"delete"+this.gxGridName+"_"+f};this.showDeleteImage=function(f){this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images&&this.isGxTrn()&&(f=gx.dom.byId(this.deleteImgId(f)))&&!gx.fn.isVisible(f)&&(f.style.display="inline","A"==f.parentNode.nodeName&&(f.parentNode.style.display="inline"))};this.appendDeleteHeader=
function(f,k){if(!this.gxIsFreestyle&&this.ownerGrid.deleteMethod!=gx.grid.deleteMethods.none){var m=this.isGxTrn(),q=!1;if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)if(k==gx.grid.deletePositions.left)q=!0;else return;else gx.grid.deletePosition==k&&(q=!0);m&&q&&(k="&nbsp;",this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images&&(k=gx.grid.deleteTitle),f.append('<th class="'+this.columnAutoHeaderClass+'">'+k+"</th>"))}};this.appendDeleteImage=function(f,k,m){if(this.ownerGrid.deleteMethod!=
gx.grid.deleteMethods.none&&this.isGxTrn()){var q=!1,w=!1;"DSP"!=this.parentGxObject.Gx_mode&&"DLT"!=this.parentGxObject.Gx_mode&&(q=k.gxDeleted(),w=k.gxIsMod()||k.gxExists());var p=this.deleteImgId(k.gxId),t=!1;if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)if(m==gx.grid.deletePositions.left)t=!0;else return;else if(!this.gxIsFreestyle&&gx.grid.deletePosition==m)t=!0;else if(this.gxIsFreestyle){var z=gx.grid.deletePositionFree;m==gx.grid.deletePositions.left?t=z==gx.grid.deletePositions.topL||
z==gx.grid.deletePositions.bottomL:m==gx.grid.deletePositions.right&&(t=z==gx.grid.deletePositions.topR||z==gx.grid.deletePositions.bottomR);m=z}if(t){var r="<"+this.CELL_TAG+' class="gx-remove-row gx-remove-row-'+this.deleteImageAlign(m)+" gx-remove-row-"+this.deleteVerticalAlign(m)+'" style="text-align:'+this.deleteImageAlign(m)+";vertical-align:"+this.deleteVerticalAlign(m)+'">';m="</"+this.CELL_TAG+">";t=!1;z="gx-grid-delete";gx.O.DSO&&(z="gx-grid__row-delete");var u=gx.getMessage("GXM_deleterow");
q&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images?(q=gx.grid.undeleteImage,gx.O.DSO&&(z="gx-grid__row-add"),u=gx.getMessage("GXM_Add")):w&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images?q=gx.grid.deleteImage:q&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu?q=gx.grid.deleteImage:(q=gx.grid.deleteImage,t=!0);w="";f.append(r);this.ownerGrid.deleteMethod==gx.grid.deleteMethods.images&&(r=gx.fn.firstGridControl(this.ownerGrid.gridId),w=gx.grid.deleteTooltip,f.append('<a gxfocusable="1" href="javascript:'+
this.gridObject()+".setRowDeleted('"+k.gxId+"');\""),f.append(' onfocus="gx.evt.onfocus(this,'+r+",'"+this.ownerGrid.gxComponentContext+"',"+this.ownerGrid.isMasterPageGrid+",'"+k.gxId+"',"+this.ownerGrid.gridId+')"'),k="",t&&(k+="display:none;"),k&&f.append(' style="'+k+'"'),f.append(">"));f.append('<img id="'+p+'" src="'+q+'"" title="'+u+'"');w&&f.append(' title="'+w+'"');f.append(' style="border-style: none;');t&&f.append("display:none;");f.append('"');f.append(' class="'+z+'"/>');this.ownerGrid.deleteMethod==
gx.grid.deleteMethods.images&&f.append("</a>");f.append(m)}}};this.deleteVerticalAlign=function(f){if(this.gxIsFreestyle){if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)return"middle";var k="top";if(f==gx.grid.deletePositions.bottomL||f==gx.grid.deletePositions.bottomR)k="bottom";return k}return"middle"};this.deleteImageAlign=function(f){if(this.gxIsFreestyle){if(this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu)return"left";var k="right";if(f==gx.grid.deletePositions.bottomL||f==
gx.grid.deletePositions.topL)k="left";return k}return"center"};this.getRowByPos=function(f){return this.container.querySelector(" tbody>tr:nth-child("+f+")")};this.scroll_last_row_selector=function(f){return this.ownerGrid.additiveResponse?" tbody tr:nth-last-child("+Math.min(f/2,1)+")":" tbody tr:last-child"};this.scroll_first_row_selector=function(){return" tbody tr:first-child"};this.ROW_TAG="tr";this.CELL_TAG="td";this.ROW_BASE_CLASS="";this.getRowRenderingProps=function(f,k){var m=this.ROW_TAG,
q=this.ROW_BASE_CLASS;this.gxIsFreestyle&&(m=this.CELL_TAG);q+=(q?" ":"")+(f?this.evenRowClass:this.oddRowClass)+(k?" RowDeleted":"");return{cls:q,tag:m}};this.simpleAppendFn=function(f){return function(k){k.append(f)}};this.appendGridStyle=function(f){var k=d.exec(this.gxHtmlTags);k&&1<k.length&&f.append(k[1]);gx.lang.emptyObject(this.gxBackground)||f.append(";background-image:url('"+gx.util.resourceUrl(this.gxBackground,!0)+"');");gx.lang.emptyObject(this.gxBorderWidth)||f.append(";border: solid "+
this.gxBorderWidth+"px ");gx.lang.emptyObject(this.gxBordercolor)?f.append(";"):f.append(this.gxBordercolor+";");0<this.ownerGrid.width&&f.append("width:"+this.ownerGrid.width+this.ownerGrid.widthUnit+";")};this.appendGridAttributes=function(f){f.append(this.gxHtmlTags.replace(d,""));this.gxAllowCollapsing&&this.gxCollapsed&&f.append(" data-gx-sr-only ")};this.appendGridClassAttribute=function(f){-1==this.gxHtmlTags.indexOf("class=")&&f.append(' class="'+this.gxCssClass+'"')};this.appendCollapsingWrapperStart=
function(f){f.append('<div valign="top" ><div>');f.append('<img class="collapse-icon" style="cursor:pointer;" src="');this.gxCollapsed?f.append(gx.ajax.getImageUrl(gx,"expandImage")):f.append(gx.ajax.getImageUrl(gx,"collapseImage"));f.append('" onclick="'+this.gridObject()+'.expandCollapse(this, event);"></div><div>')};this.appendCollapsingWrapperEnd=function(f){f.append("</div></div>")};this.appendContainerStart=function(f,k){k.append("<table ");this.appendGridClassAttribute(k);k.append(' id="'+
f+'" ');gx.lang.emptyObject(this.gxToolTipText)||k.append('title="'+this.gxToolTipText+'" ');k.append('style="');this.appendGridStyle(k);k.append('" ');this.appendGridAttributes(k);this.isAbstract||(k.append('data-bkgstyle="'),k.append(gx.grid.styles[this.gxTitleBackstyle]),k.append('" '));k.append(">");gx.lang.emptyObject(this.header)||(k.append("<caption>"),k.append(this.header),k.append("</caption>"))};this.appendContainerEnd=this.simpleAppendFn("</table>");this.appendHeaderText=function(f,k){gx.lang.emptyObject(this.headerText)||
k.append('<tr><td colspan="'+f+'" class="'+this.headerClass+'">'+this.headerText+"</td></tr>")};this.appendFooterText=function(f,k){gx.lang.emptyObject(this.footerText)||k.append('<tr><td colspan="'+f+'" class="'+this.footerClass+'">'+this.footerText+"</td></tr>")};var g={left:"start",right:"end"},a=function(f){return gx.util.browser.isIE()||!g[f]?f:g[f]};this.appendHeader=function(f,k){var m=f.length,q=[],w=gx.ajax.getImageUrl(gx,"ascImage"),p=gx.ajax.getImageUrl(gx,"descImage"),t=0;k.append("<thead>");
k.append("<tr>");this.appendDeleteHeader(k,gx.grid.deletePositions.left);for(var z=0;z<m;z++){var r=f[z];var u=[r.gxColumnClass||r.gxControl.columnClass,r.columnheaderclass||"",this.columnAutoHeaderClass].join(" ");k.append('<th class="'+u+'"');u="white-space:nowrap;";gx.lang.gxBoolean(r.visible)||(u+="display:none;");r.width&&(r.gxWidthUnit||(r.gxWidthUnit="px"),u+="width:"+r.width+r.gxWidthUnit+";");r.align&&(u+="text-align:"+a(r.align)+";");gx.lang.emptyObject(this.gxTitleBackColor)||this.gxTitleBackstyle!=
gx.grid.styles.header&&this.gxTitleBackstyle!=gx.grid.styles.report||(u+="background-color:"+this.gxTitleBackColor+";",this.gxRealTitleBackColor=this.gxTitleBackColor);gx.lang.emptyObject(this.gxBackColor)||this.gxTitleBackstyle!=gx.grid.styles.uniform||(u+="background-color:"+this.gxBackColor+";",this.gxRealTitleBackColor=this.gxBackColor);gx.lang.emptyObject(this.gxTitleForeColor)||(u+="color:"+this.gxTitleForeColor+";");gx.lang.emptyObject(this.gxTitleFont)||(u+=this.gxTitleFont);r.titlefontunderline?
u+="text-decoration: underline;":r.titlefontstrikethru&&(u+="text-decoration: line-through;");r.titlefontbold&&(u+="font-weight: bold;");r.titlefontitalic&&(u+="font-style: italic;");r.titlebackcolor&&(u+="background-color:"+gx.color.html(r.titlebackcolor).Html+";");r.titleforecolor&&(u+="color:"+gx.color.html(r.titleforecolor).Html+";");k.append(' style="'+u+';"');k.append(' data-colindex="'+t+'"');k.append(">");t++;gx.lang.emptyObject(gx.text.trim(r.title))?k.append("&nbsp;"):(k.append("<span"),
r.gxTooltip&&k.append(' title="'+r.gxTooltip+'"'),r.sortable&&k.append(' onclick="'+this.gridObject()+".grid.setSort("+r.index+');" onMouseOver="window.status=\''+this.sortMessage+"';return true;\" onMouseOut=\"window.status='';return true;\""),k.append(">"),k.append(r.title),null!=this.ascLabel&&null!=this.descLabel&&(this.ascLabel.src=w,this.descLabel.src=p,r.sortable&&this.sortColumn==r.index&&k.append("&nbsp;"+this.handleLabel(this.ascSort?this.ascLabel:this.descLabel,q))),k.append("</span>"));
k.append("</th>")}this.appendDeleteHeader(k,gx.grid.deletePositions.right);k.append("</tr>");k.append("</thead>")};this.appendBodyWrapperStart=this.simpleAppendFn("<tbody>");this.appendBodyWrapperEnd=this.simpleAppendFn("</tbody>");this.appendFooterWrapperStart=this.simpleAppendFn("<tfoot>");this.appendFooterWrapperEnd=this.simpleAppendFn("</tfoot>");this.appendRowStart=this.simpleAppendFn("<tr>");this.appendRowEnd=this.simpleAppendFn("</tr>");this.appendRowBreaksWrapperStart=this.simpleAppendFn("<table width='100%' data-cellspacing='0' data-cellpadding='0'><tbody>");
this.appendRowBreaksWrapperEnd=this.simpleAppendFn("</tbody></table></td>");this.appendCellPrefixEnd=this.appendCellPrefixStart=this.appendRowPrefix=gx.emptyFn;this.beforeRender=function(){this.tableClass=this.gxCssClass;this.evenRowClass=this.gxEvenLinesClass;this.oddRowClass=this.gxOddLlinesClass;this.columnHeaderTextClass=this.columnAutoHeaderClass=this.headerClass=this.gxTitleClass;this.evenRowCellClass=this.evenRowClass;this.oddRowCellClass=this.oddRowClass;l.each(this.beforeRenderCallbacks,
function(f,k){k()});this.beforeRenderCallbacks=[]};this.drawEmptyContent=function(){var f=this.ownerGrid,k=f.getGridInnerTableId();f.emptyText&&0===l("#"+k+" + .gx-text-gridnodata").length&&l(document.createElement("div")).addClass("GridNoDataText gx-text-gridnodata").text(f.emptyText).insertAfter(l("#"+k));0===this.rows.length?l("#"+k).attr("data-gx-grid-nodata",""):l("#"+k).removeAttr("data-gx-grid-nodata")};this.purgeGrid=function(){var f,k=["onblur","onclick","onfocus","onchange"],m=gx.dom.byTag("input",
this.container);var q=0;for(f=m.length;q<f;q++)gx.dom.purgeElement(m[q],k);m=gx.dom.byTag("textarea",this.container);q=0;for(f=m.length;q<f;q++)gx.dom.purgeElement(m[q],k);m=gx.dom.byTag("select",this.container);q=0;for(f=m.length;q<f;q++)gx.dom.purgeElement(m[q],k);m=gx.dom.byTag("span",this.container);q=0;for(f=m.length;q<f;q++)gx.dom.purgeElement(m[q],k);m=gx.dom.byTag("img",this.container);q=0;for(f=m.length;q<f;q++)gx.dom.purgeElement(m[q],k)};this.render=function(f,k,m,q,w,p){f=!!f;w=this.ownerGrid.getGridInnerTableId();
var t=this.container;this.ownerGrid.disposeTemplateObject();this.beforeRender();this.ownerGrid.additiveResponse&&this.doSort();f=this.drawGrid(w,f,k,m,p);gx.dom.shouldPurge()&&this.purgeGrid();var z=gx.dom.getActiveElement();k=z?z.tagName.toUpperCase():"";t=z&&(z.id||z.name)&&"FORM"!=k&&gx.dom.isChildNode(z,t);var r=gx.dom.getCaretOffset(z);this.setGridHtml(this.container,f,p);this.ownerGrid.isNestedLoad||gx.dom.fixes.fixTableResets(this.container);this.ownerGrid.applyTemplateObject({deferred:!1});
this.gxIsFreestyle||this.ownerGrid.instanciateRow(gx.fn.currentGridRowImpl(this.ownerGrid.gridId));this.ownerGrid.additiveResponse&&-1!=this.sortColumn&&this.ownerGrid.handleInfiniteScrolling();t&&setTimeout(function(){var u=gx.dom.el(z.id||z.name,!1,!0);u&&(gx.csv.disableFocus=!0,0<u.offsetWidth&&0<u.offsetHeight&&gx.fn.setFocus(u,function(){gx.dom.setCaretOffset(u,r)}))},10);this.drawEmptyContent();this.afterRender(w);q();this.rendered=!0};this.setGridHtml=function(f,k,m){m=m||{};gx.csv.IgnoreBlur=
!0;var q=this.ownerGrid.InverseLoading,w;if(-1===this.sortColumn&&(this.ownerGrid.additiveResponse||m.addRows))if(-1!==this.sortColumn)f.innerHTML=k,gx.plugdesign.applyTemplateObject({selector:f});else{if(this.gxIsFreestyle){f=document.createElement("div");f.className="gx-sr-only";f.innerHTML=k;f.setAttribute("data-gx-grid-rendering-additive-rows","");var p=l(f);k=q?this.firstItemSelector:this.lastItemSelector;q?p.insertBefore(k):p.insertAfter(k)}else q?p=l(k).insertBefore(this.firstItemSelector):
f=l(k).insertAfter(this.lastItemSelector);this.newAdditiveRows=p;gx.plugdesign.applyTemplateObject({selector:p,deferred:!0}).then(function(){this.newAdditiveRows&&(w=this.newAdditiveRows.children(),q?w.insertBefore(this.newAdditiveRows):w.insertAfter(this.newAdditiveRows),this.newAdditiveRows.trigger("gx-grid:after-additive-rows-render"),this.newAdditiveRows.remove(),delete this.newAdditiveRows)}.closure(this))}else f.innerHTML=k;gx.csv.IgnoreBlur=!1};this.afterRender=function(){this.rendered||this.defineEventHandlers()};
this.renderRow=function(f,k,m,q,w,p,t,z,r,u,x,E,F,G,n,v){f=this.rows[m];E=!!(m%2);var y=this.isGxTrn();k&&m===q&&!gx.fn.currentGridRowImpl(this.gxId)&&gx.fn.setCurrentGridRow(this.gxId,f.gxId);var B=f.gxDeleted();x=new gx.text.stringBuffer;var C=this.getRowRenderingProps(E,B,m,q,w);p&&this.gxIsFreestyle&&(0<m&&0===m%this.gxGridCols||0===m&&0<this.gxGridCols)&&(0<m&&this.appendRowEnd(t,m,q,w),this.appendRowStart(t,m,q,w));var I="";this.gxTitleBackstyle==gx.grid.styles.report&&(I=E?this.gxLinesBackcolorEven:
this.gxLinesBackcolorOdd);this.gxTitleBackstyle==gx.grid.styles.header&&(I=this.gxLinesBackcolorOdd);this.gxTitleBackstyle==gx.grid.styles.uniform&&(I=this.gxBackColor);if(!this.gxIsFreestyle||this.gxIsFreestyle&&p)this.appendRowPrefix(x,m,q,w),x.append("<"+C.tag+" id='"+this.gxCmpContext+this.gxGridObject+"Row_"+f.gxId+"'"),this.gxIsFreestyle||x.append(' data-gxrendering_row=""'),this.gxIsFreestyle&&p?(x.append(' data-gxrow="'+f.gxId.toString()+'"'),(z=this.columns[1].gxControl.verticalAlign)&&x.append(' data-cell-valign="'+
z+'"')):x.append(' data-gxrow="'+f.gxId.toString()+'"'),x.append(' class="'+C.cls+'"'),f.selected&&x.append(' data-selected="1"'),E="",I&&(E="background-color:"+I+";"),gx.lang.emptyObject(this.gxLinesFont)||(E+=this.gxLinesFont),E&&x.append(' style="'+E+'" '),x.append(">"),t.append(x.toString());this.gxIsFreestyle&&(p&&this.appendRowBreaksWrapperStart(t,f),r=this.gxBuffer.toString(),t.append(r));this.gxIsFreestyle||this.appendDeleteImage(t,f,gx.grid.deletePositions.left);this.appendCellPrefixStart(t,
m,q,w,f,C);for(z=0;z<u;z++){x=v[z];E=gx.lang.gxBoolean(x.visible);F=f.gxProps[x.index];r=f.values[x.index];G=x.gxControl;this.gxIsFreestyle&&G.type==gx.html.controls.types.row&&0===x.index&&(G.isFreestyleRow=!0);G.setGridData({grid:this.ownerGrid,row:f,gridId:this.gxId,gridRow:f.gxId});n?(delete G.formattedValue,G.value=r,G.id=x.htmlName+"_"+G.gridRow):(G.setProperties.apply(G,F),G.isFreestyleRow&&(G.cssClass=C.cls));if(k)delete gx.usrPtys[G.id];else if(void 0!==gx.usrPtys[G.id])for(var L in gx.usrPtys[G.id])"enabled"==
L&&(G.rtEnabled=!0),G.setIndividualProp(L,gx.usrPtys[G.id][L]);B&&(G.rtEnabled=!0,G.enabled=!1);r=this.parentGxObject.getValidStruct(x.gxId);"undefined"!==typeof F.Value&&(G.value="."!=gx.decimalPoint&&r&&"decimal"==r.type&&"string"==typeof F.Value?F.Value.replace(".",gx.decimalPoint):F.Value);"undefined"!==typeof F.FormattedValue&&(G.formattedValue=F.FormattedValue);"undefined"===typeof G.formattedValue&&(n&&r&&r.v2c?(G.persistValue(),r.v2c(f.gxId),G.formattedValue=gx.fn.getControlValue(G.id)):G.formattedValue=
G.value);F.Values&&(G.possibleValues=F.Values.v);this.gxIsFreestyle&&G.type==gx.html.controls.types.row&&0===x.index&&(G.id=this.gxCmpContext+this.gxGridObject+"Row_"+f.gxId,y&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu&&(G.oncontextmenu=this.gridObject()+".showContextMenu(this, event);"),I&&(G.style+="background-color:"+I+";"));this.gxIsFreestyle||(t.append("<"+this.CELL_TAG+' class="gx-attribute '+(G.columnClass||"")+'" data-cell-valign="'+x.valign+'"'),t.append(' data-colindex="'+
z+'"'),F="",E||(F+="display:none;",!G.visible||x.isGxRemove()||this.ownerGrid.isPromptColumn(x)||this.ownerGrid.addColPropertyAfterRender(z,"Visible",1)),x.width?(x.gxWidthUnit||(x.gxWidthUnit="px"),F+="width:"+x.width+x.gxWidthUnit+";"):x.gxColSize&&(G.colSize=x.gxColSize),x.align&&(F+="text-align:"+a(x.align)+";"),G.style&&(F+=G.style.replace(/content:var\(.*\);/,"")),F&&t.append(' style="'+F+'" '),t.append(">"));t.append(G.getHtml());this.gxIsFreestyle&&G.type==gx.html.controls.types.row&&0===
x.index&&this.appendDeleteImage(t,f,gx.grid.deletePositions.left);G.persistValue();this.gxIsFreestyle||t.append("</"+this.CELL_TAG+">");this.gxIsFreestyle&&(x.index==this.columns.length-1&&this.appendDeleteImage(t,f,gx.grid.deletePositions.right),r=x.buffer.toString(),t.append(r))}this.appendCellPrefixEnd(t,m,q,w);this.gxIsFreestyle&&p?this.appendRowBreaksWrapperEnd(t):this.appendDeleteImage(t,f,gx.grid.deletePositions.right)};this.drawGrid=function(f,k,m,q,w){var p=this;w=w||{};var t=this.isGxTrn(),
z=this.gxIsFreestyle&&1<this.gxGridCols;m=new gx.text.stringBuffer;var r=this.columns,u=r.length,x,E=-1===this.sortColumn&&(this.ownerGrid.additiveResponse||w.addRows);!this.gxIsFreestyle&&t&&u++;var F,G=function(){if(0!==Number(this.pageSize)){F=this.getMaxPage();0>=this.currentPage?this.currentPage=1:this.currentPage>F&&(this.currentPage=F);var P=Math.max(this.pageSize*(this.currentPage-1),0);var X=Math.min(P+this.pageSize,this.rows.length)}else P=0,X=this.rows.length;return{firstRow:P,lastRow:X}}.call(this),
n=G.firstRow;G=G.lastRow;if(E||w.immediateApplyInfiniteScroll){var v=n;n=E||"0"!=this.firstRecordOnPage&&-1==this.sortColumn?this.lastRenderedRow:0;G=this.rows.length;this.ownerGrid.firstAdditiveRow=n}else v=n;this.gxAllowCollapsing&&this.appendCollapsingWrapperStart(m);var y=r.length;if(!this.gxIsFreestyle&&G>n)for(var B=0;B<y;B++){var C=r[B];var I=C.gxControl;var L=!1;var M=gx.lang.gxBoolean(C.visible);C.visible=M;for(x=v;x<G&&!L;x++){var N=this.rows[x];var R=N.gxProps[C.index];q||I.setProperties.apply(I,
R);I.visible&&(L=!0)}x=function(P){E=C.visible=!1;n=v;p.ownerGrid.firstAdditiveRow=0;w.addRows=!1};this.ownerGrid.additiveResponse||(C.visible&&!L&&x(!1),!C.visible&&L&&x(!0))}E&&-1==this.sortColumn||(this.appendContainerStart(f,m),this.appendHeaderText(u,m),this.gxIsFreestyle||this.appendHeader(r,m),this.appendBodyWrapperStart(m));if(this.ownerGrid.InverseLoading)for(x=G-1;x>=n;x--)this.renderRow.call(this,N,k,x,n,G,z,m,void 0,void 0,y,C,M,R,I,q,r);else for(x=n;x<G;x++)this.renderRow.call(this,N,
k,x,n,G,z,m,void 0,void 0,y,C,M,R,I,q,r);this.gxIsFreestyle&&0<this.gxGridCols&&z&&this.appendRowEnd(m);this.lastRenderedRow=G;E||(this.appendBodyWrapperEnd(m),this.appendFooterWrapperStart(m),this.ownerGrid.InfiniteScrolling||!t&&!this.hasPagingButtons()||this.appendNavigationBar(u,m),this.appendFooterText(u,m),this.appendFooterWrapperEnd(m),this.appendContainerEnd(m),this.gxAllowCollapsing&&this.appendCollapsingWrapperEnd(m));this.fromCollection=q;f=m.toString();m.clear();m=null;return f};this.defineEventHandlers=
function(){var f={};if(this.ownerGrid&&this.ownerGrid.parentObject&&this.ownerGrid.parentObject.IsComponent)var k=this.ownerGrid.parentObject;k&&(k=gx.pO.getWebComponent(k.CmpContext),f.hookKey=k&&k.getContainer()&&k.getContainer().id);this.gxIsFreestyle||(gx.evt.attach(this.container,"mouseover",this.mouseOverHandler,this,f),gx.evt.attach(this.container,"mouseout",this.mouseOutHandler,this,f));this.isGxTrn()&&this.ownerGrid.deleteMethod==gx.grid.deleteMethods.menu&&gx.evt.attach(this.container,"contextmenu",
this.contextMenuHandler,this,f);gx.evt.attach(this.container,"mousedown",this.mouseDownHandler.closure(this,[],!0),this,f);gx.evt.attach(this.container,"click",this.clickHandler,this,f);this.isGxTrn()&&gx.evt.attach(this.container,"keydown",this.keyDownHandler,this,f)};this.isGridRow=function(f){return f&&f.tagName.toLowerCase()==this.ROW_TAG&&null!=f.getAttribute("data-gxrow")&&l(f).closest(".gx-grid")[0]==this.container};this.getTargetRow=function(f,k){for(;f&&gx.dom.isChildNode(f,this.container);){if(this.isGridRow(f)&&
(!k||"body"==k&&"TBODY"==f.parentNode.tagName||"header"==k&&"THEAD"==f.parentNode.tagName))return f;f=gx.dom.findParentByTagName(f,this.ROW_TAG)}};this.mouseOverHandler=function(f){!gx.runtimeTemplates&&this.gxAllowHovering&&(f=this.getTargetRow(gx.evt.source(f)))&&"1"!=f.getAttribute("data-selected")&&(this.toggleRowHoverById(this.gxHoveredRowId,!1),this.startRowHover(f),this.gxHoveredRowId=parseInt(f.getAttribute("data-gxrow").substring(0,4),10)-1)};this.mouseOutHandler=function(f){!gx.runtimeTemplates&&
this.gxAllowHovering&&(f=this.getTargetRow(gx.evt.source(f)))&&"1"!=f.getAttribute("data-selected")&&this.endRowHover(f)};this.contextMenuHandler=function(f){var k=this.getTargetRow(gx.evt.source(f));k&&this.ownerGrid.showContextMenu(k,f)};this.mouseDownHandler=function(f,k){if(f=this.getTargetRow(gx.evt.source(f)))k="undefined"===typeof k?this.gxAllowSelection&&!this.gxIsFreestyle:k,this.setRowSelected(f,f.getAttribute("data-gxrow"),!1,k)};this.keyDownHandler=function(f){this.getTargetRow(gx.evt.source(f))&&
this.ownerGrid.rowKeyPressed(f)};this.clickHandler=function(f){var k=gx.evt.source(f);k.parentNode&&gx.dom.hasClass(k.parentNode,this.pagingBarClass)&&gx.evt.waitGridRefresh(function(){this.pagingHandler(k,f)}.closure(this))};this.pagingHandler=function(f,k){var m="";gx.evt.cancel(k,!0);gx.dom.hasClass(f,this.pagingButtonDisabled)||(gx.dom.hasClass(f,this.pagingButtonFirstClass)?m="FIRST":gx.dom.hasClass(f,this.pagingButtonPreviousClass)?m="PREV":gx.dom.hasClass(f,this.pagingButtonNextClass)?m="NEXT":
gx.dom.hasClass(f,this.pagingButtonLastClass)&&(m="LAST"),this.changeGridPage(m))};this.changeGridPage=function(f,k){var m=l.Deferred(),q=this.gxGridName.toUpperCase()+"PAGING",w=this.ownerGrid,p="";if(f){w.InfiniteScrolling||this.mask();if(gx.pO.fullAjax){if(gx.setGxO(this.parentGxObject),p="E"+w.realGridName.toUpperCase()+"_"+f+"PAGE"+(w.isMasterPageGrid?"_MPAGE":""),w.parentGrid)var t=w.parentGrid.gridId}else gx.fn.setHidden(this.gxCmpContext+q,f),p=this.gxCmpContext+"E"+q+".";gx.evt.execEvt(this.gxCmpContext,
this.parentGxObject.IsMasterPage,p,gx.evt.dummyCtrl,t,void 0,void 0,!1,function(){this.unmask();m.resolve()}.closure(this),k);return m.promise()}};this.setRowSelected=function(f,k,m,q,w){gx.grid.setActiveGridRow(this,k);q=void 0===q||q;w=void 0===w||w;var p=function(){var t=gx.O;if(!gx.lang.emptyObject(this.parentGxObject)){q&&!gx.runtimeTemplates&&void 0===f.gxOriginalBackcolor&&(f.gxOriginalBackcolor=f.style.backgroundColor);this.instanciateSelectionVars(k);var z=this.getRowByGxId(k),r=this.selectedRows||
[],u=[];z&&r.push(z);for(z=0;z<r.length;z++){var x=r[z];x.selected=x.gxId==k;x.selected?(q&&(gx.runtimeTemplates||(f.gxSBackcolor=void 0!==f.gxOriginalBackcolor?f.gxOriginalBackcolor:f.style.backgroundColor,this.gxSelectionColor&&(f.style.backgroundColor=this.gxSelectionColor.Html)),gx.dom.addClass(f,this.selectedRowClass),l(f).attr("data-gxselected","")),u.push(x)):q&&(x=gx.dom.el(this.gxCmpContext+this.gxGridObject+"Row_"+x.gxId),null==x||void 0===x.gxSBackcolor||gx.runtimeTemplates||(x.style.backgroundColor=
x.gxSBackcolor),gx.dom.removeClass(x,this.selectedRowClass),l(x).removeAttr("data-gxselected"))}for(z=0;z<u.length;z++)this.instanciateSelectedRow(u[z],!w);gx.setGxO(t)}};m&&(q||gx.O.isTransaction())?setTimeout(p.closure(this),100):p.call(this)};this.instanciateSelectionVars=function(f){gx.setGxO(this.parentGxObject);gx.fn.setCurrentGridRow(this.gxId,f);gx.fn.setHidden(this.gxCmpContext+this.gxGridName.toUpperCase()+"_ROW",f.substring(0,4))};this.instanciateSelectedRow=function(f,k){this.selectedRows=
[f];this.setSelectedRowVars(f);if(this.gxOnLineActivate&&!this.ownerGrid.isLoading&&(gx.csv.instanciatedRowGrid=this.ownerGrid,!k)){var m=this.parentGxObject;gx.lang.doCallTimeout(function(){gx.evt.doAfterProcessing(function(){if(m.fullAjax){var q=m.isServerEvent(this.gxOnLineActivate);gx.evt.dispatcher.dispatch(m.getServerEventName(this.gxOnLineActivate),m,this.ownerGrid.gridId,f.gxId,q)}else m[this.gxOnLineActivate].call(m,f.gxId)},this)},this,[],100)}};this.setSelectedRowVars=function(f){for(var k=
this.parentGxObject,m=this.columns.length,q=0;q<m;q++){var w=k.GXValidFnc[this.columns[q].gxId];null!=w&&w.c2v&&w.c2v(f.gxId)}};this.scrollIntoView=function(f,k,m){function q(u,x,E,F){return!1===k||E<=u+F&&u<=x+F?Math.min(E,Math.max(x,u)):(x+E)/2}function w(u,x,E,F){return{left:u,top:x,width:E,height:F,right:u+E,bottom:x+F,translate:function(G,n){return w(G+u,n+x,E,F)},relativeFromTo:function(G,n){var v=u,y=x;G=G.offsetParent;n=n.offsetParent;if(G===n)return p;for(;G;G=G.offsetParent)v+=G.offsetLeft+
G.clientLeft,y+=G.offsetTop+G.clientTop;for(;n;n=n.offsetParent)v-=n.offsetLeft+n.clientLeft,y-=n.offsetTop+n.clientTop;return w(v,y,E,F)}}}var p,t;for(p=w(f.offsetLeft,f.offsetTop,f.offsetWidth,f.offsetHeight);t=f.parentNode;){var z=t.offsetLeft+t.clientLeft,r=t.offsetTop+t.clientTop+m;p=p.relativeFromTo(f,t).translate(-z,-r);t.scrollTop=q(t.scrollTop,p.bottom-t.clientHeight+m,p.top,t.clientHeight);p=p.translate(z-t.scrollLeft,r-t.scrollTop);f=t}};this.keepGridItemVisible=function(f,k){var m=gx.util.browser.isOldIE(),
q=l(this.ownerGrid.getContainerControl()),w=m?q.closest(".gx-grid-fixed-header-ie7"):l("#"+this.ownerGrid.getContainerControlId()+" > table > tbody");0<w.length&&w[0].offsetHeight<w[0].scrollHeight&&(f=this.ownerGrid.getRowCtrlByIdx(f))&&(m=m?parseInt(q.css("paddingTop"),10):0,this.scrollIntoView(f,k,m))};this.setNextRowHovered=function(){return this.toggleRowHoverById(this.gxHoveredRowId+1,!0,!1)};this.setPreviousRowHovered=function(){return this.toggleRowHoverById(this.gxHoveredRowId-1,!0,!0)};
this.toggleRowHoverById=function(f,k,m){var q=this.ownerGrid.getRowCtrlByIdx(f),w=!1;q&&(w=!0,k?(this.toggleRowHoverById(this.gxHoveredRowId,!1),this.startRowHover(q),this.gxHoveredRowId=f,this.keepGridItemVisible(f,m)):this.endRowHover(q));return w};this.getRowByDOMCtrl=function(f){f=parseInt(f.getAttribute("data-gxrow").substring(0,4),10)-1;return this.getRowById(f)};this.startRowHover=function(f){if(gx.runtimeTemplates)l(f).addClass("gx-row-hovered");else{void 0===f.gxOriginalBackcolor&&(f.gxOriginalBackcolor=
f.style.backgroundColor);var k=this.getRowByDOMCtrl(f);this.gxAllowHovering&&this.gxHoverColor&&!k.selected&&(f.gxHBackcolor=f.style.backgroundColor,f.style.backgroundColor=this.gxHoverColor.Html)}};this.endRowHover=function(f){if(gx.runtimeTemplates)l(f).removeClass("gx-row-hovered");else{var k=this.getRowByDOMCtrl(f);this.gxAllowHovering&&!k.selected&&void 0!==f.gxHBackcolor&&(f.style.backgroundColor=f.gxHBackcolor)}};this.hasPagingButtons=function(){return this.usePaging&&0<this.pageSize&&(!this.isFirstPage()||
!this.isLastPage())};this.appendNavBarRowStart=function(f,k){gx.lang.emptyObject(this.gxRealTitleBackColor)?k.append('<tr><td colspan="'+f+'" class="'+this.navigationClass+'" style="text-align: center;">'):k.append('<tr><td colspan="'+f+'" class="'+this.navigationClass+'" style="text-align: center;background-color:'+this.gxRealTitleBackColor+';">')};this.appendNavBarRowEnd=function(f){f.append("</td></tr>")};this.appendNavigationBar=function(f,k){var m=this.getRowCount();m=(0<m||0===m&&!this.isFirstPage())&&
this.usePaging;var q=this.parentGxObject.Gx_mode;q=this.isGxTrn()&&!this.gxHasAddlines&&!("DSP"==q||"DLT"==q);this.navigationClass=this.gxFooterClass;this.gxIsFreestyle&&1<this.gxGridCols&&(f=this.gxGridCols);(m||q)&&this.appendNavBarRowStart(f,k);m&&(k.append('<div class="'+this.pagingBarClass+'" style="padding-bottom:5px;">'),0>=this.currentPage&&(this.currentPage=1),k.append(this.buildPagingButton(this.pagingButtonFirstClass,!this.isFirstPage(),gx.getMessage("GXM_first"))),k.append(this.buildPagingButton(this.pagingButtonPreviousClass,
!this.isFirstPage(),gx.getMessage("GXM_previous"))),k.append(this.buildPagingButton(this.pagingButtonNextClass,!this.isLastPage(),gx.getMessage("GXM_next"))),k.append(this.buildPagingButton(this.pagingButtonLastClass,!this.isLastPage(),gx.getMessage("GXM_last"))),k.append("</div>"));q&&(f="["+this.gxNewRowText+"]",gx.O.DSO&&(f=this.gxNewRowText),k.append(this.buildLink(f,this.gridObject()+".getNewRows(1,event);",this.gxNewRowText,this.gxGridObject+"_NewRow",this.gridObject()+".gxNewRowFocused(this);")));
(m||q)&&this.appendNavBarRowEnd(k)};this.buildPagingButton=function(f,k,m){return'<button type="button" class="'+f+(k?"":" "+this.pagingButtonDisabled)+'"style="padding-left:20px;padding-bottom:5px;'+((k?"":"opacity:.7;cursor:default")+'" title="')+m+'"'+(k?"":" disabled")+"/>"};this.buildLink=function(f,k,m,q,w){var p=this.navigationLinkClass;return"<a class='gx_newrow' type='gxlink' style='text-decoration:none;' tabindex='0' onfocus=\""+w+'" onblur="this.style.textDecoration = \'none\';"><span '+
(void 0!==q?'id="'+q+'"':"")+' style="cursor:'+((document.createTextRange?"hand":"pointer")+';" class="')+p+'" onclick="'+k+'" onMouseOver="this.className=\''+this.highlightedNavigationLinkClass+"';window.status='"+m+"';return true;\" onMouseOut=\"this.className='"+p+"';window.status='';return true;\">"+f+"</span></a>"};this.isLastPage=function(){return"0"!=this.eof};this.isFirstPage=function(){return"0"==(gx.lang.emptyObject(this.firstRecordOnPage)?"0":this.firstRecordOnPage)};this.getWebImageTag=
function(f){return'<img border="0" src="/'+this.basePath+this.imgsDir+f.toString()+'"/>'};var b=0;this.handleLabel=function(f){if(f.src){var k="img"+b;b++;var m="sort-ico--asc";f.src.includes("desc")&&(m="sort-ico--desc");return"<img name='"+k+"' border='0' src='"+f.src+"' class='"+m+"' >"}return f};this.sort=function(f,k){if(f.table.isGxTrn())if(f.gxExists()||k.gxExists()||f.gxIsMod()||k.gxIsMod()){if(!f.gxExists()&&k.gxExists()||!f.gxIsMod()&&k.gxIsMod())return 1;if(f.gxExists()&&!k.gxExists()||
f.gxIsMod()&&!k.gxIsMod())return-1}else return 0;var m=f.table,q=m.getColumnByIndex(m.sortColumn);f=f.values[m.sortColumn];k=k.values[m.sortColumn];gx.lang.instanceOf(f,Array)||(f=[f]);gx.lang.instanceOf(k,Array)||(k=[k]);switch(q.type){case gx.types.numeric:q=function(u){u=gx.num.parseFloat(u,gx.thousandSeparator,gx.decimalPoint);isNaN(u)&&(u=0);return u};break;case gx.types.date:case gx.types.dateTime:q=function(u){try{u=(new gx.date.gxdate(u)).Value}catch(x){gx.dbg.logEx(x,"JSTable.js","sort")}return u.valueOf()};
break;case gx.types.bool:q=function(u){return gx.lang.booleanValue(u)?1:0};break;default:q=function(u){return String(u).replace(/<[^>]*>/g,"").toUpperCase()}}for(var w=Math.max(f.length,k.length),p=0,t=0;0===p&&t<w;t++){var z=f[t];null==z&&(p=-1);var r=k[t];null==r&&(p=1);0===p&&(z=q(z),r=q(r),p="function"==typeof z.localeCompare?z==r?0:z.localeCompare(r):z==r?0:z>r?1:-1);0!==p&&(p*=m.ascSort?1:-1)}return p};this.mask=function(){var f=this.container||"function"===typeof this.getContainerControl&&
this.getContainerControl();f&&f.firstChild&&gx.dom.mask(f.firstChild)};this.unmask=function(){var f=this.container||"function"===typeof this.getContainerControl&&this.getContainerControl();f&&f.firstChild&&gx.dom.unmask(f.firstChild)}}}(gx.$);
gx.grid.column=function(l,c,d,g,a){this.table=null;this.index=-1;this.title=l||"";this.type="undefined"!=typeof c?c:gx.types.character;this.width=d||"";this.align=g||"left";this.valign=a||"middle";this.htmlName=null;this.sortable=this.enabled=this.visible=!0;this.rowspan=this.colspan=1;this.gxAttId=this.gxId=-1;this.gxWidthUnit=this.gxAttName="";this.gxUnChecked=this.gxChecked=void 0;this.buffer=new gx.text.stringBuffer;this.isGxRemove=function(){return this.gxAttName?-1!=this.gxAttName.indexOf("GxRemove")||
-1!=this.gxAttName.indexOf("nRcdDeleted"):!1}};
gx.grid.row=function(l,c,d,g){this.table=null;this.id=l;this.gxParentRowId=g||"";this.gxId=d+this.gxParentRowId;this.gxCmpContext="";this.values=[];this.selected=!1;this.gxLvl=0;this.gxProps=c.Props||[];this.gxRenderProps=c.RenderProps||[];this.gxGrids=[];this.gxKeyValues=[];this.gxExists=function(){var a=gx.fn.getHidden(this.gxCmpContext+"nRcdExists_"+this.gxLvl+"_"+this.gxId);return null!=a?0!==Number(a):!1};this.gxIsMod=function(){var a=gx.fn.getHidden(this.gxCmpContext+"nIsMod_"+this.gxLvl+"_"+
this.gxId);return null!=a?0!==Number(a):!1};this.gxDeleted=function(){var a=gx.fn.getHidden(this.gxCmpContext+"nRcdDeleted_"+this.gxLvl+"_"+this.gxId);return null!=a?0!==Number(a):!1};this.setDeleted=function(a){gx.fn.setHidden(this.gxCmpContext+"nRcdDeleted_"+this.gxLvl+"_"+this.gxId,a?1:0)}};
gx.grid.responsiveGrid=function(l){var c=["xs","sm","md","lg"];return function(d){d=new gx.grid.impl(d);d.appendContainerStart=function(g,a){a.append("<div ");this.appendGridClassAttribute(a);a.append(' id="'+g+'" ');gx.lang.emptyObject(this.gxToolTipText)||a.append('title="'+this.gxToolTipText+'" ');a.append('style="');this.appendGridStyle(a);a.append('" ');this.appendGridAttributes(a);a.append(">")};d.getRowByPos=function(g){return this.container.querySelector((1<this.gxGridCols?" >DIV":" ")+">DIV[data-gxrow]:nth-child("+
g+")")};d.scroll_last_row_selector=function(){return(1<this.gxGridCols?" >DIV":" ")+">DIV[data-gxrow]:last"};d.scroll_firt_row_selector=function(){return(1<this.gxGridCols?" >DIV":" ")+">DIV[data-gxrow]:first"};d.ROW_TAG="div";d.CELL_TAG="div";d.ROW_BASE_CLASS="row";d.getRowRenderingProps=function(g,a){var b=this.ROW_TAG,f=this.ROW_BASE_CLASS,k=this.gxGridResponsiveCols;this.gxIsFreestyle&&(b=this.CELL_TAG,f=l.map(c,function(m,q){return["col-",m,"-",Math.floor(12/(k[q]||12))||1].join("")}).join(" "));
this.gxIsFreestyle||(f+=" "+(g?this.evenRowClass:this.oddRowClass)+(a?" RowDeleted":""));return{cls:f,tag:b}};d.appendGridClassAttribute=function(g){g.append(' class="'+this.gxCssClass+'"')};d.appendGridAttributes=function(g){this.gxAllowCollapsing&&this.gxCollapsed&&g.append(" data-gx-sr-only ")};d.appendContainerEnd=d.simpleAppendFn("</div>");d.appendHeaderText=gx.emptyFn;d.appendFooterText=gx.emptyFn;d.appendHeader=gx.emptyFn;d.appendBodyWrapperStart=gx.emptyFn;d.appendBodyWrapperEnd=gx.emptyFn;
d.appendFooterWrapperStart=d.simpleAppendFn("<div>");d.appendFooterWrapperEnd=d.simpleAppendFn("</div>");d.appendRowStart=function(g,a,b){a==b&&!0!==this.ownerGrid.additiveResponse&&g.append('<div class="row">')};d.appendRowEnd=function(g,a,b,f){a==f&&!0!==this.ownerGrid.additiveResponse&&g.append("</div>")};d.appendRowBreaksWrapperStart=function(g,a){g.append("<div>");this.appendDeleteImage(g,a,gx.grid.deletePositions.left)};d.appendRowBreaksWrapperEnd=d.simpleAppendFn("</div></div>");d.appendRowPrefix=
function(g,a,b){if(a!=b){var f=this.gxGridResponsiveCols,k=!1;b=l.map(c,function(m,q){return 1!=f[q]&&0===a%f[q]||0===f[q]&&0===a%12?(k=!0,"visible-"+m):""}).join(" ");k&&g.append('<div class="clearfix '+b+'"></div>')}};d.appendCellPrefixStart=function(g,a,b,f,k){a=k.gxDeleted()?" RowDeleted":"";1==this.gxGridCols&&(g.append('<div id="'+this.gxCmpContext+this.gxGridObject+"Row_"+k.gxId+'" data-gxrow="'+k.gxId.toString()+'" class="row'+a+'"><div class="col-xs-12">'),this.appendDeleteImage(g,k,gx.grid.deletePositions.left))};
d.appendCellPrefixEnd=function(g){1==this.gxGridCols&&g.append("</div></div>")};d.appendNavBarRowStart=function(g,a){a.append('<div class="'+this.ROW_BASE_CLASS+'"><div class="col-xs-12 '+this.navigationClass+'">')};d.appendNavBarRowEnd=function(g){g.append("</div></div>")};return d}}(gx.$);
gx.grid.flexGrid=function(l){var c,d=gx.dom;this.useNativeChildControls=!0;this.show=function(){c=l("#"+this.getContainerControl().id);var b=this.drawGrid((this.gxCmpContext||"")+this.gxGridObject+"Tbl",!this.IsPostBack);this.setGridHtml(c.get(0),b);this.ownerGrid.applyTemplateObject({deferred:!1});gx.dom.fixes.fixTableResets(this.container);this.gxWidth&&c.width(d.addUnits(this.gxWidth,this.gxWidthUnit));this.gxHeight&&c.height(d.addUnits(this.gxHeight,this.gxHeightUnit))};this.destroy=function(){c&&
c.hide()};this.appendGridAttributes=function(b){gx.grid.flexGrid.prototype.appendGridAttributes.apply(this,arguments);b.append(" data-gx-flex")};var g={"flex-direction":"row","flex-wrap":"no-wrap","justify-content":"flex-start","align-items":"flex-start","align-content":"flex-start"},a=function(b,f,k){g[f]!==k&&b.append(f+": "+k+";")};this.appendGridStyle=function(b){gx.grid.flexGrid.prototype.appendGridStyle.apply(this,arguments);a(b,"flex-direction",this.FlexDirection);a(b,"flex-wrap",this.FlexWrap);
a(b,"justify-content",this.JustifyContent);a(b,"align-items",this.AlignItems);a(b,"align-content",this.AlignContent)};this.getRowRenderingProps=function(){return{cls:"",tag:this.ROW_TAG}};this.appendRowPrefix=this.appendRowEnd=this.appendRowStart=gx.emptyFn;this.appendRowBreaksWrapperStart=function(b,f){this.appendDeleteImage(b,f,gx.grid.deletePositions.left)};this.appendRowBreaksWrapperEnd=this.simpleAppendFn("</div>");this.appendCellPrefixStart=function(b,f,k,m,q){1==this.gxGridCols&&(b.append('<div id="'+
this.gxCmpContext+this.gxGridObject+"Row_"+q.gxId+'" data-gxrow="'+q.gxId.toString()+'">'),this.appendDeleteImage(b,q,gx.grid.deletePositions.left))};this.appendCellPrefixEnd=function(b){1==this.gxGridCols&&b.append("</div>")};this.appendNavBarRowStart=function(b,f){f.append('</div></div><div class="'+this.navigationClass+'">')};this.appendNavBarRowEnd=function(b){b.append("</div>")};this.scroll_last_row_selector=function(){return" > DIV[data-gxrow]:last"};this.scroll_firt_row_selector=function(){return" > DIV[data-gxrow]:first"}};
gx.lang.inherits(gx.grid.flexGrid,gx.grid.responsiveGrid);
gx.GxObject=function(l){var c=function(){this.onLoadDeferred=l.Deferred();this._isTrn=null;this.ServerClass=this.Gx_mode="";this.ReadonlyForm=!1;this.ObjectType="web";this.MasterPage=null;this.IsComponent=this.IsMasterPage=!1;this.AjaxSecurity=!0;this.OnSessionTimeout=gx.timeoutActions.ignore;this.JustCreated=!1;this.CmpContext="";this.WebComponents=[];this.Grids=[];this.GridsUpper=[];this.UserControls={};this.GridUCsProps={};this.GridUCsEvts={};this.UCBindings={};this.UCBindingsHiddens={};this.GXValidFnc=
[];this.GXLastCtrlId=0;this.GXCtrlIds=[];this.MsgList=[];this.CmpControls={};this.VarControlMap={};this.FormBCs={};this.GridBCs={};this.LvlOlds=[];this.Events={};this.EvtParms={};this.InternalParms={};this.conditionsChanged=this.autoRefresh=this.focusOnlyNEmb=this.hasEnterEvent=!1;this.toValid=this.fromValid=0;this.getValidStructFld_cache={};this.cmpRegex=c.CONTROL_CMP_REGEX;this.rowPatternRegex=/_([0-9]{4})+$/;this.postEventPopupCommands=[];this.targetsCounter=9996;this.feedbackCallCounter=this.feedbackTimeoutId=
0;gx.lang.apply(this,new gx.util.Observable)};c.GX_EVENT_CONTROL_DATA_ATTR="data-gx-evt-control";c.GX_EVENT_CONDITION_DATA_ATTR="data-gx-evt-condition";c.GX_EVENT_DATA_ATTR="data-gx-evt";c.GX_EVENT_CODE_DATA_ATTR="data-gx-evt-code";c.GX_EVENT_CONTEXT_DATA_ATTR="data-gx-context";c.GX_EVENT_CONTROL_DELAYED_ATTR="data-gx-click-delay";c.GX_EVENT_EXCLUDED_CTRLTYPES=["dyncombo","combo"];c.GX_EVENT_EVENT_IN_PROGRESS="data-gx-evt-inprogress";c.WEBCOMPONENT_CLASS_NAME="gxwebcomponent";c.WEBCOMPONENT_LOADING_CLASS_NAME=
"gxwebcomponent-loading";c.WEBCOMPONENT_BODY_CLASS_NAME="gxwebcomponent-body";c.CONTROL_CMP_REGEX=/((?:(?:MP)?W[0-9]{4})*)((?:MP)?W[0-9]{4})([0-9]{4})?/;return c}(gx.$);
gx.fn=function(l){var c=/((?:(?:MP)?W[0-9a-zA-Z\-]{4}[\S]*)*)gxHTMLWrp((?:MP)?W[0-9]{4}[\S]*)*/,d=function(a){a=a.replace(/\\/g,".");return gx.gen.isDotNet()?a.replace(/\.aspx$/,""):a},g=function(){var a=function(b,f){return b.gxIndex<f.gxIndex?-1:b.gxIndex>f.gxIndex?1:0};return function(b){return gx.fn.toArray(b).sort(a)}}();return{disableKeys:function(){gx.fx.obs.addObserver("gx.keypress",gx.fn,gx.fn.swallowKeys)},enableKeys:function(){gx.fx.obs.deleteObserver("gx.keypress",gx.fn,gx.fn.swallowKeys)},
swallowKeys:function(a){a.cancel=!0;a.event.preventDefault()},attachedControls:function(){return gx.attachedControls},cancelWindow:function(a){this.closeWindow(a,{ignoreCmds:gx.config.popup.ignoreCmdsOnCancel})},closeWindow:function(a,b,f){b=b||{};f=f||gx.O;if("string"==typeof a){if(this.closeFromServer(a,b.parmsMetadata))return;a=[]}a||(a=[]);if(gx.popup.ispopup()){var k=gx.popup.getPopup(),m=k.url?gx.util.noParmsUrl(k.url):"";if(!k.frameWindow||-1!=k.frameWindow.location.href.search(m+"(\\?.*)?$")||
gx.grid.drawAtServer){k.close(a,b,f);return}}-1!=location.href.indexOf("gxCalledAsPopup")?this.closeWindowImpl():(a=gx.ajax.getCallerUrl(gx.popup.popuplvl()),gx.lang.emptyObject(a)?this.closeWindowImpl():(gx.ajax.windowClosed(-1),a=gx.absoluteurl(a),gx.spa.started?(gx.spa.redirect(a),gx.ajax.enableForm(f)):(gx.evt.redirecting=!0,location.href=a)))},closeWindowImpl:function(){gx.util.browser.isIE()?window.close():0<history.length?history.back():window.location.assign("about:blank")},closeFromServer:function(a,
b){try{if(window.parent&&window.parent.gx)return!gx.popup.ispopup()||gx.grid.drawAtServer||window.parent.gx.grid.drawAtServer?window.parent.gx.fn.closeWindow(gx.json.evalJSON(a,!0),{parmsMetadata:gx.json.evalJSON(b,!0)}):gx.fn.closeWindow(gx.json.evalJSON(a,!0),{parmsMetadata:gx.json.evalJSON(b,!0)}),!0}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","closeFromServer")}return!1},closeWindowServerScript:function(a,b,f){gx.evt.execLoad=!1;f&&(gx.evt.clinav=!0,gx.ajax.pushReferer(gx.popup.popuplvl()));this.closeWindow(a,
{parmsMetadata:b})},invalidEmptyValue:function(a){if(gx.lang.emptyObject(a.s)){for(var b=a.v.length,f=0;f<b;f++)if(a.v[f][0]===a.s)return!1;return!0}return!1},trimSelectValue:function(a,b){return"int"==b?gx.text.trim(a):gx.text.rtrim(a)},selectedDescription:function(a,b){for(var f=a.v.length,k=0;k<f;k++)if(this.trimSelectValue(a.v[k][0],b)===a.s)return a.v[k][1];return null},setGridCheckBoxValue:function(a,b,f,k){this.setCheckBoxValue(a+"_"+b,f,k)},setGridDecimalValue:function(a,b,f,k,m){return this.setGridControlValue(a,
b,f)},setGridControlValue:function(a,b,f,k){if(void 0!==b)return this.setControlValue(a+"_"+b,f,k)},setVarValues:function(a,b){for(var f=a.length,k=0;k<f;k++){var m=gx.fn.vStructForVar(a[k]);m&&m.v2v?m.v2v(b[k]):eval(a[k]+'="'+b[k]+'"')}},refreshControlOldValue:function(a){if(void 0!==l(a).attr(gx.csv.GX_OLD_VALUE_ATTRIBUTE)){var b=gx.fn.getControlValue("radio"==a.type?a.name:gx.dom.id(a));gx.fn.setControlOldValue(a,b)}},setControlOldValue:function(a,b){if(a){var f=a.id,k=gx.O.getValidStructFld(f);
b=gx.applyPicture(k,b,a);k&&k.gxgrid&&(k.gxgrid.IsValidState[f]=k.gxgrid.IsValidState[f]||{},k.gxgrid.IsValidState[f][gx.csv.GX_OLD_VALUE_ATTRIBUTE]=b);if("radio"==a.type)for(a=gx.dom.byName(a.name),f=a.length,k=0;k<f;k++)a[k].setAttribute(gx.csv.GX_OLD_VALUE_ATTRIBUTE,b);else a.setAttribute(gx.csv.GX_OLD_VALUE_ATTRIBUTE,b)}},setControlGxValid:function(a,b){if(a&&a.id){var f=a.id,k=gx.O.getValidStructFld(f);k&&k.gxgrid&&(k.gxgrid.IsValidState[f]?k.gxgrid.IsValidState[f].gxvalid=b:k.gxgrid.IsValidState[f]=
{gxvalid:b});a.setAttribute(gx.csv.GX_VALID_ATTRIBUTE,b)}},setControlValue:function(a,b,f){a=gx.csv.ctxControlId(a);this.setControlValueAny(a,b,f)},setControlValueAny:function(a,b,f){var k=gx.O.getValidStructFld(a),m,q=!1;(m=gx.dom.el(a,k&&("edit"==k.ctrltype||"checkbox"==k.ctrltype||"combo"==k.ctrltype)))&&gx.lang.isEmpty(b)&&!0===m.GXFormatError&&(gx.csv.setFormatError(m,!1),gx.util.balloon.clear(a));k&&("dtime"==k.type||"date"==k.type?""===b?b=gx.date.nulldate_toc(k.len,k.dec):"string"==typeof b&&
(b=new gx.date.gxdate(b)):gx.lang.isFixedCharacterType(k.type)&&(b=gx.text.rtrim(b)));b instanceof gx.date.gxdate?gx.lang.emptyObject(k)||(b=gx.date.formatDateTime(k.dec,k.len,gx.dateFormat,b)):gx.lang.instanceOf(b,Number)||"undefined"!=typeof gx.num.dec&&b instanceof gx.num.dec.bigDecimal?gx.lang.emptyObject(k)||(b=gx.num.formatNumber(b,k.dec,gx.rtPicture(k,m),k.len,k.sign,!1,k.emptyAsNull)):"string"!=typeof b||gx.lang.emptyObject(k)||((q=void 0!=k.isPwd)?null!=m&&"SPAN"==m.nodeName&&(b=gx.text.formatString(b,
k.len,k.isPwd)):b=gx.text.formatString(b,k.len,k.isPwd,gx.rtPicture(k,m)));this.persistGridControlValue(a,b);null!=m&&"SPAN"!=m.nodeName?(this.setControlValue_impl(m,b,f),!0!==gx.csv.settingUIparms&&gx.fn.setControlOldValue(m,b)):gx.fn.setHidden(a,b);null!=m&&"SPAN"==m.nodeName&&(a=m);var w=k?k.multiline:null!=m&&"TEXTAREA"==m.tagName;q?this.setControlValue_span_safe(a,gx.text.formatString(b,k.len,k.isPwd,gx.rtPicture(k,m),f,w)):this.setControlValue_span_safe(a,b,f,w)},setDecimalValue:function(a,
b,f,k){this.setControlValue(a,b)},toDecimalValue:function(a,b,f){return gx.num.parseFloat(a,b,f)},toDatetimeValue:function(a,b){return new gx.date.gxdate(a,b)},setCheckBoxValue:function(a,b,f){try{a=gx.csv.ctxControlId(a);var k=gx.dom.byId(a);k||(k=gx.dom.form()[a]);if(k){var m=b.toString()==f.toString();k.checked=m;gx.dom.toggleAttribute(k,"checked",m);k.value=b}}catch(q){gx.dbg.logEx(q,"gxfrmutl.js","setCheckBoxValue")}},persistGridControlValue:function(a,b,f){var k=a.lastIndexOf("_");-1!=k&&(f=
f?f:gx.O.getValidStructFld(a.substring(0,k)))&&f.gxgrid&&(k=a.substring(k+1),4<k.length?(k=k.substring(4,k.length),(k=gx.O.getGrid(f.gxgrid.gridName+"_"+k))&&k.persistControlValue(a,b,f)):f.gxgrid.persistControlValue(a,b,f))},setControlValue_span_safe:function(a,b,f,k){"string"==typeof a&&(a=gx.dom.byId("span_"+a));if(a&&"SPAN"!==a.nodeName){var m="span_";m="string"==typeof a?m+a:m+gx.dom.id(a);a=gx.dom.byId(m)}null!=a&&(m=gx.dom.bySelector('[data-name="'+a.id+'"]'),2>m.length&&(m=[a]),l.each(m,function(q,
w){gx.fn.setControlValue_fmt(w,b,f,k)}))},setControlValue_fmt:function(a,b,f,k){try{if(null!=a)if(1==f){var m=a.getAttribute("data-gxlink");gx.lang.emptyObject(m)||null==a.firstChild||"A"!=a.firstChild.nodeName||(a=a.firstChild);gx.html.setInnerHtml(a,b,!0)}else{0==f&&"string"==typeof b&&(b=b.replace(/ +/g," "));for(m=a;null!=a.firstChild&&"#text"!=a.firstChild.nodeName;)a=a.firstChild;0!=f||null!=a.firstChild&&"#text"==a.firstChild.nodeName||"A"==a.nodeName?gx.html.setInnerText(a,b,f,k):gx.html.setInnerText(m,
b,f,k)}}catch(q){gx.dbg.logEx(q,"gxfrmutl.js","setControlValue_fmt")}},setControlValue_impl:function(a,b,f){"string"==typeof a&&(a=gx.dom.el(a));b instanceof gx.date.gxdate&&(b=b.getString());if(null!=a){var k=gx.dom.byName(a.id);if(2>k.length||"radio"===a.type)k=[a];l.each(k,function(m,q){"radio"===q.type?gx.fn.setRadioValue(q.name,b):gx.dom.isEditControl(q)||"textarea"==q.type?(m=q.value!==b&&gx.dom.getActiveElement()===q&&q.selectionStart!==q.selectionEnd&&0<q.selectionEnd,q.value=b,m&&gx.fn.setSelection(q)):
void 0!=q.value?q.value=b:gx.fn.setControlValue_span_safe(q,b,f)})}},setGridComboBoxValue:function(a,b,f){this.setComboBoxValue(a+"_"+b,f)},setComboBoxValue:function(a,b){var f=gx.util.browser.isIE();a=gx.csv.ctxControlId(a);var k=gx.dom.byId(a);if(k){var m="",q=gx.O.getValidStructFld(a);gx.lang.emptyObject(q)||(m=q.type);"int"==m?b=gx.text.trim(b):"date"==m&&b instanceof gx.date.gxdate?b=b.getStringWithFmt("Y4MD"):"decimal"!=m&&(b=gx.text.rtrim(b));var w=b,p=!1;try{for(var t=k.options.length,z,r=
0;r<t;r++){var u=k.options[r];if(gx.lang.isNumericType(m)?Number(u.value)==Number(b):gx.text.trim(u.value)==gx.text.trim(b)){if(w="undefined"!=typeof u.innerText?u.innerText:u.text,k.selectedIndex=r,p=!0,u.setAttribute("selected","selected"),z=u,f)break}else f||u.removeAttribute("selected")}z&&z.value!=k.value&&gx.util.browser.isFirefox()&&gx.dom.redrawControl(k);p||(k.selectedIndex=0);0<q.grid&&this.persistGridControlValue(a,b,q)}catch(x){gx.dbg.logEx(x,"gxfrmutl.js","setComboBoxValue")}this.setControlValue_span_safe(a,
w,0)}},call_v2bc:function(a,b,f){"function"==typeof a.v2bc&&a.v2bc.call(b,f)},loadRadioButton:function(a,b,f){var k=l(a).parent().closest(".gx-radio-button"),m=l(a);b=l(gx.html.controls.applyTemplate("radio",{id:a.name,className:k.attr("class"),style:k.attr("style"),title:a.title,isDisabled:a.disabled,gxoch0:m.attr("data-gxoch0"),values:l.map(b,function(q,w){return{itemId:a.name+"_"+w,itemValue:q[0],itemDesc:q[1],isSelected:gx.text.trim(f.toString())==gx.text.trim(q[0].toString())}})}));k.replaceWith(b);
gx.plugdesign.applyTemplateObject(b)},loadComboBox:function(a,b){this.setComboValues(a,b)},setGridComboValues:function(a,b){if(0==this.controlGridId(a))this.setComboValues(a,b);else for(var f=1;999>f;f++){var k=gx.text.padl(f.toString(),4,"0");k=gx.dom.el(a+"_"+k);if(null==k)break;this.setComboValues(k.name,b)}},setComboValues:function(a,b){a=gx.dom.el(a);var f=gx.util.browser;if(null!=a){var k="";-1!=a.selectedIndex&&(k=a.options[a.selectedIndex].value);for(;a.options.length>b.length;)a.remove(a.options.length-
1);for(;b.length>a.options.length;){var m=document.createElement("OPTION");a.options.add(m)}for(var q=b.length,w=0;w<q;w++)if(m=a.options[w],m.value=b[w][0],f.isIE()&&9<=f.ieVersion()?m.innerText!=b[w][1]&&(m.innerText=b[w][1]):m.text!=b[w][1]&&(m.text=b[w][1]),Number(m.value)?Number(m.value)==Number(k):gx.text.trim(m.value)==gx.text.trim(k))a.selectedIndex=w;if(0==a.options.length)a.selectedIndex=-1;else if(-1==a.selectedIndex||a.selectedIndex>a.options.length-1)a.options[0].selected=!0}},getControlRefById:function(a){return(a=
this.validStruct(a))?0==a.grid?this.getControlRef(a.fld,!1):this.getControlGridRef(a.fld,a.grid):null},getControlRef:function(a,b){b||(a=gx.csv.ctxControlId(a));if("FORM"==a)return document;a=gx.dom.el(a);return null!=a?a:null},getControlRef_list:function(a){var b=gx.dom.byName(a);if(null!=b)return b;a=gx.dom.byId(a);return null!=a?[a]:null},screen_CtrlRef:function(a){a=this.getControlGridRef(a,this.controlGridId(a));return gx.lang.emptyObject(a)?null:("hidden"==a.type&&(a=gx.dom.byId("span_"+gx.dom.id(a))),
a)},screen_CtrlId:function(a){return this.getControlGridId(a,this.controlGridId(a))},getControlGridId:function(a,b,f){a=gx.csv.ctxControlId(a);if(gx.dom.el(a))return a;try{if(0==b)return a;void 0==f&&(f=this.currentGridRow(b));return a+"_"+f}catch(k){gx.dbg.logEx(k,"gxfrmutl.js","getControlGridId")}},getControlGridRef:function(a,b,f){var k;a=gx.csv.ctxControlId(a);if(0==b||-1!==a.search(gx.csv.CTRL_ROW_INDEX_REGEXP))if(k=gx.dom.el(a))return k;try{if(0==b)return null;void 0==f&&(f=this.currentGridRow(b));
if(k=gx.dom.el(a+"_"+f))return k;var m=gx.O.getComponentData(a);if(m)return gx.dom.el("gxHTMLWrp"+m.Prefix+f)}catch(q){gx.dbg.logEx(q,"gxfrmutl.js","getControlGridRef")}},setCurrentGridRowSafe:function(a,b){var f=gx.fn.getGridObj(a,b);if(f&&f.grid.rows.length>=b)return gx.fn.setCurrentGridRow(a,b)},setCurrentGridRow:function(a,b){if("0000"!=b)try{return gx.currentRows[a]=b}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","setCurrentGridRow")}},currentGridRowImpl:function(a){try{return gx.currentRows[a]}catch(b){gx.dbg.logEx(b,
"gxfrmutl.js","currentGridRowImpl")}},currentGridRow:function(a){a=this.currentGridRowImpl(a);return void 0==a?"0001":a},gridDuplicateKey:function(a){a=gx.fn.validStruct(a);if(void 0!=a){var b=a.gxgrid;if(null!=b&&(b=b.updateControlValue(a,!0)))return b.gxHasDuplicateKey()}return!1},firstGridControl:function(a,b){var f=gx.fn.controlIds(),k=f.length;for(i=0;i<k;i++){var m=gx.fn.validStruct(f[i],b);if(void 0!=m&&m.grid==a)return f[i]}return-1},lastGridControl:function(a,b){var f=gx.fn.controlIds();
for(i=f.length-1;0<=i;i--){var k=gx.fn.validStruct(f[i],b);if(void 0!=k&&k.grid==a)return f[i]}return-1},getGridDateTimeValue:function(a,b,f,k){a=this.getControlValue(a+"_"+b);return new gx.date.gxdate(a,gx.dateFormat)},getGridDecimalValue:function(a,b,f,k){return this.getDecimalValue(a+"_"+b,f,k)},getGridIntegerValue:function(a,b,f){return this.getIntegerValue(a+"_"+b,f)},getGridControlValue:function(a,b){return this.getControlValue(a+"_"+b)},getControlValue:function(a,b,f,k){return this.getControlValue_impl(gx.csv.ctxControlId(a,
f),b,f,k)},getControlValue_impl:function(){var a=/_CMPPGM$/g;return function(b,f,k,m){if("hidden_only"==f)return gx.fn.getHidden(b);if(0<=b.search(a))return"nohidden"===f?null:gx.fn.getHidden(b);k=k||gx.O;m=m||(k?k.getValidStructFld(b):null);if(!(m&&m.gxgrid&&m.gxgrid.grid&&m.gxgrid.grid.useHiddensForControlValues)){var q=!m||"edit"!=m.ctrltype&&"checkbox"!=m.ctrltype&&"combo"!=m.ctrltype?gx.dom.el(b,!1,!0):gx.dom.byId(b);if(null!=q&&k){m&&!q.gxtype&&(q.gxtype={type:m.type,len:m.len,dec:m.dec});if("checkbox"==
q.type&&m.values&&m.values.length&&1<m.values.length)var w=q.checked?m.values[0]:m.values[1];else if("hidden"==q.type||"text"==q.type||"textarea"==q.type||"checkbox"==q.type)w=q.value;else if("radio"==q.type)w=gx.fn.getRadioValue(gx.dom.byName(b));else if("SELECT"==q.nodeName&&0<q.options.length?w=-1!=q.selectedIndex?"screen"==f?q.options[q.selectedIndex].text:q.options[q.selectedIndex].value:"screen"==f?q.options[0].text:q.options[0].value:m&&"date"!=m.type&&"dtime"!=m.type&&"bits"!=m.type&&"audio"!=
m.type&&"video"!=m.type&&"binaryfile"!=m.type&&(w=q.value),"IMG"==q.nodeName||"INPUT"==q.nodeName&&"image"==q.type)w=q.getAttribute("src");if(void 0!==w)return m&&"boolean"==m.type?gx.lang.gxBoolean(w):w}q=gx.dom.byId("span_"+b);if(null!=q)return b=gx.fn.getHidden(b),q=gx.fn.getControlValue_span(q),"screen"==f?void 0!=q?q:b:void 0!=b?b:q;q=gx.dom.form()[b];if(null!=q)return"file"==q.type&&(f=gx.html.multimediaUpload.getPreviewAtt(q.id+"_ct"))?f:this.getControlValueInt(q);ControlList=gx.dom.byName(b);
if(null!=ControlList){k=ControlList.length;for(m=0;m<k;m++)if(q=ControlList[m],null!=q)return this.getControlValueInt(q);if(q=ControlList[0])return q.value}}return null==q?"nohidden"===f?null:gx.fn.getHidden(b):""}}(),setRadioValue:function(a,b){a=gx.csv.ctxControlId(a);a=gx.dom.byName(a);if(null!=a)for(var f=a.length,k=0;k<f;k++){var m=l(a[k]);if(gx.text.ltrim(a[k].value)==gx.text.ltrim(b)){m.attr("checked","");m.prop("checked",!0);break}}},getRadioValue:function(a){for(var b=a.length,f=0;f<b;f++)if(a[f].checked)return a[f].value;
return""},getRadioSelected:function(a){a=gx.dom.byName(a);for(var b=a.length,f=0;f<b;f++)if(a[f].checked)return a[f];return null},getControlValueInt:function(a){if(void 0!=a.length&&"SELECT"!=a.tagName&&"undefined"!=typeof a[0]&&"radio"==a[0].type)return this.getRadioValue(a);if("checkbox"==a.type)return a.checked;if("SPAN"==a.tagName){var b=gx.fn.getHidden(gx.dom.id(a));return void 0!=b?b:gx.fn.getControlValue_span(a)}if("INPUT"==a.tagName&&"text"==a.type&&(b=gx.dom.id(a),gx.O)){var f=gx.O.getValidStructFld(b);
if(f&&"undefined"!=typeof gx.rtPicture(f,a)){if("int"==f.type)return this.getIntegerValue(b,-1!=gx.rtPicture(f,a).indexOf(",")?gx.thousandSeparator:"");if("decimal"==f.type)return this.getDecimalValue(b,-1!=gx.rtPicture(f,a).indexOf(",")?gx.thousandSeparator:"",gx.decimalPoint)}}return a.value},getControlValue_span:function(a){for(;a&&!a.nodeValue;)a=a.childNodes[0];return a&&a.nodeValue?a.nodeValue:""},getDateTimeArrayValue:function(a){try{var b=function(m,q){gx.lang.emptyObject(m)||l.each(m,function(w,
p){m[w]=new gx.date.gxdate(p,q)});return""},f=this.getControlValue(a,"nohidden");var k=b(f,gx.dateFormat);k||(f=gx.fn.getHidden(gx.csv.ctxControlId(a)),k=b(f,"Y4MD"));return k}catch(m){gx.dbg.logEx(m,"gxfrmutl.js","getDateTimeArrayValue")}return""},getDateValue:function(a){return this.getDateTimeValue(a)},getDateTimeValue:function(a){try{var b=this.getControlValue(a,"nohidden");if(!gx.lang.emptyObject(b))return new gx.date.gxdate(b,gx.dateFormat);b=gx.fn.getHidden(gx.csv.ctxControlId(a));return new gx.date.gxdate(b,
"Y4MD")}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","getDateValue")}return""},getIntegerValue:function(a,b,f){var k=gx.O?gx.O.getValidStructFld(a):null;a=this.getControlValue(a,f,void 0,k);k&&a&&(a=gx.num.extractValue(gx.rtPicture(k),b,a));if(gx.lang.isArray(a))return a;a="undefined"!=typeof a?a.toString():"";if(0===a.length&&k&&"Blank"===k.emptyAsNull)return a;b=a.length<gx.num.maxNumericPrecision()||"undefined"==typeof gx.num.dec?gx.num.parseInt(a,10,b):(new gx.num.dec.bigDecimal(gx.text.replaceAll(a,
b,""))).setScale(0,gx.num.dec.ROUND_UP).toString();return isNaN(b)?0:b},getDecimalValue:function(a,b,f,k){var m=gx.O?gx.O.getValidStructFld(a):null;k=this.getControlValue(a,k,void 0,m);a=gx.dom.el(a,m&&("edit"==m.ctrltype||"checkbox"==m.ctrltype||"combo"==m.ctrltype));m&&k&&(k=gx.num.extractValue(gx.rtPicture(m,a),b,k));if("undefined"!==typeof k&&0===k.length&&m&&"Blank"===m.emptyAsNull)return"";if(gx.lang.isArray(k))return k;b=gx.num.parseFloat(k||"",b,f);return isNaN(b)?0:b},getBlobValue:function(a){var b=
gx.dom.byId("Object_"+a);if(null!=b){if(b.data&&!gx.text.endsWith(b.data,"about:blank"))return b.data}else if(b=gx.dom.byId("Link_"+a),null!=b)return b.getAttribute("href");return""},getVarControlMap:function(a,b){if(a=a||gx.O)for(var f in a.VarControlMap)if("function"!=typeof f){var k=a.VarControlMap[f];if(k.id==b||a.CmpContext+k.id==b)return f}return null},getVarControlMapForVar:function(a){for(var b in gx.O.VarControlMap)if("string"==typeof b&&b==a)return gx.O.VarControlMap[b];return null},v2c:function(a,
b,f,k){a.v2c(k);"undefined"===typeof b&&(b=a.val(k));a=gx.fn.getControlGridRef(a.fld,a.grid,k);gx.plugdesign.controlValueChanged(a,b);f&&(a.value="")},v2cMap:function(a){var b=this.getVarControlMapForVar(a);if(null!=b){var f="";"number"==typeof b.grid&&0!=b.grid&&(f="_"+gx.fn.currentGridRowImpl(b.grid));gx.fn.setHidden(gx.O.CmpContext+b.id+f,gx.O[a])}},c2vMap:function(a){var b=this.getVarControlMapForVar(a);if(null!=b){var f="";"number"==typeof b.grid&&0!=b.grid&&(f="_"+gx.fn.currentGridRowImpl(b.grid));
gx.O[a]=gx.fn.getHidden(gx.O.CmpContext+b.id+f)}},depsToVars:function(a){for(var b=0;b<a.length;b++){var f=a[b],k=gx.fn.vStructForVar(f);gx.lang.emptyObject(k)||"function"!=typeof k.c2v?this.c2vMap(f):k.c2v()}},verticalFormula:function(a,b,f,k,m,q,w,p){var t=gx.fn.vStructForVar(a);q&&(gx.lang.emptyObject(t)?this.v2cMap(a):t.v2c(k));var z=gx.fn.currentGridRowImpl(f),r=gx.fn.getGridObj(f,k),u=0,x=!1;if(r){for(var E=r.grid.rows.length,F=0;F<E;F++){var G=r.grid.rows[F],n=G.gxDeleted(),v=G.gxExists(),
y=G.gxIsMod();n||!v&&!y||(q&&(gx.fn.setCurrentGridRow(f,G.gxId),p&&0<p.length?this.depsToVars(p):gx.lang.emptyObject(t)||"function"!=typeof t.c2v?this.c2vMap(a):t.c2v()),m.call(gx.O)&&(x=!0,u=w(F,u)))}q&&gx.fn.setCurrentGridRow(f,z);p&&0<p.length?this.depsToVars(p):gx.lang.emptyObject(t)||"function"!=typeof t.c2v?this.c2vMap(a):t.c2v(k);x||(u=b)}else gx.dbg.write("verticalFormula: can´t find grid "+f+" at row "+k);return u},rowValueHandler:function(a,b,f,k,m,q,w){try{var p=gx.fn.vStructForVar(a)||
gx.fn.getVarControlMapForVar(a),t=p?p.type:"decimal";switch(t){case "boolean":return k(a,b,f);case "int":case "decimal":var z=gx.num.parseFloat(gx.O[a],q,w);return 0==b?z:m(a,b,f,z);default:gx.dbg.write("Warning: Forumula not supported for: ",a,t)}}catch(r){gx.dbg.logEx(r,"gxfrmutl.js","Formula could not be calculated for Field: "+a)}},maxFrm:function(a,b,f,k,m,q,w,p){var t=function(r,u,x){return x||gx.O[r]},z=function(r,u,x,E){return E>x?E:x};return gx.fn.verticalFormula(a,b,m,q,w,!0,function(r,
u){return gx.fn.rowValueHandler(a,r,u,t,z,f,k)},p)},sumFrm:function(a,b,f,k,m,q,w,p){var t=function(r,u,x){return x||gx.O[r]},z=function(r,u,x,E){return E+x};return gx.fn.verticalFormula(a,b,m,q,w,!0,function(r,u){return gx.fn.rowValueHandler(a,r,u,t,z,f,k)},p)},minFrm:function(a,b,f,k,m,q,w,p){var t=function(r,u,x){return x&&gx.O[r]},z=function(r,u,x,E){return E<x?E:x};return gx.fn.verticalFormula(a,b,m,q,w,!0,function(r,u){return gx.fn.rowValueHandler(a,r,u,t,z,f,k)},p)},averageFrm:function(a,b,
f,k,m,q,w,p){return gx.fn.verticalFormula(a,b,m,q,w,!0,function(t,z){var r=gx.num.parseFloat(gx.O[a],f,k);return 0==t?r:(z*t+r)/(t+1)},p)},countFrm:function(a,b,f,k,m,q){return gx.fn.verticalFormula(a,b,f,k,m,!1,function(w,p){return 0==w?1:p+1},q)},serialRule:function(a,b,f,k,m){m=m||gx.O;if("INS"!=gx.fn.getGridRowMode(gx.fn.gridLvl(f),f))return m[a];gx.lang.emptyObject(m[b])&&(m[b]=m[a]+k,(f=gx.fn.vStructForVar(b))&&f.v2c(),(f=m.VarControlMap[a])&&gx.fn.setControlValue(f.id,m[b]));b=m[b]||0;a=m[a]||
0;return 0<k?Math.max(b,a):Math.min(b,a)},setReturnParms:function(a,b,f,k){try{gx.csv.settingUIparms=!0;var m;if(k){var q=f.length;for(m=0;m<q;m++){var w=gx.fn.vStructForVar(b[m]);k.grid.setCellValue.apply(k.grid,[w,f[m]])}}else if(a&&b&&f&&(q=b.length,q<=f.length)){gx.setGxO(a);k=null;for(m=0;m<q;m++){var p=b[m];if(p){var t=f[m];w=gx.fn.vStructForVar(p);gx.lang.emptyObject(w)&&(w=gx.fn.vStructForHC(p));if(w){var z=gx.fn.screen_CtrlRef(gx.csv.ctxControlId(w.fld));w.v2v&&(w.v2v(t),gx.fn.v2c(w,t));
gx.fn.call_v2bc(w,a);gx.fn.isAccepted(z)&&(k=z,gx.evt.onchange_impl(z));a.refreshDependantGrids(w)}else a.setVariable(p,t)}}k&&gx.fn.setFocus(k)}}catch(r){gx.dbg.logEx(r,"gxfrmutl.js","setReturnParms")}gx.csv.settingUIparms=!1},isOutputParm:function(a){return a&&a.IOType&&("out"==a.IOType||"inout"==a.IOType)?!0:!1},checkPopupFocus:function(a){if(gx.popup.ispopup()){var b=gx.popup.getPopup();if(b&&b.frameDocument&&(a.ownerDocument?a.ownerDocument:a.document).URL!=b.frameWindow.location.href)return b.setFocusFirst(),
!1}return!0},persistControlProperty:function(a,b,f){a=gx.fn.screen_CtrlId(gx.csv.ctxControlId(a));gx.usrPtys[a]||(gx.usrPtys[a]={});gx.usrPtys[a][b.toLowerCase()]=f},setCtrlProperty:function(a,b,f){if(gx.O){var k="FORM"==a?document:gx.fn.screen_CtrlRef(gx.csv.ctxControlId(a));if(null!=k){this.persistControlProperty(a,b,f);var m=gx.O.getValidStructFld(a);this.setCtrlPropertyImpl(k,b,f,m)}}else gx.fx.obs.addObserver("gx.onready",this,gx.fn.setCtrlProperty.closure(this,arguments),{single:!0})},setGridCtrlProperty:function(a,
b,f){var k=gx.fn.screen_CtrlRef(a);if(null!=k){this.setCtrlPropertyImpl(k,b,f);var m=gx.fn.controlGridId(a);m&&(k=l(k).parent().closest("TD",l("[data-gxgridid="+m+"]").get(0)).get(0))&&(this.persistControlProperty(a,b,f),this.setCtrlPropertyImpl(k,b,f))}},getControls:function(a){var b=[a];(a=this.getRONode(a.id,!1))&&b.push(a);return l(b)},setCtrlPropertyImpl:function(a,b,f,k){if(null!=a&&(a==document&&"Backcolor"==b&&(a=document.body,this.setCtrlPropertyImpl(gx.dom.form(),b,f)),k=k||gx.O.getValidStructFld(a.id),
!(("Enabled"===b||"Visible"===b)&&k&&0<k.grid&&gx.fn.rowIsRemoved(k.grid,gx.fn.controlRowId(a))))){var m=k?k.ctrltype:null,q=a,w={control:q,property:b,value:f};gx.fx.obs.notify("gx.control.onbeforepropertychange",[w]);if(!w.cancel){var p=l();switch(b){case "Picture":a.setAttribute("data-gx-rt-picture",f);k&&(k.v2c(),k.c2v());break;case "Caption":this.setCtrlCaption(a,f);break;case "Tooltiptext":a.title=f;break;case "Invitemessage":a.placeholder=f;break;case "Visible":if("INPUT"==a.nodeName&&"button"==
a.type)this.setButtonVisibility(a,!this.propertyValueFalse(f));else{k="checkbox"===a.type;"INPUT"==a.nodeName&&(k&&l(a).parent().is("span:not(.gx-checkbox-wrapper)")?p=l(a).parent():"radio"==a.type&&(w=l(a).parent().closest(".gx-radio-button"),0<w.length&&(a=w[0])),(w=gx.html.multimediaUpload.getContainer(a))&&(a=w));w=this.propertyValueFalse(f);m=a.gxusrdisabled&&!k?a.gxusrdisabled:!1;w?(k=gx.dom.byId("span_"+a.id),this.setVisible(a,!w),k&&this.setVisible(k,!w)):((k=this.getRONode(a.id,m))&&this.setVisible(k,
m),this.setVisible(a,!m));for(k=0;k<p.length;k++)this.setVisible(p[k],!m);gx.fn.setDateCtrlProperties(a,!m,!w)}gx.fn.checkAttachedProperty(a.id,b,gx.lang.gxBoolean(f));break;case "Enabled":w=this.propertyValueFalse(f);if("hidden"===a.type)return;"textblock"===m&&l(a).toggleClass("gx-disabled",w);if(("SPAN"===a.tagName||"DIV"===a.tagName&&"1"===a.getAttribute("data-gxformat"))&&w)return;if("INPUT"===a.nodeName&&"radio"===a.type)for(p=gx.dom.byName(a.name),m=p.length,k=0;k<m;k++)this.setEnabledProperty(p[k],
!w);else!gx.dom.isEditControl(a)&&"textarea"!==a.type&&"file"!==a.type&&"SELECT"!==a.tagName||"password"===a.type?this.setEnabledProperty(a,!w):(k=this.getRONode(a.id,w,k.fmt,k.multiline),gx.fn.isVisible(a,0)||k&&gx.fn.isVisible(k,0)?(k&&this.setVisible(k,w),this.setEnabledProperty(a,!w),this.setVisible(a,!w),gx.fn.setDateCtrlProperties(a,!w,!0),gx.fn.checkAttachedProperty(a.id,b,!w),gx.fn.checkAttachedProperty(a.id,"Visible",!w)):(this.setEnabledProperty(a,!w),gx.fn.setDateCtrlProperties(a,!w,!1),
gx.fn.checkAttachedProperty(a.id,b,!w)));break;case "Class":a==document?(w=l(gx.dom.form()),p=l(document.body),k=w.attr("data-gx-class")||"",p.removeClass(k).attr("class",f+" "+p.attr("class")),w.removeClass(k).attr({"class":f+" "+w.attr("class"),"data-gx-class":f})):(p=this.getControls(a),p.attr("class",f),!gx.O.DSO&&0>=f.indexOf("Readonly")&&l(this.getRONode(a.id,!1)).attr("class",f+" Readonly"+f));break;case "Columnclass":(w=a.parentNode)&&"TD"==w.tagName&&this.setCtrlClass(w,"gx-attribute "+f);
break;case "Columnheaderclass":(w=a.parentNode)&&"TD"==w.tagName&&(w=l(w).closest("table").find("th:nth-child("+(w.cellIndex+1)+")").get(0))&&this.setCtrlClass(w,f);break;case "Link":this.setCtrlLink(this.getRONode(a.id,!1)||a,f);break;case "Linktarget":this.setCtrlLinkTarget(this.getRONode(a.id,!1)||a,f);break;case "Backcolor":(w=gx.color.html(f))&&void 0==a.gxGridName&&(p=this.getControls(a),p.css("background-color",w.Html));break;case "Background":p=this.getControls(a);p.css("background-image",
"url("+f+")");break;case "Forecolor":if(w=gx.color.html(f))p=this.getControls(a),p.css("color",w.Html);break;case "Fontbold":w=this.propertyValueFalse(f);p=this.getControls(a);p.css("fontWeight",w?"normal":"bold");break;case "Fontitalic":w=this.propertyValueFalse(f);p=this.getControls(a);p.css("fontStyle",w?"normal":"italic");break;case "Fontunderline":w=this.propertyValueFalse(f);p=this.getControls(a);p.css("textDecoration",w?"none":"underline");break;case "Fontstrikethru":w=this.propertyValueFalse(f);
p=this.getControls(a);p.css("textDecoration",w?"none":"line-through");break;case "Fontname":p=this.getControls(a);p.css("fontFamily",f);break;case "Fontsize":p=this.getControls(a);p.css("fontSize",f+"pt");break;case "Filename":this.setBlobFilename(a,f);break;case "Filetype":this.setBlobFiletype(a,f);break;case "URL":this.setBlobUrl(a,f);break;case "IsBlob":this.setMultimediaType(a,f);break;case "Bitmap":(gxImage=gx.util.imageName(f))?gx.html.setGXImageCSSClass(a,"GX_Image_"+gxImage+"_Class"):a.src=
f;break;case "SrcSet":void 0!==f&&(a.srcset=f);break;case "gximage":f&&gx.html.setGXImageCSSClass(a,"GX_Image_"+f+"_Class");break;case "Multimedia":this.setMultimediaValue(a.id,f);break;case "Jsonclick":a.jsevent=f;break;case "Source":w=f;p=w.indexOf("?");0<p&&(w=w.substring(0,p));-1==w.indexOf(":")&&-1==w.indexOf("/")?a.src=gx.ajax.objectUrl(f):a.src=gx.util.resourceUrl(f,!0);gx.evt.attach(a,"load",gx.dom.autofitIFrame);break;case "Values":if("SELECT"==a.tagName||gx.dom.isRadio(a)||"SPAN"==a.tagName)f=
gx.json.evalJSON(f),"SELECT"==a.tagName?0!=f.isset&&(gx.fn.loadComboBox(a.id,f.v),gx.fn.setComboBoxValue(a.id,f.s),gx.plugdesign.controlValueChanged(a,f.v)):gx.dom.isRadio(a)?0!=f.isset&&(gx.fn.loadRadioButton(a,f.v,f.s),gx.plugdesign.controlValueChanged(a,f.v)):(w=a.id.substring(5),p="",m=f.s,k=gx.O.getValidStructFld(w),gx.lang.emptyObject(k)||(p=k.type),m=gx.fn.trimSelectValue(m,p),f.s=m,gx.fn.setControlValue_span_safe(w,gx.fn.selectedDescription(f,p)));break;case "Width":a.width&&(a.width=f);a.style.width=
gx.dom.addUnits(f);break;case "Height":a.height&&(a.height=f);a.style.height=gx.dom.addUnits(f);break;case "Ispassword":a.type=gx.lang.gxBoolean(f)?"password":"text"}if(a=gx.dom.id(a))if(k=gx.O.getValidStructFld(a),a=a+(k&&k.grid&&0<k.grid?"":"_")+b,gx.fn.createPtyCondition(b)||gx.fn.isHidden(a))f=1==f?"1":0==f?"0":f,gx.fn.setHidden(a,f);gx.fx.obs.notify("gx.control.onafterpropertychange",[{control:q,property:b,value:f}])}}},createPtyCondition:function(a){return("Visible"==a||"Enabled"==a)&&gx.O.isTransaction()},
setEnabledProperty:function(a,b,f){var k=gx.dom.id(a);if(gx.lang.gxBoolean(b)){if(delete gx.disabledControls[k],gx.fn.isAccepted(a,!1))return}else gx.util.addOnce(gx.disabledControls,a,k);1==gx.csv.isvalidating()&&b&&null==gx.csv.validActivatedControl&&a!=gx.csv.lastControl&&(k=gx.O.getValidStructId(k),k>gx.O.fromValid&&k<=gx.O.toValid&&(gx.csv.validActivatedControl=a));a.gxusrdisabled=!b;a.disabled=a.gxdisabled?1==a.gxdisabled?!0:a.gxusrdisabled:a.gxusrdisabled;(void 0===f||f)&&this.setEnabled(a,
b)},setEnabled:function(a,b){var f=function(m,q){gx.lang.booleanValue(q)?m.removeAttribute("data-gx-readonly"):m.setAttribute("data-gx-readonly","")};gx.lang.booleanValue(b)?gx.dom.removeClass(a,"gx-disabled"):gx.dom.addClass(a,"gx-disabled");if(this.disabledAsSpan(a)){try{if("checkbox"==a.type)var k=a.parentNode;"radio"==a.type&&(k=l(a).parent().closest(".gx-radio-button")[0],f(a,b))}catch(m){}if(gx.lang.booleanValue(b))!gx.O.DSO&&k&&0==k.className.indexOf("Readonly")&&(k.className=k.className.substring(8)),
this.isVisible(a)&&(this.setVisible(a,1),(b=this.getRONode(a.id,!0))&&this.setVisible(b,0));else if(!gx.O.DSO&&k&&0>k.className.indexOf("Readonly")&&!gx.text.startsWith(k.className,"gx-")&&(k.className="Readonly"+k.className),this.isVisible(a)&&"password"!=a.type&&"image"!=a.type&&"checkbox"!=a.type&&"radio"!==a.type&&(b=this.getRONode(a.id,!0)))this.setVisible(a,0),this.setVisible(b,1),f=gx.O.getValidStructFld(a),k=0,!gx.lang.emptyObject(f)&&f.format&&(k=f.format),this.setControlValue_span_safe(b,
gx.fn.getControlValue(gx.dom.id(a),"screen",void 0,f),k,"textarea"==a.type)}else f(a,b)},disabledAsSpan:function(a){var b=a.tagName.toUpperCase();return"IMG"!=b&&!("INPUT"==b&&"button"==a.type)},setVisible:function(a,b){l(a).toggleClass("gx-invisible",!gx.lang.booleanValue(b));a.style.display=0==b?"none":this.displayByType(a.nodeName);var f=gx.O.getValidStructFld(a);if(b&&f&&f.gxgrid&&!f.gxgrid.grid.gxIsFreestyle){var k=a.closest("td[data-colindex]");if(k){f.gxgrid.applyPropEntireColumn(k.getAttribute("data-colindex"),
"Visible",b);return}}gx.fn.rowGridId(a)&&(a=l(a).find("table")[0])&&this.setVisible(a,b)},getRONodePrefix:function(){return"span_"},prefixROClass:function(a){return gx.O.DSO||""===a||0===a.indexOf("Readonly")?a:"Readonly"+a},getRONode:function(a,b,f,k){f=void 0===f?gx.html.controls.formats.TEXT:f;if(f===gx.html.controls.formats.RAW_HTML||f===gx.html.controls.formats.HTML||gx.lang.emptyObject(a))return null;var m=gx.dom.byId(a);a=this.getRONodePrefix()+a;var q=gx.dom.byId(a);if(null!=q)return q;if(!b||
null==m||"INPUT"===m.nodeName&&("radio"===m.type||"checkbox"===m.type))return null;b=document.createElement("SPAN");b.setAttribute("id",a);b.setAttribute("data-gx-readonly","");this.setVisible(b,!1);b.className=gx.fn.prefixROClass(m.className);a="IMG"==m.nodeName||"INPUT"==m.nodeName&&"image"==m.type?m.value:gx.fn.getControlValue(gx.dom.id(m),"screen");m.parentNode.insertBefore(b,m);gx.html.setInnerText(b,a||"",f,k);return b},setDateCtrlProperties:function(a,b,f){var k=gx.dom.byId(gx.dom.id(a)+"_dp_trigger");
k&&l(k).toggle(b);if(k=l(gx.dom.byId(gx.dom.id(a)+"_dp_container")))a.Flat&&l(a).hide(),a=l(".calendar",k),k.toggle(b&&f||!b&&f),a&&a.toggle(b&&f)},getGridCtrlProperty:function(a,b,f){try{if(0!=a){var k=this.getGridObj(a);if(k){var m=k.grid.getColumnByHtmlName(b);if(m)return m[f.toLowerCase()]}}else return this.getCtrlProperty(b,f)}catch(q){gx.dbg.logEx(q,"gxfrmutl.js","getGridCtrlProperty")}return""},getCtrlProperty:function(a,b){var f=gx.O.getValidStructFld(a),k=f&&0<f.grid?"_"+gx.fn.currentGridRowImpl(f.grid):
"";k=gx.uc.getUserControlObj(gx.uc.userControlContainerId(a+k));if(null!=k)return k[b];if(k=this.screen_CtrlRef(a))return"Picture"===b?gx.rtPicture(f,k):"Text"===b?this.getControlValue(a,"screen",void 0,f):"Visible"==b&&gx.fn.getRONode(k.id)?this.getCtrlProperty_impl(k,b)||this.getCtrlProperty_impl(gx.fn.getRONode(a),b):"Enabled"==b&&gx.fn.getRONode(k.id)?!this.getCtrlProperty_impl(gx.fn.getRONode(k.id),"Visible"):this.getCtrlProperty_impl(k,b)},getCtrlProperty_impl:function(a,b){if(null==a)return"";
switch(b){case "Tooltiptext":return a.title;case "Invitemessage":return a.placeholder;case "Visible":return"INPUT"===a.nodeName&&"radio"===a.type&&(b=l(a).parent().closest(".gx-radio-button"),0<b.length&&(a=b[0])),"none"!=a.style.display;case "Enabled":return void 0===a.disabled?l(a).hasClass("gx-disabled")?!1:!0:!a.disabled;case "Class":return a.className;case "Backcolor":return gx.color.css(a.style.backgroundColor);case "Forecolor":return gx.color.css(a.style.color);case "Width":return gx.dom.dimensions(a).w;
case "Height":return gx.dom.dimensions(a).h;case "Caption":return this.getCtrlCaption(a);case "Fontbold":return"bold"==a.style.fontWeight;case "Fontitalic":return"italic"==a.style.fontStyle;case "Fontunderline":return"underline"==a.style.textDecoration;case "Fontstrikethru":return"line-through"==a.style.textDecoration;case "Fontname":return a.style.fontFamily;case "Filename":return a.value.split(/(\\|\/)/g).pop();case "Fontsize":return a=parseInt(a.style.fontSize),isNaN(a)?12:a;case "Ispassword":return"password"==
a.type}},displayByType:function(a){switch(a){case "TABLE":return!gx.util.browser.isIE()||8<=gx.util.browser.ieVersion()?"table":"block";case "P":case "DIV":return"block"}return""},setCtrlCaption:function(a,b){try{var f=gx.html.getFieldLabel(a);if(f)gx.fn.setControlValue_fmt(f,b,0,!1);else{switch(a.tagName){case "SPAN":case "DIV":case "FIELDSET":var k=a.getAttribute("data-gxformat"),m=gx.O.getValidStructFld(a);null==k&&(k=!gx.lang.emptyObject(m)&&m.format?m.format:0);f=!1;m&&(f="edit"===m.ctrltype?
m.multiline:!0);gx.fn.setControlValue_fmt(a,b,k,f);return;case "INPUT":"checkbox"!=a.type&&(a.value=b);return}"#document"==a.nodeName&&(a.title=b)}}catch(q){gx.dbg.logEx(q,"gxfrmutl.js","setCtrlCaption")}},getCtrlCaption:function(a){var b=gx.html.getFieldLabel(a);if(b)return l(b).text();switch(a.tagName){case "SPAN":case "DIV":case "FIELDSET":b=a.getAttribute("data-gxformat");if(null!=b&&"1"==b)return a.innerHTML;for(;null!=a.firstChild&&"#text"!=a.firstChild.nodeName;)a=a.firstChild;return"undefined"!=
typeof a.innerText?a.innerText:a.textContent||a.text;case "INPUT":if("checkbox"!=a.type)return a.value;break;default:return""}},propertyValueFalse:function(a){return"string"==typeof a&&(a=a.toLowerCase(),"false"==a||0==gx.num.parseFloat(a))?!0:0==a},setButtonVisibility:function(a,b){b=b?"":"none";var f=a.parentNode;gx.lang.emptyObject(f)||"SPAN"!=f.nodeName||(f.style.display=b,f=f.parentNode,gx.lang.emptyObject(f)||"SPAN"!=f.nodeName||(f.style.display=b,f=f.parentNode,gx.lang.emptyObject(f)||"SPAN"!=
f.nodeName||(f.style.display=b,f=f.parentNode,gx.lang.emptyObject(f)||"SPAN"!=f.nodeName||(f.style.display=b))));a.style.display=b},setBlobValue:function(a,b){a=gx.dom.byId(a)||gx.dom.byId("Object_"+a);this.setBlobUrl(a,b)},setBlobFilename:function(a,b){null!=a&&(a=gx.O.getValidStructFld(a))&&gx.fn.setHidden(a.fld+"_Filename",gx.text.trim(b))},setBlobFiletype:function(a,b){if(null!=a){var f=gx.O.getValidStructFld(a);f&&gx.fn.setHidden(f.fld+"_Filetype",gx.text.trim(b));f=a;"INPUT"==f.nodeName&&"file"==
f.type&&(f=gx.dom.byId("Object_"+a.id));null!=f&&(b=gx.util.getContentType(b),this.setObjectCtrlType(f,b),gx.fn.setVisible(f,!0))}},resolveResourceUrl:function(a,b){if(""==a)return b?gx.ajax.getImageUrl(gx,"blankImage"):"";if(!gx.isabsoluteurl(a))if(gx.isRelativeToHost(a)){if(0!=a.toLowerCase().indexOf("/"+gx.basePath.toLowerCase()))return gx.util.resourceUrl(gx.basePath+a,!1)}else return gx.util.resourceUrl(gx.basePath+gx.staticDirectory+a,!1);return a},setBlobUrl:function(a,b){var f=gx.html.multimediaUpload.getContainer(a);
if(f)a=this.resolveResourceUrl(b,!1),gx.html.multimediaUpload.setPreviewImage(f,a),gx.html.multimediaUpload.setPreviewLink(f,a);else if(!b.match(/^[a-z]:[\S]*/i)&&null!=a){f=a;var k="INPUT"==f.nodeName&&"file"==f.type;if(""===b&&""===b){var m=l(f);m.wrap("<form>").closest("form").get(0).reset();m.unwrap()}k&&(f=gx.dom.byId("Object_"+a.id));null!=f&&(k=gx.util.getContentTypeFromExt(b),f=this.setObjectCtrlType(f,k));null!=f?"IMG"==f.tagName?(b=this.resolveResourceUrl(b,!0),f.src=b):(f.data=b||"about:blank",
gx.fn.setVisible(f,!0),this.resizeObject(f),gx.dom.redrawControl(f)):(f=gx.dom.byId("Link_"+a.id),null!=f&&(f.style.display=""!=b?"block":"none",f.href=b))}},setGridMultimediaValue:function(a,b,f,k){if(void 0!==b)return this.setMultimediaValue(a+"_"+b,f,k)},setMultimediaValue:function(a,b,f){var k=gx.dom.byId(gx.csv.ctxControlId(a));if(k){var m=gx.html.multimediaUpload.getContainer(k),q=this.resolveResourceUrl(f||b||"",!1);if(m){0<=gx.util.Url.parseWithAnchor(b).protocol.search(/^https?:/)&&gx.html.multimediaUpload.setPreviewImage(m,
q);var w=""==b&&""==f||""!=b;if(!w){var p=gx.dom.byId(k.id+"_GXI");p&&(p.value=f)}(a=gx.dom.byId(a))&&""==b&&(a.value="");this.setMultimediaType(k,w);gx.html.multimediaUpload.setPreviewLink(m,q)}else{if("IMG"==k.tagName||"INPUT"==k.tagName&&"image"==k.type)k.src=q;(b=k.parentNode)&&"A"==b.tagName&&gx.dom.isMultimediaElement(k)&&(q?b.href=q:b.removeAttribute("href"))}}},setMultimediaType:function(a,b){a&&(a=gx.html.multimediaUpload.getContainer(a))&&gx.html.multimediaUpload.setType(a,gx.lang.gxBoolean(b))},
setObjectCtrlType:function(a,b){var f=a;if("IMG"==a.nodeName&&(!b||0==b.indexOf("image/")))return f;if(a.type!=b||"OBJECT"==a.nodeName&&0==b.indexOf("image/"))if(f=0==b.indexOf("image/")?gx.html.nodesFromText('<img id="'+a.id+'">')[0]:gx.html.nodesFromText('<object style="display:none;" id="'+a.id+'" type="'+b+'">')[0]){try{for(var k in a.attributes)if("id"!=k&&"type"!=k&&"implementation"!=k&&a[k])try{f[k]=a[k]}catch(q){gx.dbg.logEx(q,"gxfrmutl.js","setObjectCtrlType")}}catch(q){gx.dbg.logEx(q,"gxfrmutl.js",
"setObjectCtrlType")}if(b=a.parentNode){k=null;var m=b.childNodes.length;for(i=0;i<m;i++)if(b.childNodes[i]==a){i<m-1&&(k=b.childNodes[i+1]);break}gx.dom.removeControlSafe(a);null!=k?b.insertBefore(f,k):b.appendChild(f)}}return f},resizeObject:function(a){var b=gx.lang.emptyObject;!b(a.data)&&"about:blank"!=a.data&&b(a.width)&&b(a.height)&&b(a.style.width)&&b(a.style.height)&&(a.style.width="200px",a.style.height="200px")},restoreLostCtrlOnGridRefresh:function(a,b,f){if(null==b.form){var k=gx.dom.id(b);
!(k=gx.O.getValidStructFld(k))||"checkbox"!=b.type||k.gxgrid&&parseInt(a||0,10)!==parseInt(k.gxgrid.grid.firstRecordOnPage||0,10)||(b=gx.dom.el(b.id)||gx.dom.el(b.name),b.checked=f)}return b},checkboxClick:function(a,b,f,k,m){var q=b.checked;m=m?gx.getObj(m):null;var w="object"===typeof a?a:gx.fn.validStruct(a,m),p=w&&w.gxgrid?w.gxgrid.grid.firstRecordOnPage:0;a=w&&w.grid?w.grid:0;var t=function(z){b=this.restoreLostCtrlOnGridRefresh(p,b,q);gx.fn.setControlOldValue(b,b.value);b.checked=q;b.value=
q?f:k;gx.dom.toggleAttribute(b,"checked",q);w&&("function"==typeof w.c2v&&w.c2v(),gx.fn.call_v2bc(w,gx.O),gx.csv.invalidateCtrl(b,!0))}.closure(this);a&&gx.pO.supportAjaxEvents&&gx.evt.doAfterValidating(t);gx.fx.obs.notify("gx.validation",null,function(){if(gx.evt.fixWebKitOnFocus())b.onfocus();t.call(this,!0)});gx.pO.fullAjax||t.call(this,!0);m&&gx.util.browser.isIE()&&gx.setGxO(m)},setCtrlClass:function(a,b){null!=a&&(a.className=b)},setCtrlLink:function(a,b){if(null!=a)if(""==b)this.unsetCtrlLink(a);
else if("A"==a.tagName)a.href=b;else{var f=a.firstChild;if(f&&"A"==f.tagName)f.href=b;else{var k=a.parentNode;if("A"==k.tagName)k.href=b;else{var m=document.createElement("A");m.href=b;f&&"#text"==f.nodeName?(gx.dom.shouldPurge()&&gx.dom.purge(m,!0),m.innerHTML=f.nodeValue,a.replaceChild(m,f)):(k.replaceChild(m,a),m.appendChild(a));(a=l(a).attr("data-gx-link-target"))&&l(m).attr("target",a)}}}},unsetCtrlLink:function(a){if(null!=a&&(a=a.parentNode,"A"==a.tagName)){var b=a.firstChild;ParentTag2=a.parentNode;
if(null!=ParentTag2){for(;null!=b;)ParentTag2.insertBefore(b,a),b=a.firstChild;gx.dom.removeControlSafe(a)}}},setCtrlLinkTarget:function(a,b){if(null!=a){var f=l(a);f.is("a")||(f=f.children());f.is("a")&&f.attr("target",b);l(a).attr("data-gx-link-target",b)}},isVisible:function(a,b){if(!a||gx.dom.hasClass(a,"gx-invisible")||"INPUT"===a.tagName.toUpperCase()&&"hidden"===a.type||"none"===a.style.display)return!1;try{for(var f;a&&("undefined"==typeof b||0<=b);){if((f=gx.dom.getComputedStyle(a))&&("hidden"==
f.visibility||"none"==f.display))return!1;a=a.parentNode;"undefined"!=typeof b&&b--}}catch(k){gx.dbg.logEx(k,"gxfrmutl.js","isVisible")}return!0},gridRowIsMod:function(a,b){var f=this.gridObjByLvl(a);if(f)return f=gx.O.getGridById(f.gridId,b)||f,(a=f.grid.getRowByGxId(b))?a.gxIsMod():!0;f=!1;try{f=1==this.getControlValue("nIsMod_"+a+"_"+b)}catch(k){f=!1}return f},gridObjByLvl:function(a){for(var b=gx.O.Grids,f=b.length,k=0;k<f;k++)if(b[k].gridLvl==a)return b[k];return null},forceEnableControls:function(a){for(var b in gx.disabledControls){b=
this.getControlRef_list(b);for(var f=b.length,k=0;k<f;k++)try{"button"!=b[k].type&&"submit"!=b[k].type&&(b[k].disabled=a)}catch(m){gx.dbg.logEx(m,"gxfrmutl.js","forceEnableControls")}}},alert:function(a,b){try{var f=gx.util.balloon.getNew(a.id);f.setError(b);f.show();gx.csv.invalidForcedCtrl=gx.csv.invalidForcedCtrl||{};gx.csv.invalidForcedCtrl.Ctrl=a;gx.csv.invalidForcedCtrl.ForceFocus=!1}catch(k){gx.util.alert.showError(b)}},getGridRowMode:function(a,b){return this.getGridRowModeImpl(a,b,this.currentGridRow(b))},
getGridRowModeImpl:function(a,b,f){b=this.rowIsRemoved(b,f);a=this.getControlValue("nRcdExists_"+a+"_"+f);return"1"==b?"DLT":"0"==a?"INS":"UPD"},rowIsRemoved:function(a,b){a=this.getGridObj(a);return null!=a&&(b=a.grid.getRowByGxId(b))?b.gxDeleted():!1},getGridObj:function(a,b){return gx.O.getGridById(a,b)},changeCmpContext:function(){try{gx.O.SetStandaloneVars()}catch(a){gx.dbg.logEx(a,"gxfrmutl.js","changeCmpContext")}},initOld:function(a){void 0==gx.oldValues[a.id]&&(gx.oldValues[a.id]=a.value)},
hasUnicode:function(a){return/[^\u0000-\u00ff]/.test(a)},setFocusOnError:function(a){var b=gx.fn.controlGridId(a);a=gx.csv.ctxControlId(a);b=0==b?gx.dom.el(a):gx.fn.getControlGridRef(a,b);return null!=b&&(gx.O.AnyError=1,gx.csv.anyError=!0,b.setAttribute("data-gxvalid","0"),gx.csv.stopOnError||gx.csv.invalidForcedCtrl&&gx.csv.invalidForcedCtrl.ForceFocus)?(gx.fn.setFocus(b),!0):!1},usrSetFocus:function(a){gx.usrPendingControl=a},usrSetFocus_commit:function(){gx.usrPendingControl&&(gx.fn.usrSetFocus_impl(gx.usrPendingControl),
delete gx.usrPendingControl)},usrSetFocus_impl:function(a,b){void 0===b&&(b=!0);var f=gx.fn.screen_CtrlRef(a);null==f?gx.grid.setActiveGridRow(a,0):(a=gx.dom.id(f),1==gx.csv.isvalidating()?b?gx.fx.obs.addObserver("gx.onaftervalidate",this,function(k){gx.lang.doCallTimeout(gx.fn.usrSetFocus_impl,gx.fn,[k,!1],200)}.closure(gx.fn,[a]),{single:!0}):gx.usrFocusControl=a:(gx.fn.setFocus(f),delete gx.usrFocusControl))},setFocus:function(a,b){if(a){try{gx.popup.ispopup()&&(gx.util.browser.isIE()&&window.parent.document.selection?
window.parent.document.selection.empty():window.parent.gx.csv.lastControl&&window.parent.gx.csv.lastControl.blur&&window.parent.gx.csv.lastControl.blur())}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","setFocus")}try{if(!gx.lang.emptyObject(a.id)&&(a=gx.dom.byId(a.id),!a))return;gx.fn.setFocusSafe(a,function(f){gx.fn.setSelection(f);f.forcedFocus=!0;b&&b()})}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","setFocus")}}},setFocusSafe:function(a,b){var f=gx.csv.setFocusOnload;if(a){var k=function(m,q){try{f&&q&&gx.fx.obs.addObserver("gx.onafterfocus",
this,q.closure(this,[m]),{single:!0}),m.focus()}catch(w){}!f&&q&&q(m)};gx.spa.isNavigating()?gx.spa.addObserver("onnavigatecomplete",window,function(){k.call(this,a,b)},{single:!0}):gx.lang.doCallTimeout(k,this,[a,b],f?500:0)}},setFocusInit:function(){try{gx.csv.lastActiveControl=window.document.activeElement}catch(a){}gx.csv.lastActiveControl||(gx.csv.lastActiveControl=gx.csv.lastControl)},arrayCtrlFocus:function(a){a&&"radio"==a.type&&(a=gx.fn.getRadioSelected(a.name)||a);return a},setFocusOnload:function(a){a=
void 0===a?!0:!1;gx.wpo(function(){if(!gx.pO.focusOnlyNEmb||top===self||gx.popup.ispopup()){var b=null;b=gx.pO.getUserFocus();if(!gx.lang.emptyObject(b)){if("notset"==b)return;var f=gx.pO.getUserControl(gx.uc.userControlContainerId(b));if(gx.lang.emptyObject(f))gx.csv.userFocus=gx.fn.getControlRef(b);else{f.setFocusBase();return}}if("notset"!=gx.csv.userFocus){b=gx.csv.userFocus;gx.fn.isAccepted(b)||(gx.csv.lastActiveControl&&gx.fn.isAccepted(gx.csv.lastActiveControl)?b=gx.csv.lastActiveControl:(b=
gx.fn.firstAcceptedControl(gx.popup.ispopup()),b=gx.fn.arrayCtrlFocus(b)));try{b?(f=function(){gx.csv.setFocusOnload=!1},gx.csv.lastControl=b,gx.csv.setFocusOnload=a,gx.fn.isAccepted(b)?(gx.O&&gx.O.IsComponent&&(gx.csv.disableFocus=!0),gx.fn.setFocus(b,f)):(gx.popup.setFocus(),f())):gx.popup.setFocus()}catch(k){gx.dbg.logEx(k,"gxfrmutl.js","setFocusOnload")}}}})},setSelectionImpl:function(a){setTimeout(function(){document.activeElement===a&&l(a).select()},0)},setSelection:function(a){if(a&&gx.fn.isVisible(a))try{if(gx.csv.lastControl=
a,(gx.dom.isEditControl(a)||"file"==a.type)&&a.select)this.setSelectionImpl(a);else if("TEXTAREA"==a.nodeName||"SELECT"==a.nodeName)a.focus(),this.setSelectionImpl(a)}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","setSelection")}},isActiveCtrl:function(a,b,f){return gx.fn.isAccepted(a,b,f)||gx.TabFocusOnPrompt&&a&&a.parentElement&&"IMG"==a.tagName&&"A"==a.parentElement.tagName},isAccepted:function(a,b,f){b=void 0===b||b;f=f||gx.O;var k=["FIELDSET"];k=null!=a&&a.type&&"hidden"!==a.type&&!a.disabled&&!a.readOnly&&
!gx.util.inArray(a.nodeName,k)&&gx.fn.isVisible(a);if(!k)return!1;b&&(a=gx.dom.id(a),b=f.getValidStructFld(a),a=f.getVariable("Gx_mode"),0<gx.csv.lastGrid&&f.setVariable("Gx_mode",gx.fn.getGridRowMode(gx.fn.gridLvl(gx.csv.lastGrid),gx.csv.lastGrid)),k=!gx.lang.emptyObject(b)&&b.nac?!b.nac.call(f):!0,f.setVariable("Gx_mode",a));return k},enterHasFocus:function(){return null==gx.csv.lastControl?!1:gx.evt.isEnterEvtCtrl(gx.csv.lastControl)},skipFocus:function(a,b){b=b||gx.csv.lastControl;var f=gx.fn.getControlIndex(b),
k=f,m=this.controlGridId(b.id||b.name),q=!1;a&&gx.dom.hasClass(b,"gx_newrow")&&(k=b.gxControlIdx,q=!0);if(-1==k)return!0;var w=gx.fn.getFormElements();for(b=gx.fn.searchFocus(++k,!0);;b=gx.fn.searchFocus(++k,!0))if(null==b||k==w.length)k=-1;else{if(a)break;if(gx.evt.isEnterEvtCtrl(b))break;if("INPUT"==b.nodeName&&"submit"!=b.type&&"button"!=b.type&&"image"!=b.type)break}!q&&m&&gx.O.isTransaction()&&this.controlGridId(b.id||b.name)!=m&&(a=gx.O.getGridById(m),b=gx.dom.byId(a.containerName+"_NewRow").parentNode,
b.gxControlIdx=f);gx.fn.setFocus(b)},getFormElements:function(){return l.makeArray(l("button, fieldset, input, img, object, output, select, textarea"))},getControlIndex:function(a){var b=gx.fn.getFormElements().length-1;return el=this.controlIndex(a,0,b)},controlIndex:function(a,b,f){if(document.all){var k=gx.fn.getFormElements(),m=k[b].sourceIndex,q=k[f].sourceIndex,w=parseInt(b+(f-b)/2)+1;k=k[w].sourceIndex;if(b==f&&a.sourceIndex==m&&a.sourceIndex==q||a.sourceIndex==m)return b;if(a.sourceIndex==
q)return f;if(a.sourceIndex==k)return w;if(a.sourceIndex>k&&a.sourceIndex<q)return this.controlIndex(a,w+1,f-1);if(a.sourceIndex>m&&a.sourceIndex<k)return this.controlIndex(a,b+1,w-1)}else return a.gxIndex},searchFocus:function(a,b){return b?this.searchFocusFwd(a):this.searchFocusBack(a)},searchFocusBack:function(a){for(var b=g(gx.fn.getFormElements());0<=a;a--)if(gx.fn.isActiveCtrl(b[a]))return b[a];return null},searchFocusFwd:function(a){for(var b=g(gx.fn.getFormElements()),f=b.length;a<f;a++)if(gx.fn.isActiveCtrl(b[a]))return b[a];
return null},rowGridId:function(a){if(!a||!a.getAttribute)return null;var b=a.getAttribute("data-gxgridid");return null!=b?b:gx.fn.rowGridId(a.parentNode)},controlRowIndex:function(a){return l(a).parentsUntil(".gx_usercontrol, .gxwebcomponent").filter("[data-gxrow]").attr("data-gxrow")||""},controlRowIdImpl:function(a){if(!a||!a.getAttribute)return null;var b=a.getAttribute("data-gxrow");return null!=b?b:gx.fn.controlRowIdImpl(a.parentNode)},controlRowId:function(a){var b=gx.fn.controlRowIdImpl(a);
null===b&&a&&a.id&&0<a.id.lastIndexOf("_")&&(b=a.id.lastIndexOf("_"),b=a.id.substring(b+1));return b},controlGridId:function(a){try{var b=gx.O.Grids;if(b){var f=0;for(len=b.length;f<len;f++)if(b[f].grid.columnsHtmlName[a])return b[f].gridId}var k=gx.fn.controlIds();f=0;for(len=k.length;f<len;f++){var m=gx.fn.validStruct(k[f]);if(gx.O.isSameField(m,a))return m.grid}var q=gx.O.getComponentData(a);if(q){var w=gx.fn.gridObjByLvl(q.lvl);if(w)return w.gridId}}catch(p){}return 0},oldGridId:function(a){try{var b=
gx.fn.controlIds(),f=b.length;for(i=0;i<f;i++){var k=gx.fn.validStruct(b[i]);if(void 0!=k&&k.gxold==a)return k.grid}}catch(m){gx.dbg.logEx(m,"gxfrmutl.js","oldGridId")}return 0},saveLvlOldParm:function(a,b){var f="no_mode";null!=gx.csv.validatingGrid?this.isLvlParmOld(gx.csv.lastGrid,a)&&(f=gx.fn.getGridRowMode(gx.fn.gridLvl(gx.csv.lastGrid),gx.csv.lastGrid)):this.isLvlParmOld(0,a)&&(f=gx.O.Gx_mode);return"no_mode"==f?!0:"UPD"==f||null==gx.csv.validatingGrid?(window[a]=b,!0):!1},isLvlParmOld:function(a,
b){try{var f=gx.O.getOldLvl(b);if(0<=f){if(0<a){var k=gx.fn.gridLvl(a);return f<k}return!0}}catch(m){gx.dbg.logEx(m,"gxfrmutl.js","isLvlParmOld")}return!1},gridLvl:function(a){try{var b=gx.fn.controlIds(),f=b.length;for(i=0;i<f;i++){var k=gx.fn.validStruct(b[i]);if(void 0!=k&&void 0!=k.lvl&&k.grid==a)return k.lvl}}catch(m){gx.dbg.logEx(m,"gxfrmutl.js","gridLvl")}return 0},lvlGrid:function(a){try{var b=gx.fn.controlIds(),f=b.length;for(i=0;i<f;i++){var k=gx.fn.validStruct(b[i]);if(void 0!=k&&k.lvl==
a)return k.grid}}catch(m){gx.dbg.logEx(m,"gxfrmutl.js","lvlGrid")}return 0},vStructId:function(a){try{var b=gx.fn.controlIds();for(i=0;i<b.length;i++){var f=gx.fn.validStruct(b[i]);if(void 0!=f&&f.fld==a)return b[i]}}catch(k){gx.dbg.logEx(k,"gxfrmutl.js","vStructId")}return 0},getVStruct:function(a,b){try{var f=null;b&&(f=[]);var k=gx.fn.controlIds(),m=k.length;for(i=0;i<m;i++){var q=gx.fn.validStruct(k[i]);if(void 0!=q&&a(q))if(q.id=k[i],b)f.push(q);else return q}}catch(w){gx.dbg.logEx(w,"gxfrmutl.js",
"getVStruct")}return f},vStructForOld:function(a){return gx.fn.getVStruct(function(b){return b.gxold==a})},vStructForVar:function(a){return gx.fn.getVStruct(function(b){return b.gxvar==a})},vStructForVarWId:function(a,b){var f=gx.fn.getVStruct(function(w){return w.gxvar==a},!0),k=f[0],m=f.length;if(1<m)for(var q=0;q<m&&(k=f[q],k.id!=b);q++);return k},vStructForHC:function(a){return gx.fn.getVStruct(function(b){return b.hc==a})},firstCtrlAfterGrid:function(a,b){for(var f=gx.fn.lastCtrlId();a<f;a++){var k=
gx.fn.validStruct(a);if(void 0!=k&&k.grid!=b)return a}return f},clearOldKeys:function(){gx.oldKeyValues=[]},oldKey:function(a){try{return gx.oldKeyValues[a]}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","oldKey")}return""},oldGridKey:function(a,b){try{return gx.oldKeyValues[a+gx.fn.currentGridRow(b)]}catch(f){gx.dbg.logEx(f,"gxfrmutl.js","oldGridKey")}return""},setKey:function(a,b){null!=a&&(gx.oldKeyValues[a]=b)},unsetKey:function(a){null!=a&&(gx.oldKeyValues[a]=void 0)},setGridKey:function(a,b,f){null!=
a&&(gx.oldKeyValues[a+gx.fn.currentGridRow(b)]=f)},unsetGridKey:function(a,b){null!=a&&(gx.oldKeyValues[a+gx.fn.currentGridRow(b)]=void 0)},removeGridRow:function(a,b){var f=gx.fn.rowIsRemoved(b,a);try{var k=gx.fn.controlIds(),m=k.length;for(i=0;i<m;i++){var q=gx.fn.validStruct(k[i]);if(void 0!=q&&q.grid==b){var w=gx.dom.el(q.fld+"_"+a);null!=w&&(w.gxdisabled=f,w.disabled=f)}}}catch(p){gx.dbg.logEx(p,"gxfrmutl.js","removeGridRow")}gx.evt.doAfterValidating(function(){gx.csv.validGridRow(b,a)})},controlFiresEvent:function(a){return a&&
(a.evt||a.triggersEvt)},controlIds:function(a){return(a=a||gx.O)?a.getControlIds():[]},getControlContext:function(a){var b=null;(a=gx.json.evalJSON(l(a).attr(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR)||"{}"))&&1<a.length&&(b=gx.getObj(a[0],a[1]));return b},validStruct:function(a,b){b=b||gx.O;return b.getValidStruct(a)},lastCtrlId:function(a){if(!0===a){a=this.controlIds();for(var b=a.length-1;0<=b;b--){var f=this.validStruct(a[b]);if(f.v2v&&(void 0===f.isacc||1==f.isacc))return a[b]}}else return gx.O.getLastControlId()},
lastMainLevelCtrlId:function(a,b){return 0==b&&a==this.lastCtrlId(!0)},vStructsArray:function(){return gx.O.GXValidFnc},firstAcceptedControl:function(a){try{for(var b=gx.fn.vStructsArray(),f=gx.fn.controlIds(),k=f.length,m=0;m<k;m++){var q=b[f[m]];if(null!=q){var w=gx.fn.getControlGridRef(q.fld,q.grid);if(w&&gx.fn.isAccepted(w)&&(a||"submit"!=w.type&&"image"!=w.type&&"button"!=w.type&&"fieldset"!=w.type))return w}}}catch(p){gx.dbg.logEx(p,"gxfrmutl.js","firstAcceptedControl")}return null},enableDisableDelete:function(a){var b=
gx.dom.byId(gx.csv.cmpCtx+"BTN_DELETE");null!=b&&a.isTransaction()&&gx.fn.setCtrlPropertyImpl(b,"Enabled","INS"==gx.getVar("Gx_mode")?0:1)},setFocusAfterLoad:function(a){1!=gx.csv.isvalidating()&&gx.lang.emptyObject(gx.csv.autoRefreshing)&&(a&&gx.csv.invalidateForm(),gx.csv.onloadFocus=!0,gx.lang.emptyObject(gx.usrFocusControl)||(gx.O.fromValid=gx.csv.lastId,gx.fn.setFocus(gx.dom.byId(gx.usrFocusControl)),gx.usrFocusControl=""),gx.csv.onloadFocus=!1)},disableCtrl:function(a){var b=function(f){try{for(var k=
f.length,m=0;m<k;m++)gx.fn.setCtrlPropertyImpl(f[m],"Enabled",0)}catch(q){gx.dbg.logEx(q,"gxfrmutl.js","disableCtrl")}};a=gx.fn.getControlRef_list(a);if(null!=a)if("complete"==document.gxReadyState)b(a);else gx.evt.on_ready(this,b.closure(this,[a]))},refreshGridRowBC:function(a,b){try{var f=gx.O.getGridBC(a);if(f){var k=gx.pO.getGridForColl(f.gxvar);if(gx.csv.validatingGrid&&k&&gx.csv.validatingGrid.gridId==k.gridId)return gx.fn.setGridHidden(a,b),b=b[parseInt(gx.fn.currentGridRow(k.gridId))-1],gx.O.bcToScreen(f,
b),!0}}catch(m){gx.dbg.logEx(m,"gxfrmutl.js","refreshGridRowBC")}return!1},refreshBC:function(a,b){b=gx.O.applySDTVarMapping(b,a);return this.refreshFormBC(a,b)||this.refreshGridRowBC(a,b)},refreshFormBC:function(a,b){try{var f=gx.O.getFormBC(a)||gx.O.getFormBCForVar(a);if(f)return gx.setVar(a,b),gx.fn.setGridHidden(a,b),gx.O.bcToScreen(f,b),!0}catch(k){gx.dbg.logEx(k,"gxfrmutl.js","refreshFormBC")}return!1},isHidden:function(a){gx.http.viewStateLoaded||gx.http.loadState();return"undefined"!=typeof gx.http.viewState[a]},
GX_HASH_PREFIX:"gxhash_",getHash:function(a,b,f){return gx.fn.getHidden(a+gx.fn.GX_HASH_PREFIX+b+(f?"_"+f:""))||gx.fn.getHidden(a+gx.fn.GX_HASH_PREFIX+b)},getHidden:function(a){gx.http.viewStateLoaded||gx.http.loadState();return gx.http.viewState[a]},setHidden:function(a,b){gx.http.viewStateLoaded||gx.http.loadState();gx.http.viewState[a]=b},setGridHidden:function(a,b){var f=a,k=gx.fn.oldGridId(a);0<k&&(f=a+"_"+gx.fn.currentGridRowImpl(k));gx.fn.setHidden(f,b)},deleteHidden:function(a){gx.http.viewState&&
delete gx.http.viewState[a]},setJsonHiddens:function(a,b,f){var k=[];f=void 0===f||f;for(var m in b){f?gx.fn.setGridHidden(m,b[m]):gx.fn.setHidden(m,b[m]);var q=gx.fn.getVarControlMap(a,m);var w=b[m];if(!gx.lang.emptyObject(q)){if(a){var p=a.VarControlMap[q];if("date"==p.type||"dtime"==p.type)w=new gx.date.gxdate(b[m],"Y4MD")}gx.setVar(q,w)}gx.fn.vStructForOld(m)&&gx.setVar(m,w);a&&a.UCBindingsHiddens[m]&&(k=k.concat(gx.O.UCBindingsHiddens[m].uc))}return k},filterHiddens:function(a,b){var f={},k;
for(k in b)k&&0==k.search(a)&&(f[k]=b[k]);return f},autoRefreshingControl:function(a,b){return!gx.lang.emptyObject(gx.csv.autoRefreshing)&&null!=gx.csv.lastControl&&gx.csv.lastControl.id==b+a},setJsonValues:function(a,b,f,k,m){if(!a)return[];for(var q=gx.O,w=a.length,p=[],t,z,r=0;r<w;r++){var u=a[r],x=u.CmpContext,E=gx.lang.booleanValue(u.IsMasterPage),F=gx.setGxO(x,E);if(!gx.lang.emptyObject(gx.O))for(var G in u)if("CmpContext"!=G&&"IsMasterPage"!=G&&(!m||m(G))){var n=u[G];if(("object"!=typeof n||
!gx.fn.refreshBC(G,u[G]))&&"function"!=typeof n){var v=gx.fn.vStructForVar(G)||gx.O.getValidStructFld(G);if(v){if(v.v2v&&!gx.fn.autoRefreshingControl(v.fld,x)){var y=gx.O.getGridById(v.grid);y=y&&y.InfiniteScrolling;0!=v.grid&&(t=gx.dom.el(G,!1,!1),t=gx.fn.controlRowId(t)||(v.grid==f?k:gx.fn.currentGridRow(v.grid)));y||(v.v2v(n),gx.fn.v2c(v,n,!1,t))}}else"GX_FocusControl"!=G||b?(v=gx.fn.vStructForHC(G),gx.lang.emptyObject(v)||gx.lang.emptyObject(v.hc)||v.grid||(v.hc==G?(F[v.hc]=n,gx.fn.setHidden(x+
"GXH_"+v.fld,n)):v.hd==G&&(F[v.hd]=n)),gx.lang.emptyObject(v)||(z="",0!=v.grid&&(z=v.grid==f?k:gx.fn.currentGridRow(v.grid)),gx.fn.setHidden(x+"GXHC"+v.fld+"_"+z,n)),z=gx.fn.getVarControlMap(F,G),gx.lang.emptyObject(z)?gx.setVar(G,n):gx.setVar(z,n),v&&!y&&gx.fn.call_v2bc(v,F),gx.fn.setGridHidden(G,n),gx.O.UCBindings[G]&&(p=p.concat(F.UCBindings[G].uc))):q.CmpContext==x&&q.IsMasterPage==E&&(gx.usrFocusControl=n)}}}gx.setGxO(q);return p},getPropertyControlRef:function(a,b,f){var k=gx.fn.getControlRef(a,
!0);k=null!=k||f?k:gx.dom.byId("Object_"+a);null==k&&(k=gx.fn.screen_CtrlRef(gx.csv.ctxControlId(a)));null==k&&b&&(k=gx.dom.el(a+"_"+b));return k},setJsonProperties:function(a,b){if(!a)return[];for(var f=gx.O,k=a.length,m=[],q=0;q<k;q++){var w=a[q],p=w.CmpContext,t=gx.lang.booleanValue(w.IsMasterPage);p=gx.setGxO(p,t);if(!gx.lang.emptyObject(gx.O))for(var z in w)if("CmpContext"!==z&&"IsMasterPage"!==z&&""!==z&&(t=w[z],"function"!=typeof t)){var r=p.getValidStructFld(z);if("FORM"==z||r||0<=z.indexOf("gxHTMLWrp")||
0<=z.indexOf("ContainerDiv")){var u=r&&("bits"==r.type||"bitstr"==r.type||"audio"==r.type||"video"==r.type||"binaryfile"==r.type);u=gx.fn.getPropertyControlRef(z,b,!u)}else u=gx.fn.getPropertyControlRef(z,b);var x=!1;if(u&&u.gxGridName){var E=gx.fn.gridObjFromGxO(u.gxGridName);x=E.setProperty(t)}if(!x)if(x=p.getGridColumn(z,b),(null==u||E)&&gx.uc.isUserControl(z,p)||x&&x.isUserControl)r=z,x&&x.isUserControl&&(r=z+"_"+b),gx.uc.setProperties(r,t),m.push(gx.uc.getUserControlObj(gx.uc.userControlContainerId(r)));
else if(null!=u||null!=x)for(var F in t)if(u)if(u.parentElement||(u=gx.fn.getPropertyControlRef(z,b)),"object"===typeof t[F])for(var G in t[F])gx.fn.setCtrlPropertyImpl(u,G,t[F][G],r);else gx.fn.setCtrlPropertyImpl(u,F,t[F],r)}}gx.setGxO(f);return m},loadJsonGrids:function(a,b,f){f=f||[];var k=[],m=function(C){for(var I=0;I<C.length;I++)if("string"===typeof C[I])return C[I];return""},q=function(C){var I="",L=C.lastIndexOf("_");-1!==L&&(I=(C=C.substring(L+5))?"_"+C:"");return I},w=function(C,I,L){for(var M=
0;M<C.Count;M++){var N=C[M],R;for(R in N.Grids)(N=gx.fn.gridObj(I,R+"_"+gx.text.padl((M+1).toString(),4,"0"),!1))&&N.isUsercontrol&&L.push({cmpCtx:I,gridName:R+"_"+gx.text.padl((M+1).toString(),4,"0"),inMasterPage:!1})}},p=[];if(a)for(var t=a.length,z,r=0;r<t;r++)try{var u=a[r];if(void 0!=u.Count){var x=u.CmpContext,E=u.GridName,F=gx.csv.validatingGrid;if(gx.pO.fullAjax||gx.lang.emptyObject(F)||F.gxComponentContext!=x&&F.gridName!=E||!gx.lang.emptyObject(F.boundedCollType)){var G="true"==u.InMasterPage?
!0:!1,n="",v="";u[0]&&u[0].Props&&u[0].Props[0]&&gx.lang.isArray(u[0].Props[0])&&(v=m(u[0].Props[0]));n=q(v);if(z=gx.fn.gridObj(x,E+n,G))w(u,x,p),p.push({cmpCtx:x,gridName:E+n,inMasterPage:G}),b?gx.O.Grids[z.gridName]&&gx.O.Grids[z.gridName].parentGrid||k.push(z.loadGrid({rowProps:u,isPostback:b})):z.updatePropsHidden(u)}}}catch(C){gx.dbg.logEx(C,"gxfrmutl.js","loadJsonGrids")}p=p.filter(function(C){return(C=gx.fn.gridObj(C.cmpCtx,C.gridName,C.inMasterPage))&&C.isUsercontrol});p=gx.lang.arrayUnique(p,
function(C,I){return C.gridName===I.gridName});var y=[];for(r=0;r<p.length;r++)a=p[r],(a=gx.fn.gridObj(a.cmpCtx,a.gridName,a.inMasterPage))&&a.grid&&(a.grid.ownerGrid&&a.grid.ownerGrid.parentGrid?y.push(a.grid):f.push(a.grid));var B=l.Deferred();l.when.apply(l,k).done(function(){gx.dom.indexElements();B.resolve(y)});return B.promise()},getErrorViewerCtrls:function(){var a=gx.dom.byClass("gx_ev");if(0==a.length){a=[];for(var b=gx.dom.byTag("span"),f=b.length,k=0;k<f;k++)"gxErrorViewer"==b[k].getAttribute("data-gx-id")&&
a.push(b[k])}return a},setErrorViewer:function(a,b){b=void 0===b||b;gx.O.AnyError=0;if(a)try{gx.fx.obs.notify("gx.onmessages",[a]);var f=gx.dom.byClass("gx_ev"),k=f.length,m;for(m in a){var q=a[m];if(!gx.lang.isArray(q)){var w=q.fields;q=q.msgs}var p=[];if(w)for(var t=0,z=w.length;t<z;t++)if(!gx.lang.isArray(w[t])){var r=gx.fn.vStructForVar(w[t].replace(/^gx\.O\./,""));r&&p.push(r.fld)}"MAIN"==m&&(m="");if("undefined"!=typeof q){for(t=0;t<k;t++){var u=f[t];if(u&&u.getAttribute("data-gx-id")==m+"gxErrorViewer"){var x=
gx.csv.setFocusOnload?u.innerHTML:"";break}}var E={},F=!1,G;for(G in q){var n=q[G];n&&1==n.type&&(gx.O.AnyError=1);if(!gx.lang.emptyObject(n.text)&&"function"!=typeof n){var v=gx.fn.screen_CtrlRef(n.att),y=v&&l(v).is("[data-gxgridid].gx-invisible "+v.tagName);if(""!=n.att&&(y&&gx.fn.isVisible(v,0)||gx.fn.isVisible(v))){var B=E[n.att];B||(B=gx.util.balloon.getNew(n.att,void 0,n.id?p:[]),E[n.att]=B);1==n.type?B.setError(n.text):B.setMessage(n.text);F||"ForeignKeyNotFound"!==n.id||(F=!0)}else if("ForeignKeyNotFound"===
n.id&&!F||"ForeignKeyNotFound"!==n.id){var C=1==n.type?"gx-error-message":"gx-warning-message";if("SuccessfullyAdded"===n.id||"SuccessfullyDeleted"===n.id||"SuccessfullyUpdated"===n.id)C="gx-success-message";x+='<div class="'+C+'">'+gx.html.encode(n.text)+"</div>"}}}F=!1;for(var I in E)if(B=E[I],0!=B.show()||F||(F=!0,gx.fn.setFocusOnError(I)),gx.csv.oneAtAtime)break;for(t=0;t<k;t++)if((u=f[t])&&u.getAttribute("data-gx-id")==m+"gxErrorViewer"&&u.innerHTML!=x&&(gx.dom.shouldPurge()&&gx.dom.purge(u,
!0),u.innerHTML=b?x:u.innerHTML+x,""!=x)){var L=gx.fx.dom.highlight(u,[255,255,165],2500);L.play();u.effect=L}}}gx.plugdesign.applyTemplateObject({templateSelector:function(M){return"errorviewer"===M.name},classMapSelector:function(){return!1}});gx.config.csv.scrollTopOnError&&gx.O.AnyError&&!F&&window.scrollTo(0,0)}catch(M){gx.dbg.logEx(M,"gxfrmutl.js","setErrorViewer")}},cmpContextFromCtrl:function(a){var b=c.exec(a);return b?b[1]+b[2]:a},clearCompontHiddens:function(a){var b=[],f;for(f in a)"function"!=
typeof a[f]&&b.push(gx.fn.cmpContextFromCtrl(f));try{gx.O.deleteComponentHiddens(b)}catch(k){except=!0,gx.dbg.logEx(k,"gxfrmutl.js","clearCompontHiddens")}},setJsonComponents:function(a,b,f,k,m){try{var q=[],w=!1;gx.gen.isDotNet();var p=[],t;for(t in a)if(p.push(t),"function"!=typeof a[t])try{var z=a[t];if(z){var r=gx.dom.byId(t);!r&&b&&(r=gx.dom.byId(b[t]));gx.lang.emptyObject(r)&&(l(document.body).append("<div id='"+t+"'></div>"),r=gx.dom.byId(t));if(!gx.lang.emptyObject(r)){r.id&&(gx.fx.obs.deleteObserverByKey(r.id),
gx.evt.removeHookByKey(r.id));gx.html.setInnerHtml(r,z,!1,m);var u=gx.fn.cmpContextFromCtrl(t),x=d(gx.fn.getHidden(u+"_CMPPGM"));q.push({type:u,name:x,html:z,container:r})}}}catch(E){w=!0,gx.dbg.logEx(E,"gxfrmutl.js","setJsonComponents")}}catch(E){w=!0,gx.dbg.logEx(E,"gxfrmutl.js","setJsonComponents")}0!=q.length&&!w||"function"!=typeof k?(a=l.map(q,function(E){return gx.fn.createComponentAsync(E,f)}),l.when.apply(l,a).done(function(){k(p)})):k(p)},cmpRegexCache:{},getCmpRegex:function(a){var b=this.cmpRegexCache[a];
this.cmpRegexCache[a]||(b=new RegExp("^"+a),this.cmpRegexCache[a]=b);return b},processCodeCallback:function(a,b,f,k,m,q){gx.fn.createComponentObj(a,b,k);gx.fn.setJsonHiddens(m,f);q.resolve()},createComponentAsync:function(a,b){var f=l.Deferred(),k=a.type,m=a.name,q=a.html;a=a.container;f.then(function(){gx.fx.obs.notify("gx.onafterevent",[gx.csv.lastEvtResponse])});try{var w=gx.O,p=gx.fn.filterHiddens(gx.fn.getCmpRegex(k),b);gx.cache.codeLoaded(k+m)?(gx.fn.createComponentObj(m,k,a),gx.fn.setJsonHiddens(w,
p),f.resolve()):(gx.cache.addInlineCode(k+m),gx.html.processCode(q,!1,gx.html.onTypeAvailable,[m,gx.fn.processCodeCallback,[m,k,p,a,w,f],0],m))}catch(t){gx.dbg.logEx(t,"gxfrmutl.js","createComponentAsync"),f.resolve()}return f},createComponentObj:function(a,b,f){a=gx.createComponent(a,b,f);null!=a&&gx.addComponent(a)},cleanAttachedCtrls:function(a){gx.attachedControls=[]},getAttachedCtrl:function(a){for(var b=gx.attachedControls.length,f=0;f<b;f++){var k=gx.attachedControls[f];if(k.id==a)return k}return null},
attachCtrl:function(a,b){null==gx.fn.getAttachedCtrl(a)&&gx.attachedControls.push({id:a,info:b})},doAttachs:function(a){var b=gx.fn.attachedControls(),f=b.length,k=gx.O;a=a&&a.length?l.map(a,gx.fn.cmpContextFromCtrl):void 0;var m,q;for(q=0;q<f;q++){var w=b[q];if(!a||0<=l.inArray(w.info.wc,a)){var p=gx.setGxO(w.info.wc,w.info.mp);if(w.info.isPrompt&&p.isTransaction()&&"DSP"==p.Gx_mode)gx.fn.setCtrlPropertyImpl(gx.dom.el(w.info.wc+w.info.id),"Visible",!1);else if(!w.attached){p=w.info.controls;var t=
p.length;var z=[];for(m=0;m<t;m++){gx.fn.addAttach(p[m],w);var r=gx.fn.validStruct(p[m]);gx.fn.checkAttachedPropertyVS(r,"Visible",!1);gx.fn.checkAttachedPropertyVS(r,"Enabled",!1);z.push(r.fld)}w.attached=!0;l("#"+w.id).attr("data-gx-attached-ctrl",z.join(" "))}}}gx.setGxO(k);gx.fn.setPromptlisteners()},setPromptlisteners:function(a){gx.TabFocusOnPrompt&&l("[data-gx-attached-ctrl]",a).not("[gxfocusable]").parent().on("focus",gx.evt.promptFocus).on("mousedown",gx.evt.promptMousedown).attr("gxfocusable",
"1")},clearPromptlisteners:function(a){l("[data-gx-attached-ctrl]",a).parent().off("focus").off("mousedown")},addAttach:function(a,b){a=gx.fn.validStruct(a);void 0==a.attachedCtrls&&(a.attachedCtrls=[]);a.attachedCtrls.push(b)},checkAttachedProperty:function(a,b,f){gx.fn.checkAttachedPropertyVS(gx.O.getValidStructFld(a),b,f)},checkAttachedPropertyVS:function(a,b,f){if(void 0!=a&&(a=a.attachedCtrls,void 0!=a))for(var k=a.length,m=0;m<k;m++)gx.fn.checkAttachedControlProperty(a[m],b,f)},checkAttachedControlProperty:function(a,
b,f){var k=a.info.id;a=a.info;var m=!0,q=a.controls;a=a.wc;for(var w=q.length,p=0;p<w;p++){var t=gx.fn.getCtrlProperty(a+gx.fn.validStruct(q[p]).fld,b);m=f?t==f:m&&t==f;if(f&&m)break}m&&gx.fn.setCtrlPropertyImpl(gx.dom.el(a+k),b,f)},changeControlOpacity:function(a,b,f,k){var m=Math.round(k),q="";q="string"==typeof a?a:a.id;b>f?(gx.fn.setOpacity(b,q),setTimeout(function(){gx.fn.changeControlOpacity(a,b-10,f,k)},m)):b<f?(gx.fn.setOpacity(b,q),setTimeout(function(){gx.fn.changeControlOpacity(a,b+10,
f,k)},m)):gx.fn.setOpacity(f,q)},setOpacity:function(a,b){var f=b;"string"==typeof b&&(f="body"==b?document.body:gx.dom.el(b));null!=f&&(b=f.style,f="reset"==a?"":a/100,b.opacity=f,b.MozOpacity=f,b.filter="alpha(opacity="+("reset"==a?100:a)+")")},fadeControl:function(a,b,f){"in"==b?gx.fn.changeControlOpacity(a,0,100,f):gx.fn.changeControlOpacity(a,100,0,f)},fadeIn:function(a,b){gx.fn.fadeControl(a,"in",b)},statusMsg:function(a){window.status=a},objectOnload:function(a,b){var f=document.documentElement,
k=null;try{k=window.top.document.documentElement}catch(p){}k&&f!=k&&gx.dom.getAttributeNames(k).filter(function(p){return p.startsWith("gx-data-")}).forEach(function(p){return f.setAttribute(p,k.getAttribute(p))});var m=l(document.body),q="true"===m.attr("data-HasEnter"),w="true"===m.attr("data-Skiponenter");gx.evt.onkeypress_hdlr=gx.evt.onkeypress_hdlr||function(p){gx.evt.onkeypress(p,q,w)};gx.evt.attach(document,["keydown"],gx.evt.onkeypress_hdlr);l(document).on("keyup",function(p){gx.evt.onkeyup(p)});
l(document).on("keyup",'input[type="text"], input[type="password"], input[type="email"], input[type="number"], input[type="search"], input[type="url"], textarea',function(p){var t=p.target.id+" + "+p.target.value;gx.evt.cvcingContext!==t&&(gx.evt.cvcingContext=t,gx.evt.oncontrolvaluechanging(p))});l(document).on("paste",'input[type="text"], input[type="password"], input[type="email"], input[type="number"], input[type="search"], input[type="url"], textarea',function(p){gx.evt.oncontrolpasting(p)});
null!=gx.pO&&(gx.pO.onload(a,b),gx.setGxO(gx.pO))},objectOnUnload:function(a){if(null!=gx.pO)gx.pO.onunload(a)},objectOnpost:function(){if(null!=gx.pO)gx.pO.onpost()},objectPostback:function(a,b){null!=gx.pO&&(gx.pO.postbackLoad(a,b),gx.fx.obs.notify("gx.onobjectpostback",arguments))},gridObjFromGxO:function(a){return gx.fn.gridObj(gx.O.CmpContext,a,gx.O.IsMasterPage)},gridObj:function(a,b,f){return(a=gx.getObj(a,f))?a.getGrid(b):null},installComponents:function(a,b){var f=gx.fn.getHidden("GX_CMP_OBJS");
if(void 0!=f){gx.gen.isDotNet();for(var k in f)if(a||!gx.pO.getWebComponent(k)){var m=d(f[k].toLowerCase());m=gx.createComponent(m,k);null!=m&&(gx.addComponent(m,b),setTimeout(function(q){this.addComponentRemoteFiles(q)}.closure(this,[m]),1))}}},addComponentRemoteFiles:function(a){if(a=a.getContainer())gx.html.processCode(a.innerHTML,!0),gx.dom.fitToParent(a)},datePickerFormat:function(a,b,f){var k=gx.dateFormat,m=k.substr(0,1),q=k.substr(1,1);k=k.substr(2,1);m=gx.fn.datePickerDateFormat(m,a);q=gx.fn.datePickerDateFormat(q,
a);a=gx.fn.datePickerDateFormat(k,a);k=gx.fn.datePickerTimeFormat(b);return 0<f&&0<b?m+"/"+q+"/"+a+" "+k:0<f?m+"/"+q+"/"+a:k},datePickerDateFormat:function(a,b){return"Y"==a&&"99/99/9999"==b.substr(0,10)?"%Y":"Y"==a?"%y":"M"==a?"%m":"D"==a?"%d":""},datePickerTimeFormat:function(a){var b=gx.timeFormat;if(12==b){b="%I";var f=" %p"}else b=24==b?"%H":"",f="";if(2==a)a="";else if(5==a)a=":%M";else if(8==a)a=":%M:%S";else return"";return b+a+f},installDatePicker:function(a,b,f,k,m,q,w,p,t,z){(new gx.ui.controls.datePicker({inputId:a,
triggerId:a+"_dp_trigger",inline:k,inputType:m?"datetime":"date",weeksNumbers:q,mondayFirst:w,format:p,datePartLength:t,timePartLength:z,afterChange:gx.fn.datePickerChanged,vStruct:b,gxO:f})).render()},datePickerChanged:function(a,b,f,k,m){if(!a||a.dateClicked){m=m||gx.O;if("undefined"===typeof k){var q=gx.fn.controlIds(),w=q.length;for(i=0;i<w;i++){k=gx.fn.validStruct(q[i]);var p=0!=k.grid?"_"+gx.fn.currentGridRow(k.grid):"";if(f.id==m.CmpContext+k.fld+p)break}}null!=k&&void 0!=k.dp&&(b=gx.date.isNullDate(b)?
gx.date.nulldate_toc(k.len,k.dec):b.print(gx.fn.datePickerFormat(k.dp.pic,k.dp.dec,k.len)),b!=f.value&&(f.setAttribute("data-gxvalid","0"),f.value=b,f.onchange(),a&&a.callCloseHandler(),0<k.grid&&(gx.fn.getGridObj(k.grid)||k.gxgrid).setRowModified(gx.fn.currentGridRow(k.grid)),m.refreshDependantGrids(k)))}},toArray:function(a){if(gx.util.browser.isIE()&&8>=gx.util.browser.ieVersion()){for(var b=[],f=0,k=a.length;f<k;f++)b[f]=a[f];return b}return Array.prototype.slice.call(a)},evalCtxScope:function(a,
b){var f=gx.O;gx.setGxO(a);a=eval(b);a instanceof Object&&(a=gx.json.serializeJson(a));gx.setGxO(f);return a}}}(gx.$);
Function.prototype.closure=function(l,c,d){var g=gx.util.browser;if(g.isIE()&&8>g.ieVersion()){window.__objs||(window.__objs=[],window.__funs=[],window.__args=[]);var a=this,b=l.__objId;b||(__objs[b=l.__objId=__objs.length]=l);var f=a.__funId;f||(__funs[f=a.__funId=__funs.length]=a);c||(c=[]);var k=c.__argsId;k||(__args[k=c.__argsId=__args.length]=c);c=a=l=null;return function(){if(__funs){var m=__args[k];!0===d&&(m=Array.prototype.slice.call(arguments,0),m=m.concat(__args[k]));0==m.length&&0<arguments.length&&
(m=arguments);m=__funs[f].apply(__objs[b],m);if(__objs)try{delete __objs[b].__objId}catch(q){__objs[b].__objId=null}__funs&&delete __funs[f].__funId;__args&&delete __args[k].__argsId;return m}}}a=this;return function(){var m=c||arguments;!0===d&&(m=Array.prototype.slice.call(arguments,0),m=m.concat(c));return a.apply(l||window,m)}};
gx.thread={Map:function(){this.map={};this.add=function(l,c){this.map[l]=c};this.remove=function(l){delete this.map[l]};this.get=function(l){return null==l?null:this.map[l]};this.first=function(){return this.get(this.nextKey())};this.next=function(l){return this.get(this.nextKey(l))};this.nextKey=function(l){for(i in this.map){if(!l)return i;l==i&&(l=null)}return null}},Command:function(l,c,d){gx.thread.Command.LastID||(gx.thread.Command.LastID=0);this.id=++gx.thread.Command.LastID;this.execute=function(){c.apply(l,
d)};this.syncExecute=function(){new gx.thread.Mutex(this,"execute")}},Mutex:function(l,c,d,g){gx.thread.Mutex.Wait||(gx.thread.Mutex.Wait=new gx.thread.Map);gx.thread.Mutex.SLICE=function(a,b){gx.thread.Mutex.Wait.get(a).attempt(gx.thread.Mutex.Wait.get(b))};this.attempt=function(a){for(;a;a=gx.thread.Mutex.Wait.next(a.c.id))if(a.enter||a.number&&(a.number<this.number||a.number==this.number&&a.c.id<this.c.id))return setTimeout("gx.thread.Mutex.SLICE("+this.c.id+","+a.c.id+")",10);try{retVal=this.c.execute()}catch(b){gx.dbg.logEx(b,
"gxfrmutl.js","Mutex Call")}this.number=0;gx.thread.Mutex.Wait.remove(this.c.id);if("function"==typeof g)try{g.call(l,retVal)}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","Mutex CallBack")}};this.c=new gx.thread.Command(l,c,d);gx.thread.Mutex.Wait.add(this.c.id,this);this.enter=!0;this.number=(new Date).getTime();this.enter=!1;this.attempt(gx.thread.Mutex.Wait.first())}};gx.INTERACTIVE_EVT="gx.onInteractive";gx.PARENT_OBJECT_EVT="gx.onCreateParentObject";gx.SETMASTERPAGE_EVT="gx.onSetMasterPage";
gx.ONREADY_EVT="gx.onready";gx.ONAFTERLOAD_EVT="onafterload";gx.ONAFTERGALOAD_EVT="onaftergaload";gx.isInteractive=!1;gx.isReady=!1;gx.getActiveContext=function(){var l=window;gx.popup.getPopup()&&gx.popup.getPopup().frameWindow&&(l=gx.popup.getPopup().frameWindow);return l};gx.isReadyUI_impl=function(l){return 1>l.gx.evt.userReadyCnt&&l.gx.evt.userReadyThresholdWait()&&l.gx.isInputEnabled()&&(l.gx.ajax.isFormEnabled()||null!=gx.popup.getPopup())};gx.isReadyUI=function(){return gx._isReadyUI()};
gx._isReadyUI=function(){return gx.isReadyUI_impl(gx.getActiveContext())};gx.goInteractive=function(){gx.isInteractive=!0;gx.fx.obs.notify(gx.INTERACTIVE_EVT)};gx.goReady=function(l){gx.isReady=!0;gx.fx.obs.notify(gx.ONREADY_EVT,[],l)};gx.goOnload=function(){gx.isLoaded=!0;gx.fx.obs.notify(gx.ONAFTERLOAD_EVT)};gx.observe_run=function(l,c,d,g){d[g]=function(a,b,f){f=f||[];l()?a.apply(b,f):gx.fx.obs.addObserver(c,b,a.closure(b,f),{single:!0})}};
gx.observe_run(function(){return gx.isLoaded},gx.ONAFTERLOAD_EVT,gx,"ol");gx.observe_run(function(){return gx.isReady},gx.ONREADY_EVT,gx,"wr");gx.observe_run(function(){return gx.pO&&gx.pO.MasterPage},gx.SETMASTERPAGE_EVT,gx,"wmp");gx.observe_run(function(){return gx.isInteractive},gx.INTERACTIVE_EVT,gx,"wi");gx.observe_run(function(){return gx.pO},gx.PARENT_OBJECT_EVT,gx,"wpo");gx.observe_run(function(){return window.gtag},gx.ONAFTERGALOAD_EVT,gx,"wga");gx.isabsoluteurl=function(l){return-1!==l.search("://")};
gx.isRelativeToHost=function(l){return"/"==l.substr(0,1)};gx.absoluteurl=function(l){return gx.isabsoluteurl(l)?l:"/"!==l.charAt(0)?gx.util.resourceUrl(l,!0):location.protocol+"//"+location.host+l};gx.timeoutActions={ignore:0,warn:1};
gx.uc=function(l){var c=/^_gx_image_resource_/,d=function(g){if("string"===typeof g)return gx.util.imageUrl(g);Array.isArray(g)&&(g=g.map(function(k){return d(k)}));if("object"===typeof g)for(var a=$jscomp.makeIterator(Object.entries(g)),b=a.next();!b.done;b=a.next()){var f=$jscomp.makeIterator(b.value);b=f.next().value;f=f.next().value;g[b]=d(f)}return g};return{PostRenderScripts:{},gxCssClass:"gx_usercontrol",getNew:function(g,a,b,f,k,m,q,w,p,t){try{var z=eval(f);gx.lang.inherits(z,gx.uc.UserControl,
!0);var r=new z(l)}catch(u){gx.dbg.logEx(u,"gxfrmutl.js","getNew UserControl "+f),r=new gx.uc.UserControl}r.ContainerName=k;r.DesignContainerName=k;r.LabelForAttValue=g.CmpContext+m.toUpperCase()+(p?"_"+t:"");r.setupControl(g,m,q,a,b,w,p,t);return r},fromChild:function(g){var a=gx.pO.getUsercontrolFromChild(g);if(null!=a||gx.pO.hasMasterPage()&&(a=gx.pO.MasterPage.getUsercontrolFromChild(g),null!=a))return a;for(var b=gx.pO.WebComponents.length,f=0;f<b;f++)if(a=gx.pO.WebComponents[f].getUsercontrolFromChild(g),
null!=a)return a;return null},getUserControlObj:function(g){var a=gx.O.getUserControl(g);if(gx.lang.emptyObject(a)){if(gx.pO.hasMasterPage()&&(a=gx.pO.MasterPage.getUserControl(g),!gx.lang.emptyObject(a)))return a;for(var b=gx.pO.WebComponents.length,f=0;f<b&&(a=gx.pO.WebComponents[f].getUserControl(g),gx.lang.emptyObject(a));f++);}return a},CtrlId:function(g){return g.replace(/Container$/,"")},userControlContainerId:function(g){var a=g+"Container";if(0<=g.indexOf("ContainerDiv"))return g;var b=gx.O.getValidStructFld(g);
if(b){var f=gx.O.rowPatternRegex.exec(g);f=f?f[1]:null;if(b="function"===typeof b.getUCInstance?b.getUCInstance(f):b.uc)a=b.ContainerName}return a&&(b=g.lastIndexOf("_"),-1!=b&&(g=a+g.substring(b),null!=gx.dom.byId(g)))?g:a},setProperties:function(g,a){g=gx.uc.getUserControlObj(gx.uc.userControlContainerId(g));if(null!=g)if(void 0!=a.length)for(var b=a.length,f=0;f<b;f++)for(var k in a[f]){var m=a[f][k];g[k]=m}else for(k in a)m=a[k],g[k]=m},isUserControl:function(g,a){a=a||gx.O;return gx.lang.emptyObj(a.UserControls)?
!1:g instanceof gx.uc.UserControl?!0:(g=gx.dom.byId(gx.uc.userControlContainerId(g)))&&"DIV"===g.tagName&&gx.dom.hasClass(g,gx.uc.gxCssClass)?!0:!1},StartRender:function(){PostRenderScripts={}},pushPostRenderScripts:function(g){l.each(g&&g.Scripts||[],function(a,b){PostRenderScripts[b]=b})},EndRender:function(){var g=gx.lang.objToArray(PostRenderScripts);g=l.map(g,function(a){return gx.util.resourceUrl(gx.util.resolveUrl(a),!1)});gx.http.loadScripts(g,gx.emptyFn,0,!0)},isImageResourcePty:function(g){return gx.text.startsWith(g,
"_gx_image_resource_")},getComputedImagePath:function(g){try{var a=getComputedStyle(document.documentElement).getPropertyValue("--GX-Image_"+g)||"";if(a=a.replaceAll("\\","").replace(/\s*url\((.+?)\)/,"$1"))gx.uc.UserControl.theme_el=gx.uc.UserControl.theme_el||gx.getThemeElement(),a=(new URL(a,gx.uc.UserControl.theme_el.href.toString())).toString()}catch(b){}return a},getClientProperty:function(g,a){var b=a,f=g;gx.uc.isImageResourcePty(g)&&(f=g.replace(c,""),b=gx.uc.getComputedImagePath(a));return{name:f,
value:b}},UserControl:function(){this.ParentObject=null;this.GridRow=this.GridId="";this.ControlLvl=this.ControlId=0;this.ControlName=this.ContainerName="";this.LastIdBefore=0;this.Properties=[];this.DynProperties=[];this.PropTypes=[];this.ValidFunctions=[];this.V2CFunctions=[];this.C2VFunctions=[];this.IsPostBack=this.RealControl=this.C2ShowFunction=null;this.clearFunctions=function(){this.ValidFunctions=[];this.V2CFunctions=[];this.C2VFunctions=[];this.C2ShowFunction=null};this.me=function(){return"gx.getObj('"+
this.ParentObject.CmpContext+"', "+this.ParentObject.IsMasterPage.toString()+").getUserControl('"+this.ContainerName+"')"};this.getChildContainer=function(g){var a=""!=this.GridRow?"_"+this.GridRow:"",b=this.DesignContainerName+this.ControlName+"_"+g+a;b=gx.dom.byId(b);b||(b=this.DesignContainerName+g+a,b=gx.dom.byId(b));return b};this.getContainerControl=function(){return gx.dom.byId(this.ContainerName)};this.getRealControl=function(){return this.RealControl?this.RealControl:this.getContainerControl()};
this.setupControl=function(g,a,b,f,k,m,q,w){this.ParentObject=g;this.ControlName=a;this.ControlId=f;this.LastIdBefore=k;this.ControlLvl=void 0!=m?m:0;this.GridId=void 0!=q?q:0;this.GridRow=void 0!=w?w:"";gx.util.pushOnceSorted(this.ControlId,this.ParentObject.GXCtrlIds);var p=w||"_norow",t=this.ParentObject.GXValidFnc[this.ControlId];t||(this.ParentObject.GXValidFnc[this.ControlId]={id:this.ControlId,lvl:this.ControlLvl,fld:b,grid:this.GridId,op:[],ip:[],isuc:!0,uc:this,fnc:this.validateControl},
t=this.ParentObject.GXValidFnc[this.ControlId]);t=this.ParentObject.GXValidFnc[this.ControlId];t.ucInstances=t.ucInstances||{};t.ucInstances[p]=this;t.getUCInstance=function(z){z=z||p;return t.ucInstances[z]}};this.addValidFunction=function(g,a,b){this.ValidFunctions.push(g);this.ParentObject.addUsercontrolBinding(a,b+(""==this.GridRow?"":"_"+this.GridRow),this)};this.validateControl=function(){gx.csv.validatingUC=this;for(var g=this.ValidFunctions.length,a,b=0;b<g;b++)if((a=this.ValidFunctions[b])&&
!a.call(gx.O))return gx.O.AnyError=1,gx.csv.validatingUC=null,!1;gx.csv.validatingUC=null;return!0};this.attachEvents=function(){try{var g=this.getContainerControl();if(gx.lang.emptyObject(document.frames))g.onfocus=this.onfocus,this.RealControl=g;else{var a=document.frames.length;if(0<a){var b=0;for(b=0;b<a;b++){var f=document.frames[b];if(1==gx.dom.isChildNode(f,g)){f.frameElement.onfocus=this.onfocus;this.RealControl=f.frameElement;break}}}}}catch(k){gx.dbg.logEx(k,"gxfrmutl.js","attachEvents")}};
this.onfocus=function(){gx.evt.onfocus(this.getRealControl(),this.ControlId,this.ParentObject.CmpContext,this.ParentObject.IsMasterPage,this.GridRow,this.GridId);gx.csv.lastId=this.ControlId;gx.csv.anyError||this.setFocusBase()};this.oninput=function(){this.autoRefreshFn&&this.autoRefreshFn()};this.onchange=function(){0<this.GridId&&gx.fn.getGridObj(this.GridId).setRowModified(gx.fn.currentGridRow(this.GridId))};this.setFocusBase=function(){"function"==typeof this.setFocus&&this.setFocus()};this.setHtml=
function(g){gx.dom.shouldPurge()&&gx.dom.purge(this.getContainerControl(),!0);this.getContainerControl().innerHTML=g};this.createWebComponent=function(g,a,b,f,k){this.ParentObject.createWebComponent(g,a,b,this.GridRow,f,k)};this.deleteWebComponent=function(g){g=gx.fn.cmpContextFromCtrl(g);this.ParentObject.deleteComponent(g)};this.notifyContext=function(g,a){gx.fx.ctx.notify(null,g,a)};this.addV2CFunction=function(g,a,b,f){if("function"==typeof g){var k=a;this.V2CFunctions.push(g);var m=gx.fn.getVarControlMap(this.ParentObject,
k);void 0!==m&&this.ParentObject.addUsercontrolBinding(m,k,this)}else m=g,k=a,this.ParentObject.addUsercontrolBinding(m,k,this),this.V2CFunctions.push(function(q,w,p){var t=k;p&&(w&&(t=k+"_"+w),w=m,t=f?gx.fn.getControlValue(t)[f]:gx.fn.getControlValue(t),f?q.ParentObject[w][f]=t:q.ParentObject[w]=t);t=f?q.ParentObject[m][f]:q.ParentObject[m];q.useGxDateForBindings&&(w=gx.fn.getVarControlMapForVar(m),"date"!==w.type&&"dtime"!==w.type||"string"!==typeof t||(t=q.IsPostBack?new gx.date.gxdate(t):new gx.date.gxdate(t,
"Y4MD"),w=m,p=t,f?q.ParentObject[w][f]=p:q.ParentObject[w]=p));q[b](d(t))})};this.addC2VFunction=function(g){this.C2VFunctions.push(g)};this.setC2ShowFunction=function(g){this.C2ShowFunction=g};this.execV2CFunctions=function(g){var a=gx.csv.cmpCtx;gx.csv.cmpCtx=this.ParentObject.CmpContext;var b,f=this.V2CFunctions,k=f.length;for(b=0;b<k;b++)try{f[b](this,this.GridRow,g)}catch(m){gx.dbg.logEx(m,"gxfrmutl.js","execV2CFunctions")}gx.csv.cmpCtx=a};this.execC2VFunctions=function(){var g=gx.csv.cmpCtx;
gx.csv.cmpCtx=this.ParentObject.CmpContext;var a,b=this.C2VFunctions,f=b.length;for(a=0;a<f;a++)try{b[a](this,this.GridRow)}catch(k){gx.dbg.logEx(k,"gxfrmutl.js","execC2VFunctions")}gx.csv.cmpCtx=g};this.sdtV2c=function(g,a,b,f,k){if(null!==a){if(a=parseInt(a,10)-1,void 0!==this.ParentObject[g][a])this[k](this.ParentObject[g][a][b])}else this.ParentObject[g]=gx.fn.getControlValue(f,null,this.ParentObject),this[k](this.ParentObject[g][b])};this.sdtC2v=function(g,a,b,f,k){null!==a?(a=parseInt(a,10)-
1,this.ParentObject[g][a][b]=this[k]()):this.ParentObject[g][b]=this[k]();gx.fn.setControlValue(f,this.ParentObject[g])};this.execShowFunction=function(){!1===this.IsPostBack&&(this.IsPostBack=!0);null===this.IsPostBack&&(this.IsPostBack=!1);var g=this.getContainerControl();try{null!=this.C2ShowFunction&&g&&this.C2ShowFunction(this)}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","execShowFunction")}if(g){if(this.autoToggleVisibility){var a=l(g).add("label[for='"+this.LabelForAttValue+"']");gx.lang.gxBoolean(this.Visible)?
a.show():a.hide()}gx.plugdesign.applyTemplateObject({selector:"#"+g.id,templateSelector:function(b){return!0===b.onDemandInvoke}})}gx.uc.pushPostRenderScripts(this)};this.updateAndShow=function(g){try{this.execV2CFunctions(g)}catch(a){gx.dbg.logEx(a,"gxfrmutl.js","updateAndShow")}g&&this.execShowFunction()};this.getEventRow=function(){return this.GridRow};this.isServerEvent=function(g){var a=this.ParentObject,b=a.IsMasterPage?"_MPAGE":"";g=this.ControlName.toUpperCase()+b+"."+g.toUpperCase()+b;if(g=
a.getClientEventName(g))return a.isServerEvent(g);gx.dbg.logDebug("Client event name couldn't be resolved.");return!1};this.eventHandler=function(g,a,b){gx.evt.setReady(!1,"eventHandler");var f=gx.O;gx.setGxO(this.ParentObject);if(0<g){var k=this.DesignContainerName,m=(new RegExp("^(?:"+this.ParentObject.CmpContext+")?(.+)$")).exec(this.DesignContainerName);m&&m[1]&&(k=m[1]);this.ParentObject[k]=this;(g=this.ParentObject.getGridById(g))&&g.instanciateRow(a)}this.execC2VFunctions();b.call(this.ParentObject,
this.getEventRow()).always(function(q){gx.setGxO(q);gx.evt.setReady(!0,"eventHandler")}.closure(this,[f]));gx.csv.instanciatedRowGrid=null};this.addEventHandler=function(g,a){this[g]=function(b){var f=this.isServerEvent(g);f&&"function"===typeof b&&gx.fx.obs.addObserver("gx.onafterevent",this,b,{single:!0});this.eventHandler(this.GridId,this.GridRow,a);f||"function"!==typeof b||b.call(this)}.closure(this)};this.addProperty=function(g,a){this.Properties[g]=a};this.setProp=function(g,a,b,f){this.addProperty(g,
a);this.PropTypes[g]=f;gx.lang.isBooleanType(f)?this[g]=gx.lang.gxBoolean(b):"color"==f?gx.lang.emptyObject(b)||(this[g]="number"==typeof b||"string"==typeof b?gx.color.html(b):b):gx.lang.isNumericType(f)?gx.lang.emptyObject(b)||(this[g]=gx.num.parseFloat(b)):this[g]=b};this.setDynProp=function(g,a,b,f,k){this.addProperty(g,a);this.DynProperties.push(g);this.PropTypes[g]=f;var m=function(){var q=this.getDynPropertyValueFromHidden(g,a);void 0===q&&(q=b);this.setProp(g,a,q,f)};k?m.call(this):this.ParentObject.CmpContext?
gx.fx.obs.addObserver("webcom.render",this,function(q){q===this.ParentObject&&m.call(this)}):gx.wr(m,this)};this.refreshDynProperties=function(){for(var g=0,a=this.DynProperties.length;g<a;g++){var b=this.DynProperties[g];this[b]=this.getDynPropertyValueFromHidden(b,this.Properties[b])}};this.getDynPropertyValueFromHidden=function(g,a){var b=gx.fn.getHidden(this.getHiddenName("_gx_image_resource_"+a))||gx.fn.getHidden(this.getHiddenName("_gx_image_resource_"+a.toLowerCase()));if(b)try{b=gx.uc.getClientProperty("_gx_image_resource_"+
g,b).value}catch(f){b=""}else b=gx.fn.getHidden(this.getHiddenName(a)),void 0===b&&(b=gx.fn.getHidden(this.getHiddenName(g)));return b};this.setGridProperties=function(){for(var g,a=this.ParentObject.getGridUCProperties(this.ControlName),b=a.length,f=0;f<b;f++){var k=a[f],m=k.v;g=this.getHiddenName(k.h);g=gx.fn.getHidden(g);if(void 0===m||void 0!==g)m=g,"color"==k.t&&(m=gx.color.html(m));this.setProp(k.p,k.h,m,k.t)}};this.setGridEventHandlers=function(){for(var g=this.ParentObject.getGridUCEventHandlers(this.ControlName),
a=g.length,b=0;b<a;b++){var f=g[b];this.addEventHandler(f.e,f.h)}};this.getHiddenName=function(g){var a="",b=this.ControlName.toUpperCase();""!=this.GridRow&&(a="_"+this.GridRow,this.ownerGrid&&(b=this.ownerGrid.realGridName.toUpperCase()));return this.ParentObject.CmpContext+b+(this.ParentObject.IsMasterPage?"_MPAGE":"")+"_"+g+a};this.saveProperties=function(){for(var g in this.Properties)if(this.hasOwnProperty(g)){var a=this[g];"function"!=typeof this.Properties[g]&&("undefined"!=typeof a&&"undefined"!=
typeof a.R&&"undefined"!=typeof a.G&&"undefined"!=typeof a.B&&(a=gx.color.rgb(a.R,a.G,a.B)),gx.lang.isBooleanType(this.PropTypes[g])&&(a=a?1:0),gx.fn.setHidden(this.getHiddenName(this.Properties[g]),a))}}}}}(gx.$);gx._init();window.$?gx.dbg.write("Warning: Using custom $ version."):(window.$=gx.$,gx.dbg.write("Using jquery from GX distr."));window.$.fn&&window.$.fn.jquery?gx.dbg.write("global $ is jquery"+window.$.fn.jquery):gx.dbg.write("Warning: $ is not a jQuery object instance");
(function(l,c,d){function g(){return"function"!==typeof c.createElement?c.createElement(arguments[0]):E?c.createElementNS.call(c,"http://www.w3.org/2000/svg",arguments[0]):c.createElement.apply(c,arguments)}function a(y){return y.replace(/([a-z])-([a-z])/g,function(B,C,I){return C+I.toUpperCase()}).replace(/^-/,"")}function b(y,B){return function(){return y.apply(B,arguments)}}function f(y){return y.replace(/([A-Z])/g,function(B,C){return"-"+C.toLowerCase()}).replace(/^ms-/,"-ms-")}function k(y,B,
C,I){var L=g("div");var M=c.body;M||(M=g(E?"svg":"body"),M.fake=!0);if(parseInt(C,10))for(;C--;){var N=g("div");N.id=I?I[C]:"modernizr"+(C+1);L.appendChild(N)}C=g("style");C.type="text/css";C.id="smodernizr";(M.fake?M:L).appendChild(C);M.appendChild(L);C.styleSheet?C.styleSheet.cssText=y:C.appendChild(c.createTextNode(y));L.id="modernizr";if(M.fake){M.style.background="";M.style.overflow="hidden";var R=x.style.overflow;x.style.overflow="hidden";x.appendChild(M)}y=B(L,y);M.fake?(M.parentNode.removeChild(M),
x.style.overflow=R):L.parentNode.removeChild(L);return!!y}function m(y,B){var C=y.length;if("CSS"in l&&"supports"in l.CSS){for(;C--;)if(l.CSS.supports(f(y[C]),B))return!0;return!1}if("CSSSupportsRule"in l){for(var I=[];C--;)I.push("("+f(y[C])+":"+B+")");I=I.join(" or ");return k("@supports ("+I+") { #modernizr { position: absolute; } }",function(L){if("getComputedStyle"in l){L=getComputedStyle.call(l,L,null);var M=l.console;null!==L?L=L.getPropertyValue("position"):M&&M[M.error?"error":"log"].call(M,
"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else L=L.currentStyle&&L.currentStyle.position;return"absolute"==L})}return d}function q(y,B,C,I){function L(){N&&(delete v.style,delete v.modElem)}I="undefined"===typeof I?!1:I;if("undefined"!==typeof C){var M=m(y,C);if("undefined"!==typeof M)return M}for(M=["modernizr","tspan","samp"];!v.style&&M.length;){var N=!0;v.modElem=g(M.shift());v.style=v.modElem.style}var R=y.length;for(M=0;M<R;M++){var P=y[M];var X=
v.style[P];~(""+P).indexOf("-")&&(P=a(P));if(v.style[P]!==d){if(I||"undefined"===typeof C)return L(),"pfx"==B?P:!0;try{v.style[P]=C}catch(W){}if(v.style[P]!=X)return L(),"pfx"==B?P:!0}}L();return!1}function w(y,B,C,I,L){var M=y.charAt(0).toUpperCase()+y.slice(1),N=(y+" "+G.join(M+" ")+M).split(" ");if("string"===typeof B||"undefined"===typeof B)return q(N,B,I,L);N=(y+" "+F.join(M+" ")+M).split(" ");a:{y=N;for(var R in y)if(y[R]in B){if(!1===C){B=y[R];break a}R=B[y[R]];if("function"===typeof R){B=
b(R,C||B);break a}B=R;break a}B=!1}return B}function p(y,B,C){return w(y,d,d,B,C)}var t=[],z=[],r={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(y,B){var C=this;setTimeout(function(){B(C[y])},0)},addTest:function(y,B,C){z.push({name:y,fn:B,options:C})},addAsyncTest:function(y){z.push({name:null,fn:y})}},u=function(){};u.prototype=r;u=new u;u.addTest("history",function(){var y=navigator.userAgent;return-1===y.indexOf("Android 2.")&&-1===
y.indexOf("Android 4.0")||-1===y.indexOf("Mobile Safari")||-1!==y.indexOf("Chrome")||-1!==y.indexOf("Windows Phone")||"file:"===location.protocol?l.history&&"pushState"in l.history:!1});var x=c.documentElement,E="svg"===x.nodeName.toLowerCase(),F=r._config.usePrefixes?["moz","o","ms","webkit"]:[];r._domPrefixes=F;var G=r._config.usePrefixes?["Moz","O","ms","Webkit"]:[];r._cssomPrefixes=G;var n={elem:g("modernizr")};u._q.push(function(){delete n.elem});var v={style:n.elem.style};u._q.unshift(function(){delete v.style});
r.testProp=function(y,B,C){return q([y],d,B,C)};r.testAllProps=w;r.testAllProps=p;u.addTest("flexbox",p("flexBasis","1px",!0));u.addTest("csstransitions",p("transition","all",!0));(function(){var y,B;for(B in z)if(z.hasOwnProperty(B)){var C=[];var I=z[B];if(I.name&&(C.push(I.name.toLowerCase()),I.options&&I.options.aliases&&I.options.aliases.length))for(y=0;y<I.options.aliases.length;y++)C.push(I.options.aliases[y].toLowerCase());I="function"===typeof I.fn?I.fn():I.fn;for(y=0;y<C.length;y++){var L=
C[y];L=L.split(".");1===L.length?u[L[0]]=I:(!u[L[0]]||u[L[0]]instanceof Boolean||(u[L[0]]=new Boolean(u[L[0]])),u[L[0]][L[1]]=I);t.push((I?"":"no-")+L.join("-"))}}})();(function(y){var B=x.className,C=u._config.classPrefix||"";E&&(B=B.baseVal);u._config.enableJSClass&&(B=B.replace(new RegExp("(^|\\s)"+C+"no-js(\\s|$)"),"$1"+C+"js$2"));u._config.enableClasses&&(B+=" "+C+y.join(" "+C),E?x.className.baseVal=B:x.className=B)})(t);delete r.addTest;delete r.addAsyncTest;for(r=0;r<u._q.length;r++)u._q[r]();
l.Modernizr=u})(window,document);
gx.spa=function(l){var c=/<head[^>]*>([\s\S]*?)<\/head>/i,d=/(<body[^>]*>[\s\S]*?<\/body>)/i,g=/<title[^>]*>([\s\S]*?)<\/title>/i,a=/#.*/,b=/#/,f=!1,k=!1,m=window.location.href,q=!0,w={},p,t;"state"in window.history&&(q=!1);gx.wpo(function(){gx.pO.fullAjax&&(gx.cache.exceptionsRegEx=/messages\..+\.js/)},this);var z=function(){f||k||this.notify("onnavigatecomplete")};return{timeout:-1,setTimeout:function(r){this.timeout=r},isSameApp:function(r,u){var x=r.port===u.port;x=(x=x||""===r.port&&"http:"===
r.protocol&&"80"===u.port)||""===r.port&&"https:"===r.protocol&&"443"===u.port;return r.protocol===u.protocol&&r.hostname===u.hostname&&x},handleClick:function(r){var u=this.getTarget(r),x;if(u&&"A"===u.tagName.toUpperCase()&&null!==u.getAttribute("href")&&void 0!==u.getAttribute("href")&&!(u.target&&("_blank"==u.target||"_parent"==u.target&&window.parent!=window||"_top"==u.target&&window.top!=window||"_"!=u.target.substr(0,1)&&window.name!=u.target)||1<r.which||r.metaKey||r.ctrlKey)){var E=this.parseUrl(u.href);
if(this.isSameApp(location,E)){var F="/"==E.pathname.charAt(0)?E.pathname:"/"+E.pathname;if(location.pathname.substring(0,location.pathname.lastIndexOf("/"))===F.substring(0,F.lastIndexOf("/"))&&!(0<=E.href.search(b)&&E.href.replace(a,"")===location.href.replace(a,""))&&""!==u.getAttribute("href")&&0!==u.href.indexOf("javascript:"))if(this.ignoreClick)this.ignoreClick=!1;else{E=l(u);for(x in w)if(w.hasOwnProperty(x)&&E.is(x))return;this.navigate({url:u.href,push:!0,scrollTo:!0,direction:"forward"});
r.preventDefault()}}}},redirect:function(r,u){delete gx.referrer;u=void 0===u||u;var x=this.parseUrl(r),E="/"==x.pathname.charAt(0)?x.pathname:"/"+x.pathname;this.isSameApp(location,x)?location.pathname.substring(0,location.pathname.lastIndexOf("/"))!==E.substring(0,E.lastIndexOf("/"))?window.location=r:(gx.referrer=location.href,this.navigate({url:r,push:u,scrollTo:!0,direction:"forward"})):window.location=r},setLocation:function(r){this.setStopNavigating(r);window.location=r},canNavigate:function(){return!f&&
!k},isNavigating:function(){return!this.canNavigate()},isNavigatingRaw:function(){return f},cancelNavigating:function(){f=!1},setStopNavigating:function(r){f=!1;this.notify("onnavigate",[r])},navigate:function(r){var u,x,E=r.url,F=!1;this.canNavigate()?(f=!0,this.notify("onbeforenavigate",[E]),(x=this.request)&&4>x.readyState&&(x.onreadystatechange=gx.emptyFn,gx.dbg.logMsg("Request cancelled as data ir already being retrieved: "+x.readyState),x.abort()),this.request=x=gx.http.doCall({method:"GET",
url:E,handler:function(G,n,v){G=v.getResponseHeader("X-SPA-REDIRECT-URL");var y=v.getResponseHeader("X-GXOBJECT");F||(u&&clearTimeout(u),530==v.status?this.setLocation(E):G?(this.setStopNavigating(G),setTimeout(gx.spa.redirect.closure(gx.spa,[G]),100)):(r.push&&0<x.readyState&&y?(this.updateState(),this.state=this.createState(r),window.history.pushState(null,"",x.responseURL||E)):gx.O.endFeedback(!1),this.processResponse.call(this,n,v,r)))},beforeSend:function(G){gx.O.startFeedback(!1);this.notify("onbeforesend",
[this.createEvent(G,E),"X-SPA-REQUEST","X-SPA-MP"]);0<this.timeout&&(u=setTimeout(this.timeoutHandler.closure(this,[G,E]),this.timeout));G.setRequestHeader("X-SPA-REQUEST","1")},offline:function(){u&&clearTimeout(u);F=!0;f=!1},error:function(G){G=this.createEvent(G,E);G.cancel=!0;this.notify("onerror",[G]);G.cancel&&this.setLocation(E)},ajaxHeader:!1,avoidCache:!1,handleAllStatusCodes:!0,obj:this}),this.notify("onnavigatestart",[E])):this.setLocation(E)},processResponse:function(r,u,x){try{var E=
x.url;var F=this.parseUrl(E).hash,G=x.direction,n=u.status,v=u.getResponseHeader("X-GXOBJECT"),y=u.getResponseHeader("X-SPA-RETURN"),B=u.getResponseHeader("X-SPA-RETURN-MD"),C=this.createEvent(u,E),I=gx.pO.MasterPage,L=gx.pO.MasterPage?gx.pO.MasterPage.ServerClass:"",M=u.getResponseHeader("X-SPA-MP")||"",N=!(""===L||L.toLowerCase()!=M.toLowerCase()),R=this.getContentPlaceholder();if(null!==y)gx.fn.closeWindowServerScript(y,B,!0);else if(500===n)window.history.pushState(null,"",E),this.cancelNavigating(),
gx.dom.writeError(u.responseText,gx.getMessage("GXM_runtimeappsrv"),n);else if(v){this.notify("onbeforeprocessresponse",[C,r,v,L,M,N]);var P=this.extractContents(u,!N),X=N?R.firstChild:document.body,W=P.body;P.body?(this.state=this.createState(x),x.push&&window.history.replaceState(this.state,"",u.responseURL||E),P.title&&(document.title=P.title),this.notify("onbeforecontentreplace",[u,E,P]),gx.cache.removeRemoteFile(gx.getThemeElement().href),gx.dom.replaceWithFx(X,W,{domRemove:!1,domAdd:N,enteringClass:"forward"==
G?"entering":"leaving",leavingClass:"forward"==G?"leaving":"entering",enterDurationClass:"forward"==G?"enter-fx-duration":"leave-fx-duration",leaveDurationClass:"forward"==G?"leave-fx-duration":"enter-fx-duration",transitionTimeout:800,transitionEndCallback:function(){W=this.replaceContentCallback(u,E,F,r,R,P,X,W,x,v,I,L,M,N);N||gx.html.processCode(P.rawHtml||P.head.innerHTML+P.body.innerHTML,!1,this.processCodeCallback.closure(this,[u,E,F,r,R,P,X,W,x,v,I,L,M,N]),null,null,!1,!0);k=!1;this.notify("ontransitionend",
[C,I,L,M,N]);this.recoverScrollPosition(x);return W}.closure(this),beforeTransitionStart:function(aa){k=!0;if(N)return gx.html.processCode(r,!1,function(){aa&&aa();this.processCodeCallback(u,E,F,r,R,P,X,W,x,v,I,L,M,N)}.closure(this),null,null,!1),!0}.closure(this)})):this.setLocation(E)}else this.setLocation(E)}catch(aa){gx.dbg.logEx(aa,"gxspa.js","processResponse"),this.setLocation(E)}},replaceContentCallback:function(r,u,x,E,F,G,n,v,y,B,C,I,L,M){if(M)n.parentNode&&(this.dettachContent(n),n.parentNode.removeChild(n));
else{if(gx.util.browser.isWebkit()||gx.util.browser.isFirefox()){this.dettachContent(document.body);l(document.body).remove();var N=document.createElement("body");r=l(v).prop("attributes");l.each(r,function(){l(N).attr(this.name,this.value)});document.documentElement.appendChild(N);N.innerHTML=v.innerHTML;v=N}else document.body=v,v=document.body;l([].concat($jscomp.arrayFromIterable(document.head.childNodes))).filter("meta[name]").remove();l([].concat($jscomp.arrayFromIterable(G.head.childNodes)).reverse()).filter("meta[name]").each(function(R,
P){document.head.insertBefore(P,document.head.firstChild)})}return v},filterTest:function(r){return $filter(this,r,1<arguments.length?arguments[1]:void 0)},processCodeCallback:function(r,u,x,E,F,G,n,v,y,B,C,I,L,M){r=this.createEvent(r,u);try{this.notify("oncontentreplace",[r,E,G,B,C,I,L,M])}catch(N){gx.dbg.logEx(N,"gxspa.js","processCodeCallback"),this.setLocation(u)}E=!0;y.scrollTo&&(window.scrollTo(0,0),E=!1);y.push&&window._gaq&&_gaq.push(["_trackPageview"]);y.push&&window.ga&&window.ga("send",
"pageview",location.pathname);""!==x&&(G=this.parseUrl(u),G.hash=x,window.history.replaceState(this.state,"",G.href),x=gx.dom.el(G.hash))&&(x.scrollIntoView(!0),E=!1);this.setStopNavigating(u);E&&this.recoverScrollPosition(y)},timeoutHandler:function(r,u){var x=this.createEvent(r,u);x.cancel=!0;this.notify("ontimeout",[x]);x.cancel&&(r.abort(),gx.dbg.logMsg("Request cancelled - timeout expired: "+r.readyState),this.setLocation(u))},getContentPlaceholder:function(){return gx.dom.byClass("gx-content-placeholder")[0]},
extractContents:function(r,u){var x=document.createElement("div"),E={},F,G;if(u){x=document.createElement("iframe");x.src="about:blank";x.style.display="none";document.body.appendChild(x);u=r.responseText.match(c);1<u.length&&(F=u[1]);u=r.responseText.match(d);0<u.length&&(G=u[0]);u=r.responseText.match(g);1<u.length&&(E.title=u[1]);x.contentDocument&&null==x.contentDocument.body&&x.contentDocument.write("<body></body>");x.contentDocument.body.outerHTML=G;var n=x.contentDocument.head;n.innerHTML=
F;l("head script").each(function(v,y){l(n).find("script").each(function(B,C){null===y.getAttribute("data-gx-external-script")?y.src==C.src&&n.removeChild(C):l(y).remove()})});E.body=x.contentDocument.body;E.head=n;E.rawHtml=n.innerHTML+G}else{gx.html.setInnerHtml(x,r.responseText,!1,!1,!1);r=gx.dom.byClass("gx-content-placeholder","div",x);if(0===r.length)return E;E.body=r[0].firstChild;r=gx.dom.byTag("title",x);0<r.length&&(E.title=r[0].innerText||r[0].textContent)}return E},handlePopState:function(r){if(r.state){r=
r.state;this.getContentPlaceholder();if(r&&"gx-spa"==r.source){if(q&&m==r.url||this.state.url===r.url)return;this.navigate({id:r.id,url:r.url,push:!1,scrollPosition:r.scrollPosition,direction:this.state.id<r.id?"forward":"back"})}gx.popup.ispopup()&&gx.fn.cancelWindow()}},parseUrl:function(r){var u=document.createElement("a");u.href=r;return u},createEvent:function(r,u){return{req:r,url:u,cancel:!1}},addIgnoredSelector:function(r){w[r]=!0},removeIgnoredSelector:function(r){delete w[r]},recoverScrollPosition:function(r){var u=
r.scrollPosition;this.canNavigate()&&!r.scrollTo&&u&&window.scrollTo(u.x,u.y)},dettachContent:function(r){var u=gx.dom.getActiveElement();u&&l.contains(r,u)&&gx.dom.purgeElement(u)},updateState:function(){var r=this.state;r.url=location.href;r.scrollPosition={x:window.scrollX,y:window.scrollY};window.history.replaceState(r,"",r.url)},createState:function(r){r=r||{};return{id:r.id||(new Date).getTime(),source:"gx-spa",url:r.url}},getTarget:function(r){return r.target&&"A"==r.target.tagName?r.target:
gx.dom.findParentByTagName(r.target,"A")},applyConfig:function(r){if(r&&r.listeners)for(var u in r.listeners){var x=r.listeners[u];"function"==typeof x&&this.addObserver(u,r.listeners.scope||this,x)}},setBodyClass:function(){var r="Form",u=document.body;u.className&&(r=u.className.split(" ")[0]);gx.dom.hasClass(u,r+"-fx")||gx.dom.addClass(u,r+"-fx")},isSupported:function(){return gx.util.browser.isIE()&&!gx.util.browser.isEdge()?!1:gx.pO&&gx.pO.fullAjax&&Modernizr.history&&!(gx.util.browser.isChrome()&&
window.parent!=window)},start:function(r){this.isSupported()&&!this.started&&(this.applyConfig(r),p=this.handleClick.closure(this),t=this.handlePopState.closure(this),document.addEventListener("click",p,!1),window.addEventListener("popstate",t,!1),this.state=this.createState({url:location.href}),window.history.replaceState(this.state,document.title),this.setBodyClass(),this.started=!0,this.addObserver("onnavigate",this,z),this.addObserver("ontransitionend",this,z))},stop:function(){this.started&&
(document.removeEventListener("click",p,!1),window.removeEventListener("popstate",t,!1),this.started=!1)}}}(gx.$);gx.lang.apply(gx.spa,new gx.util.Observable);gx.core={};
gx.core.analytics=function(l){var c=function(){console.log("Google Analytics v4- GA not enabled on this webpage")};return{supported:function(){return new Promise(function(d,g){gx.wga(function(){return d()});gx.lang.doCallTimeout(g,window,[],6E3)})},trackView:function(d){this.supported().then(function(){return window.gtag("event","pageview",d)},c)},trackEvent:function(d,g,a,b){this.supported().then(function(){window.gtag("event",g,{hitType:"event",eventCategory:d,eventAction:g,eventLabel:a,eventValue:b})},
c)},trackPurchase:function(d){var g=function(a,b,f,k,m){if(k&&gx.lang.emptyObject(f)&&null==m)return console.log("Google Analytics ECommerce - Warning: Property value must be assigned: ",b),!1;gx.lang.emptyObject(f)&&k&&(f=m);return gx.lang.emptyObject(f)?!1:(a[b]=f,!0)};this.supported().then(function(){var a={};if(g(a,"id",d.TransactionId,!0))for(g(a,"affiliation",d.Affiliation),g(a,"revenue",d.Revenue),g(a,"shipping",d.Shipping),g(a,"tax",d.Tax),g(a,"currency",d.CurrencyCode),g(a,"eventCategory",
"ecommerce:addTransaction"),window.gtag("event",a.eventCategory,a),a=0;a<d.Items.length;a++){var b=d.Items[a],f={};g(f,"id",d.TransactionId,!0)&&g(f,"name",b.Name,!0)&&(g(f,"sku",b.Id),g(f,"category",b.Category),g(f,"price",b.Price),g(f,"quantity",b.Quantity),g(f,"currency",b.CurrencyCode),g(f,"eventCategory","ecommerce:addItem"),window.gtag("event",f.eventCategory,f))}},c)},setUserId:function(d){this.supported().then(function(){return window.gtag("set","userId",d)},c)}}}(gx.$);
gx.core.audio=function(l){var c,d=[],g=[];return{supported:function(){return!(gx.util.browser.isIE()&&8>=gx.util.browser.ieVersion())},getSoundVar:function(a){return 2==a?g:d[a]},playBackground:function(a){this.play(a,1)},play:function(a,b){c=!0;2!=b&&this.stop(b);3==b&&(this.stop(2),this.pauseSound(this.getSoundVar(1)));2==b&&this.stop(3);this.playSound(b,a).always(function(){3==b&&this.resumeSound(this.getSoundVar(1))}.closure(this,[]))},playSound:function(a,b){var f=l.Deferred();this.supported()?
(b=new Howl({src:[b],html5:!0,onplay:function(){},onend:function(){f.resolve()},onstop:function(){f.resolve()},onpause:function(){f.resolve()}}),b.play()):(b=l("<bgsound/>").attr({id:"gxIE7AudioSound_"+a,loop:"0",src:b}),l("body").append(b));d[a]=b;2==a&&g.push(b);return f.promise()},stop:function(a){if(a){var b=this.getSoundVar(a);this.stopSound(b);d[a]=null}else this.stopSound(this.getSoundVar(3)),this.stopSound(this.getSoundVar(2)),this.stopSound(this.getSoundVar(1))},stopSound:function(a){var b=
this.supported();a=gx.lang.isArray(a)?a:[a];l.map(a,function(f,k){f=a[k];!b&&f&&(l(f).attr("src",""),l(f).remove(),f=void 0);f&&f.stop&&f.stop()})},pauseSound:function(a){this.supported()&&a&&a.pause&&a.pause()},resumeSound:function(a){this.supported()&&a&&a.play&&a.play()},isPlaying:function(a){if(this.supported())return a?this.isPlaying_impl(this.getSoundVar(a)):this.isPlaying_impl(this.getSoundVar(3))||this.isPlaying_impl(this.getSoundVar(2))||this.isPlaying_impl(this.getSoundVar(1))},isPlaying_impl:function(a){var b,
f=!1;a=gx.lang.isArray(a)?a:[a];for(var k=0;k<a.length;k++)(b=a[k])&&(f=f||b.playing())},_deinit:function(){c&&(this.stop(3),this.stop(2));c=!1}}}(gx.$);gx.core.pwa=function(l){var c;window.addEventListener("beforeinstallprompt",function(d){c=d;c.userChoice.then(function(g){gx.fx.obs.notify("gx.pwa.onpromptchoice",[g.outcome]);c=null});gx.fx.obs.notify("gx.pwa.onbeforeinstallprompt")});return{showPrompt:function(){c&&c.prompt()}}}(gx.$);
gx.core.ds=function(l){return{setOption:function(c,d){document.documentElement.setAttribute("gx-data-"+c,d)},clearOption:function(c){document.documentElement.removeAttribute("gx-data-"+c)}}}(gx.$);
gx.core.clientSocket=function(l){var c,d,g=0;window.addEventListener("unload",function(k){d&&d.close()});var a=function(k){gx.fx.obs.notify("gx.core.clientsocket.onmessagereceived",[k])},b=function(){g=1;gx.fx.obs.notify("gx.core.clientsocket.onconnect",[void 0])},f=function(){g=0;gx.fx.obs.notify("gx.core.clientsocket.onconnectfailed",[void 0])};return{open:function(k){if(1===g)gx.dbg.logDebug("gx.core.clientSocket - WebSocket already connected");else{c="clientSocket_"+k;try{if(this.attachHandlers(c),
k)d=new gx.webSocket({wsURL:k,namespace:c});else{var m=gx.fn.getHidden("GX_WEBSOCKET_PORT"),q=gx.basePath&&0<gx.basePath.length?"/":"";d=new gx.webSocket({port:m,clientId:gx.fn.getHidden("GX_WEBSOCKET_ID"),wsProtocol:"https:"===location.protocol?"wss://":"ws://",host:m?location.hostname+":"+m+"/":location.host+"/",resourceUrl:q+(gx.gen.isDotNet()?"gxwebsocket.svc?":"gxwebsocket?"),basePath:gx.basePath,namespace:c})}}catch(w){gx.dbg.logEx(w,"genexus-core.js","Could not initialize WebSocket Client")}}},
close:function(){this.detachHandlers(c);try{d&&d.close()}catch(k){}g=0},send:function(k){1===g?d.send(k):gx.dbg.logDebug("gx.core.clientSocket - WebSocket is disconnected")},attachHandlers:function(k){gx.fx.obs.addObserver("gx.ws.onMessage."+k,this,a,{single:!1,doNotDelete:gx.O.IsMasterPage});gx.fx.obs.addObserver("gx.ws.onOpen."+k,this,b,{single:!1,doNotDelete:gx.O.IsMasterPage});gx.fx.obs.addObserver("gx.ws.onError."+k,this,f,{single:!1,doNotDelete:gx.O.IsMasterPage})},detachHandlers:function(k){gx.fx.obs.deleteObserver("gx.ws.onMessage."+
k,this,a);gx.fx.obs.deleteObserver("gx.ws.onOpen."+k,this,b);gx.fx.obs.deleteObserver("gx.ws.onError."+k,this,f)}}}(gx.$);
(function(l){var c=/(gx-form-item|col-(?:xs|sm|md|lg)-\d{1,2})/g,d=function(r){gx.plugdesign.registerTemplate(new gx.plugdesign.Template(r))},g=function(r,u){r=l(r).parent().find("span");gx.lang.gxBoolean(u)?r.parent("p").hide():(r.removeClass("form-control"),u=r.parent("p"),0===u.length?gx.plugdesign.applyTemplateOnElement("readonly-atts-vars",r[0],{checkInclusion:!0}):u.show())},a=function(r,u){var x=l(".gx-form-group[data-gx-for='"+gx.dom.id(r)+"']");0===x.length&&(x=l(r).parents("div.gx-attribute").first());
gx.lang.gxBoolean(u)?x.show():x.hide()},b=function(r,u){u=u.trim();r=gx.html.getFieldLabel(r);u=u.split(" ").join("Label ")+(u?"Label":"");if(r){var x=(x=r.className.match(c))?x.join(" ")||"":"";u=["gx-label",x,u,"control-label"].join(" ");r.className!==u&&(r.className=u)}};d({name:"labels",selector:"div.gx-form-group:has(label.gx-label:not([data-gx-sr-only]))",excluded:"div:has(.gx_usercontrol)",setContext:function(r,u){u=l(u).find("label.gx-label").addClass("control-label");r.labelEl=u[0];return r},
listeners:{control:function(r){return l(r.labelEl).attr("for")},after:{Class:b}}});d({name:"atts-vars",selector:".gx-attribute > input, .gx-attribute > select, .gx-attribute > textarea, .gx-attribute > img:first-child",initialize:function(r){(r=l("#"+r.id)[0])&&b(r,r.className.replace("form-control",""))},listeners:{control:function(r){return r.id},after:{Enabled:g,Visible:a}}});d({name:"readonly-atts-vars",selector:'.gx-attribute span[data-gx-readonly],span[class^="Readonly"]:not(:has(input[type="radio"], input[type="checkbox"]))',
template:'<p class="form-control-static">{{{outerHTML}}}</p>',outerHTML:!0,listeners:{control:function(r){return r.id},after:{Visible:function(r,u){var x=l(r).parent("p");gx.lang.gxBoolean(u)?x.show():x.hide();a(r,u)}}}});d({name:"password-atts-vars",selector:'.gx-attribute input[type="password"][data-gx-password-reveal]',template:'<div class="input-group">{{$inputEl$}}<span class="input-group-btn gx-pwd-reveal-btn"><button class="btn btn-default" type="button" title="'+gx.getMessage("GXM_revealpassword")+
'"><span class="glyphicon glyphicon-eye-open"></span></button></span></div>',setContext:function(r,u){r.inputEl=u;return r},initialize:function(r){var u=l("#"+r.id),x=l("#"+r.id)[0];u.next().on("click",function(){gx.fn.setCtrlProperty(x.id,"Ispassword","password"!=x.type)})},listeners:{control:function(r){return r.id},after:{Visible:function(r,u){gx.lang.gxBoolean(u)&&gx.fn.isVisible(r,0)?l(r).next().show():l(r).next().hide();a(r,u)},Enabled:function(r,u){gx.lang.gxBoolean(u)?l(r).next().children().first().prop("disabled",
!1):l(r).next().children().first().prop("disabled",!0)},Ispassword:function(r,u){l("button",l(r).next()).attr("title",gx.getMessage(gx.lang.gxBoolean(u)?"GXM_revealpassword":"GXM_hidepassword")).children().first().toggleClass("glyphicon-eye-open").toggleClass("glyphicon-eye-close")}}}});d({name:"checkbox",selector:'.gx-attribute > input[type="checkbox"], .gx-attribute span > input[type="checkbox"]',setContext:function(r,u){r.id=l(u)[0].id;return r},initialize:function(r){r=l("#"+r.id).get(0);l(r).closest("span").addClass("gx-checkbox-wrapper")},
listeners:{control:function(r){return r.id},after:{Visible:function(r,u){var x=l(r).parent().closest(".gx-checkbox-wrapper");gx.lang.gxBoolean(u)?(x.show(),x.children().show()):x.hide();a(r,u)}}}});d({name:"usercontrol",onDemandInvoke:!0,selector:".gx_usercontrol",setContext:function(r,u){r.id=l(u)[0].id;return r},listeners:{control:function(r){return r.id},after:{Visible:a}}});var f=function(r,u,x){r.visible=u;var E=l(r).parent().find(".input-group-btn");gx.lang.gxBoolean(u)&&gx.fn.isVisible(r,0)?
(this.enabled||void 0===this.enabled)&&E.show():E.hide();x||a(r,u)};d({name:"datepicker",selector:".dp_container:has(img):has(input)",template:'<div class="dp_container {{alignClass}}" id="{{datePickerCt.id}}"><div class="input-group">{{$inputEl$}}{{$spaneEl$}}<span class="input-group-btn"><a class="btn btn-default">{{$imgEl$}}</a></span></div></div>',outerHTML:!0,setContext:function(r,u){var x=l(u),E=x.attr("data-align");r.datePickerCt=u;r.inputEl=x.find("input")[0];r.imgEl=x.find("img")[0];r.inputElId=
r.inputEl.id;r.alignClass=E?"pull-"+E:"";r.nativeEl=x.find("#"+r.inputEl.id+"-picker")[0];u=l("#span_"+r.inputEl.id);0<u.length&&(x=u.parent("p")[0],r.spaneEl=x?x:u,x&&l(x).remove());return r},initialize:function(r){var u=l("#"+r.inputElId),x=u.parent().closest(".dp_container");r.nativeEl&&x.append(r.nativeEl);x.find("a").on("click",function(F){try{if("IMG"!=F.target.nodeName)return x.find("img")[0].click(),!1}catch(G){return!1}});var E=gx.fn.isVisible(u[0],0);r=l("#span_"+r.inputEl.id);0<r.length&&
(E=E||gx.fn.isVisible(r[0],0));f.call(this,u[0],E,!0)},listeners:{control:function(r){return r.inputEl.id},after:{Enabled:function(r,u){r.enabled=gx.lang.gxBoolean(u);var x=l(r).parent().find(".input-group-btn");if(gx.lang.gxBoolean(u)){var E=this.visible||gx.fn.isVisible(r);(E||void 0===E)&&x.show()}else x.hide();g(r,u)},Visible:f}}});var k=function(r){return l(r).parent().closest("span")},m=function(r){r.find(":checked").parent("label").button("toggle")},q=function(r,u){var x=r.find("label");gx.lang.gxBoolean(u)?
(x.prop("disabled",!1),x.removeClass("disabled"),r.find("input, label").css("pointer-events","")):(x.prop("disabled",!0),r.find("input, label").css("pointer-events","none"),x.addClass("disabled"))};d({name:"radio-button",selector:".gx-radio-button:not(.gx-tpl-ignore) label",setContext:function(r,u){var x=k(u);r.name=l(u).children("input").attr("name");r.spanEl=x;l(x).prop("initialized")||(x.children("label").addClass("gx-radio-label btn btn-default"),u=l(u).children().prop("disabled"),m(x),q(x,!(!0===
u||"disabled"===u)),x.find("script").remove(),x.attr("data-toggle","buttons"),u=x.hasClass("gx-radio-button-vertical")?"-vertical":"",x.addClass("btn-group"+u).removeClass("gx-radio-button-vertical").css("vertical-align","baseline"));return r},initialize:function(r){l(r.spanEl).prop("initialized")||(r.spanEl.prop("initialized",!0),r.spanEl.children("label").on("click",function(){var u=l(this).children("input");u.trigger("focus");u.attr("checked","");u.prop("checked",!0);gx.evt.onchange(u.get(0))}))},
listeners:{control:function(r){return r.name},after:{Visible:a,Enabled:function(r,u){q(k(r),u)},Value:function(r){m(k(r))}}}});d({name:"prompt",selector:function(r){return l('a:has(img[id*="PROMPT"])',r).prevUntil("","input, select")},template:'<div class="input-group">{{$inputEl$}}<span class="input-group-btn">{{$promptEl$}}</span></div>',setContext:function(r,u){r.inputEl=u;r.promptEl=l(u).nextUntil("",'a:has(img[id*="PROMPT"])').addClass("btn btn-default");return r},listeners:{control:function(r){return r.inputEl.id},
before:{Visible:function(r,u){r=l(r).parent();gx.lang.gxBoolean(u)?r.show():r.hide()},Enabled:function(r,u){r=l(r).parent().find(".input-group-btn");gx.lang.gxBoolean(u)?r.show():r.hide()}}}});d({name:"prompt-trigger",selector:'img[id*="PROMPT"].gx-prompt',setContext:function(r,u){r.imgEl=u;return r},listeners:{control:function(r){return r.imgEl.id},before:{Enabled:function(r,u){r=l(r).closest(".input-group-btn");gx.lang.gxBoolean(u)?r.show():r.hide()}}}});var w=function(r,u){r=l(r).parent();r=r.add(r.find("img"));
gx.lang.gxBoolean(u)?r.show():r.hide()};d({name:"geolocation",selector:"input + img.GeoLocOption",template:'<div class="input-group"><div id="{{inputEl.id}}_hook"></div><span class="input-group-btn"><a class="btn btn-default"><div id="{{inputEl.id}}_trigger_hook"></div></a></span></div>',setContext:function(r,u){r.inputEl=l(u).prev()[0];r.triggerEl=l(u)[0];return r},initialize:function(r){gx.evt.attach(r.el,"click",function(){gx.geolocation.getMyPosition(this)});l("#"+r.inputEl.id+"_hook").replaceWith(r.inputEl);
l("#"+r.inputEl.id+"_trigger_hook").replaceWith(r.triggerEl);w.call(this,r.inputEl,gx.fn.isVisible(r.inputEl,0))},listeners:{control:function(r){return r.inputEl.id},before:{Visible:w,Enabled:function(r,u){r=l(r).parent().find(".input-group-btn");gx.lang.gxBoolean(u)?r.show():r.hide()}}}});d({name:"multimedia-upload",selector:".gx-multimedia-upload .fields-ct",template:'<div class="row"><div class="col-sm-4"><div class="row"><div class="col-sm-12">{{$fileOptionLbl$}}</div><div class="col-sm-12">{{$uriOptionLbl$}}</div></div></div><div class="col-sm-8">{{$uriField$}}{{$fileField$}}</div></div><div class="row"><div class="col-sm-12">{{$button$}}</div></div>',
applyTo:"inner",setContext:function(r,u){u=l(u).parent().closest(".gx-multimedia-upload")[0];var x=gx.html.multimediaUpload.getElements(u);x.fileOptionLbl=x.fileOption.parentNode;x.uriOptionLbl=x.uriOption.parentNode;gx.lang.apply(r,x);r.container=u;return r},initialize:function(r){l(r.button).addClass("btn btn-default Button");l(r.uriField).addClass("form-control")},listeners:{control:function(r){return gx.html.multimediaUpload.CtrlId(r.container.id)},after:{Visible:function(r,u){a(r,u,7)}}}});d({name:"navbar",
selector:".gx-navbar",setContext:function(r,u){r.toggleBtn=l(u).find(".gx-navbar-toggle");r.navBarInner=l(u).find(".gx-navbar-inner");return r},initialize:function(r){r.toggleBtn.attr("data-target","#"+r.navBarInner.attr("id"))}});gx.spa.addObserver("onnavigatecomplete",window,function(){var r=l(".navbar-collapse");r.collapse&&r.collapse("hide")});var p=function(r){r.anchor.get(0).href==location.href?r.anchor.parent().addClass("active"):r.anchor.parent().removeClass("active")};d({name:"navbar-textblock-link",
selector:"a.gx-navbar-textblock, .gx-navbar-textblock:has(a)",template:"{{$anchor$}}",setContext:function(r,u){var x=["id","class","style",gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,"title"];u=l(u);var E;r.anchor=u.children("a");0===r.anchor.length&&u.is("a")&&(r.anchor=u);for(E=0;E<x.length;E++)r.anchor.attr(x[E],u.attr(x[E]));return r},reDraw:p,initialize:p,listeners:{control:function(r){return r.id},before:{Caption:function(r,u){l(r).text(u);return!0},Link:function(r,
u){l(r).attr("href",u);return!0}}}});d({name:"navbar-textblock-text",selector:"span.gx-navbar-textblock:not(:has(a))",initialize:function(r){l(r.el).addClass("navbar-text")},listeners:{control:function(r){return r.id},after:{Link:function(r,u){var x=l(r);u&&x.hasClass("navbar-text")&&(x.removeClass("navbar-text"),gx.plugdesign.applyTemplateOnElement("navbar-textblock-link",r))}}}});d({name:"errorviewer",selector:".gx_ev div",initialize:function(r){r=l(r.el);var u=r.parent(".gx_ev"),x=u.css("position");
if("fixed"===x||"absolute"===x)u[0].effect&&u[0].effect.end(),r.addClass("alert alert-dismissible fade in").attr("style","").attr("role","alert").prepend(l('<button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>'))}});d({name:"textarea-auto-expand",selector:".gx-attribute > textarea[data-gx-text-maxlines]",setContext:function(r,u){r.el=l(u);return r},initialize:function(r){var u=r.el;r=u[0];var x=l(window),E=parseInt(u.attr("rows"),
10),F=parseInt(u.attr("data-gx-text-maxlines"),10);u.css("overflow-x","hidden");var G=function(n,v,y){v+=y;n.attr("rows",v);return v};u=function(){for(var n=x.scrollTop(),v=parseInt(l(this).attr("rows"),10),y=l(this);v>E&&this.scrollHeight>=this.clientHeight;)v=G(y,v,-1);for(;""!==l(this).val()&&v<F&&this.scrollHeight>this.clientHeight;)v=G(y,v,1);x.scrollTop(n)};gx.evt.attach(r,["input","keyup"],u.closure(r,[]));gx.evt.on_ready(r,u.closure(r,[]))}});var t=function(r){r=r.get(0);return"on"===gx.dom.getComputedStyle(r).getPropertyValue("--gx-image-scaling").trim()},
z=function(r){var u=r;t(r)&&(0<r.parent("a").length&&(u=r.parent("a")),u.parent("div[data-align-inner]").parent().parent().attr("data-align-image",""))};d({name:"image",selector:"img[data-gx-image]",setContext:function(r,u){r.el=l(u);return r},initialize:function(r){r=r.el;var u=r.get(0).currentSrc||r.attr("src");u&&t(r)&&r.css("background-image","url("+u+")");z(r)},listeners:{control:function(r){return r.id},after:{Bitmap:function(r,u){r=l(r);u&&t(r)?r.css("background-image","url("+u+")"):r.css("background-image",
"none")},Class:function(r){var u=l(r);r.src&&t(u)?u.css("background-image","url("+r.src+")"):u.css("background-image","none");z(u)}}}})})(gx.$);
gx.ui=function(l){return{grid:function(){this.gridContainer=null;this.firstTime=!0;this.loadingCollection=this.autoRefreshing=!1;this.properties=[];this.setContainerDelayed=function(d){this.gridContainer=d;this.DesignContainerName=this.ContainerName=gx.dom.id(d);this.ParentObject.setUserControl(this)};this.getContainerControl=function(){return this.gridContainer};this.me=function(){return this.gridObject()+".grid"};this.render=function(d,g,a,b,f){this.refreshDynProperties();this.properties=[];for(var k=
0;k<this.rows.length;k++){this.properties[k]=[];for(var m=this.rows[k],q=0;q<this.columns.length;q++){var w=this.columns[q],p=m.gxProps[w.index],t=w.gxControl;t.grid=this.ownerGrid;t.row=m;t.gridId=this.gxId;t.gridRow=m.gxId;a?t.value=p[0]:t.setProperties.apply(t,p);this.setRenderProperties(m.gxRenderProps[q],t);!t.enabled&&t.type<=gx.html.controls.types.checkBox&&(t.cssClass=gx.fn.prefixROClass(t.cssClass));this.properties[k][q]=gx.lang.clone(t);this.addC2V(w,this.properties[k][q])}}this.firstTime=
d;this.autoRefreshing=g?!0:!1;this.loadingCollection=a?!0:!1;this.show&&(this.setC2ShowFunction(function(z){z.show();b()}),this.autoRefreshing&&(this.show(),b()));f();this.autoRefreshing=!1};this.addC2V=function(d,g){this.addC2VFunction(function(a){if(""!==d.gxAttName){var b=a.ParentObject.getValidStruct(d.gxId);b&&(a.ParentObject[b.gxvar]=g.value);gx.fn.setHidden(g.id,g.value)}})};this.setRenderProperties=function(d,g){if(d)for(var a in d)g[a]=d[a]};this.selectRow=function(d){if(d=this.rows[d])this.instanciateSelectionVars(d.gxId),
this.instanciateSelectedRow(d)};this.getEventRow=function(){return gx.lang.emptyObject(this.GridRow)?"0001":this.GridRow};this.executeEvent=function(d,g){if(d<this.columns.length&&g<this.rows.length)if(d=this.properties[g][d],g=gx.html.controls.eventJSCode(d.jsScrCode,d.eventName,d.jsDynCode,d.grid,d.row),""!==g)gx.lang.emptyObject(d.usrOnclick)||(g="if("+d.usrOnclick+") { "+g+" }"),d=new Function(g),"function"==typeof d&&d();else if(d.clickEvent){g=this.parentGxObject;var a=d.row.gxId;this.ownerGrid.instanciateRow(a);
g[d.clickEvent].call(g,a)}};this.executeIsValid=function(d,g){if(d<this.columns.length&&g<this.rows.length){var a=this.parentGxObject;g=this.properties[g][d];d=g.vStruct||a.GXValidFnc[g.column.gxId];g=g.row.gxId;d&&d.isvalid&&(this.ownerGrid.instanciateRow(g),a[d.isvalid].call(a))}};this.addEventHandler=function(d,g){this[d]=function(a){var b=this.isServerEvent(d);b&&a&&gx.fx.obs.addObserver("gx.onafterevent",this,a,{single:!0});var f=gx.fn.currentGridRow(this.GridId);this.eventHandler(this.GridId,
f,g);!b&&a&&a.call(this)}.closure(this)};var c={};this.requestSuggest=function(d,g,a){var b=l.Deferred();if(d<this.columns.length&&g<this.rows.length){var f=this.parentGxObject;g=this.properties[g][d];d=g.vStruct||f.GXValidFnc[g.column.gxId];g=g.row.gxId;var k=c[g+"_"+d.id];!k&&d&&d.gxsgprm&&(this.ownerGrid.instanciateRow(g),k=new gx.fx.suggestProvider(f,d.gxsgprm[1],null,d.gxsgprm[0]),c[g+"_"+d.id]=k);k?(gx.fx.updateSuggestParms(d.gxsgprm[2]),k.requestSuggestions([],function(){b.resolve(k.values)},
function(){b.reject()},a)):b.reject()}else b.reject();return b.promise()};this.executeValidate=function(d,g){if(d<this.columns.length&&g<this.rows.length){var a=this.parentGxObject;g=this.properties[g][d];d=g.vStruct||a.GXValidFnc[g.column.gxId];g=g.row.gxId;d&&d.fnc&&(this.ownerGrid.instanciateRow(g),d.fnc.call(a))}}}}}(gx.$);
gx.ui.controls=function(l){var c=function(){var d="render selectTabPageByIndex hideTabPageByIndex showTabPageByIndex getTabPageIndexByControlName getTabPageControlNameByIndex".split(" ");return{show:function(){for(var g=this.ActivePage,a=0;a<d.length;a++)this[d[a]]||console.error("Missing required method",d[a],this);this.IsPostBack?this.update&&this.update():(this.beforeRender&&this.beforeRender(),this.render(),this.ActivePageControlName&&(g=parseInt(this.getTabPageIndexByControlName(this.ActivePageControlName),
10)),g||(g=1),this.selectTabPageByIndex(g),this.tabPageSelected(g,!0,!1),this.HistoryManagement&&HistoryManager.Initialize(this),this.afterRender&&this.afterRender());this.allways&&this.allways()},destroy:function(){HistoryManager.RemoveListener(this)},tabPageSelected:function(g,a,b){this.ActivePage!==g&&(this.ActivePage=g||1,this.ActivePageControlName=this.getTabPageControlNameByIndex(g)||"",this.HistoryManagement&&!1!==b&&HistoryManager.AddHistoryPoint(this.ActivePageControlName,!0,null,!1),!a&&
this.TabChanged&&this.TabChanged())},getId:function(){return(this.ParentObject?this.ParentObject.CmpContext||"-"+this.ParentObject.ServerClass||"":"")+"-"+this.ControlName},urlListener:function(){if(!gx.grid.drawAtServer){var g=(g=0<document.location.hash.length?document.location.hash.substr(1):"")?this.getTabPageIndexByControlName(g):1;this.selectTabPageByIndex(g);this.tabPageSelected(g,!1,!1)}},SelectTab:function(g){this.selectTabPageByIndex(g);this.tabPageSelected(g,!1,void 0)},HideTab:function(g){this.hideTabPageByIndex(g)},
ShowTab:function(g){this.showTabPageByIndex(g)}}}();return{datePicker:function(d){this.$input=l("#"+d.inputId);this.$trigger=l("#"+d.triggerId);this.showInLine=d.inline;this.inputType=d.inputType;this.format=d.format;this.datePartLength=d.datePartLength;this.timePartLength=d.timePartLength;this.nativeSupport=gx.HTML5&&(gx.util.browser.isIPhone()||gx.util.browser.isIPad()||gx.util.browser.isAndroid()&&gx.util.browser.isChrome());this.afterChange=d.afterChange;this.opts=d;this.getInputType=function(){return 0<
this.timePartLength&&0===this.datePartLength?"time":0<this.datePartLength&&0===this.timePartLength?"date":"datetime-local"};this.getTimeStep=function(){return 6<this.timePartLength?1:60};this.resolveValue=function(g,a){gx.date.isNullDate(a)&&"time"!==g&&(a=new Date);if("date"==g)a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),g=a.toISOString().slice(0,10);else{a.setMinutes(a.getMinutes()-a.getTimezoneOffset());var b=0,f=19;"time"==g&&(b=11,f=60==this.getTimeStep()?16:19);g=(new gx.date.gxdate(a)).Value.toISOString().slice(b,
f)}return g};this.render=function(){if(this.nativeSupport){var g=this.$input,a=this.getInputType(),b=l("<input>");b.attr("type",a);"time"!==a&&"datetime-local"!==a||b.attr("step",this.getTimeStep());b.css("position","absolute");b.css("top","0");b.css("left","0");b.css("opacity","0");b.attr("id",g.attr("id")+"-picker");this.dtPicker=b;g.parent().append(b);b.bind("touchstart touchend mousedown mouseup",function(){return!0!==g.prop("disabled")});var f=this,k=function(m){m=m.val();var q=new gx.date.gxdate(m,
"Y4MD");m=""!==m?q.Value:gx.date.nullDate();f.afterChange&&f.afterChange(null,m,g[0],f.opts.vStruct,f.opts.gxO)};this.$trigger.on("click",function(){var m=gx.date.dateObject(g.val());gx.date.isNullDate(m)||(m=f.resolveValue(a,m),b.val(m),k(b));b.trigger("click").trigger("focus")});gx.evt.attach(b[0],"change",function(){var m=l(this);k(m)})}else this.opts.showsTime="date"!==this.opts.inputType,gx.html.onTypeAvailable("Calendar",this.installCalendar,[this.opts],0)};this.installCalendar=function(g){var a=
g.inputId,b=gx.dom.byId(a),f=l(b),k=g.inline,m=g.weeksNumbers,q=g.mondayFirst,w=g.showsTime,p=g.format;g=g.gxO;if(gx.lang.emptyObject(b)||"SELECT"!=b.nodeName)if(0===k){b=a+"_dp_trigger";if((k=gx.dom.byId(b))&&"none"!==f.css("display")&&"hidden"!==f.css("visibility")&&"none"===f.css("display")||"hidden"===f.css("visibility")||!k)b=a;f=f.parent().closest(".dp_container")[0];Calendar.setup({inputField:a,parentNode:f,showsTime:w,weekNumbers:m,mondayFirst:q,ifFormat:p,button:b,onSelect:gx.fn.datePickerChanged,
align:"Bl",singleClick:!0,displayRight:!1,gxO:g})}else gx.lang.emptyObject(b)||f.css("display","none"),Calendar.setup({inputField:a,showsTime:w,weekNumbers:m,mondayFirst:q,ifFormat:p,flat:a+"_dp_container",flatCallback:gx.fn.datePickerChanged,align:"Bl",singleClick:!0,gxO:g})}},actionGroup:function(){return{init:function(){0<l("[data-gx-base-lib='none']").length&&gx.fx.obs.addObserver("gx.onclick",this,function(d){d=d.event;var g=d.target;if(l(g).is(".gx-navbar .dropdown>a")){d.preventDefault();d=
g.getAttribute("aria-expanded");var a=function(b){var f=l(g).next(".gx-dropdown-menu");b=b.event.target;l(b).closest(f).length||b==g||"true"!==g.getAttribute("aria-expanded")||(g.setAttribute("aria-expanded","false"),gx.fx.obs.deleteObserver("gx.onclick",this,a))};"false"===d?(gx.fx.obs.addObserver("gx.onclick",this,a),g.setAttribute("aria-expanded","true")):(gx.fx.obs.deleteObserver("gx.onclick",this,a),g.setAttribute("aria-expanded","false"))}})},dynamicItems:function(){return function(d){this.preProcessItems=
function(g,a){var b;var f=0;for(b=g.length;f<b;f++){var k=(a?a+" ":"")+f.toString();g[f]._$Key=k;g[f].Children?this.preProcessItems(g[f].Children,k):g[f].Children=[]}};this.getItems=function(){return this.items};this.setItems=function(g){this.preProcessItems(g);this.items=g||[]};this.getItemPressed=function(){return this.itemPressed||{}};this.setItemPressed=function(g){this.itemPressed=g};this.assignItemPressed=function(g){g=g.split(" ");var a=this.getItems(),b;for(b=0;b<g.length;b++){var f=parseInt(g[b],
10);var k=k?k.Children[f]:a[f]}this.setItemPressed(k)};this.getType=function(g){var a;return function(){a||(a=d(g.getContainerControl()).closest("[data-gx-actiongroup-type]").attr("data-gx-actiongroup-type"));return a}}(this);this.renderMenu=function(g){this.IsPostBack?d('li[data-gx-dynitem-source="'+this.ContainerName+'"]').remove():d(this.getContainerControl()).after('<li data-gx-dynitem-hook="'+this.ContainerName+'"></li>').css("display","none").appendTo(gx.dom.form());g.length&&(g=Mustache.render("{{#Children}}{{> navbarItemTemplate}}{{/Children}}",
{containerName:this.ContainerName,Children:g},{navbarItemTemplate:'<li data-gx-dynitem-source="{{containerName}}">{{#Link}}<a href="{{Link}}" class="gx-navbar-textblock {{Class}}" data-gx-tpl-applied-navbar-textblock-link title="{{TooltipText}}">{{Caption}}</a>{{/Link}}{{^Link}}{{#Children.length}}{{> navbarDropDowntemplate}}{{/Children.length}}{{^Children.length}}{{#EventName}}<a href="#" data-event-name="{{EventName}}" data-key="{{_$Key}}" class="gx-navbar-textblock {{Class}}" data-gx-tpl-applied-navbar-textblock-link title="{{TooltipText}}">{{Caption}}</a>{{/EventName}}{{^EventName}}<span class="gx-navbar-textblock {{Class}} navbar-text" data-gx-tpl-applied-navbar-textblock-text title="{{TooltipText}}">{{Caption}}</span>{{/EventName}}</span>{{/Children.length}}{{/Link}}</li>',
navbarDropDowntemplate:'<li class="dropdown" data-gx-dynitem-source="{{containerName}}"><a href="#" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" class="dropdown-toggle" title="{{TooltipText}}">{{Caption}}<span class="caret"></span></a><ul class="gx-dropdown-menu dropdown-menu {{Class}}">{{#Children}}{{> navbarItemTemplate}}{{/Children}}</ul></li>'}),d('li[data-gx-dynitem-hook="'+this.ContainerName+'"]').after(g))};this.renderToolbar=function(g){var a="";g.length&&
(a=Mustache.render('{{#Children}}{{#Link}}<span class="{{Class}}" title="{{TooltipText}}"><a href="{{Link}}">{{Caption}}</a></span>{{/Link}}{{^Link}}{{#Children.length}}<div class="btn-group">{{> toolbarItemTemplate}}</div>{{/Children.length}}{{^Children.length}}<span class="{{Class}}" title="{{TooltipText}}">{{#EventName}}<a href="#" data-event-name="{{EventName}}" data-key="{{_$Key}}">{{Caption}}</a>{{/EventName}}{{^EventName}}{{Caption}}{{/EventName}}</span>{{/Children.length}}{{/Link}}{{/Children}}',
{containerName:this.ContainerName,Children:g},{toolbarItemTemplate:'{{#Children}}{{#Link}}<span class="{{Class}}" title="{{TooltipText}}"><a href="{{Link}}">{{Caption}}</a></span>{{/Link}}{{^Link}}{{#Children.length}}<div class="btn-group">{{> toolbarItemTemplate}}</div>{{/Children.length}}{{^Children.length}}<span class="{{Class}}" title="{{TooltipText}}">{{#EventName}}<a href="#" data-event-name="{{EventName}}" data-key="{{_$Key}}">{{Caption}}</a>{{/EventName}}{{^EventName}}{{Caption}}{{/EventName}}</span>{{/Children.length}}{{/Link}}{{/Children}}'}));
d(this.getContainerControl()).attr("data-gx-dynitem-container","").html(a)};this.show=function(){if(this.getContainerControl()){var g=this.getType(),a=gx.lang.isArray(this.items)?this.items:[this.items],b=[];"menu"==g?(this.renderMenu(a),b=document.querySelectorAll("[data-gx-dynitem-source='"+this.ContainerName+"'] a[data-event-name]")):"toolbar"==g&&(this.renderToolbar(a),b=this.getContainerControl().querySelectorAll("a[data-event-name]"));for(g=0;g<b.length;g++)gx.evt.attach(b[g],"click",this.fireEvent,
this)}};this.destroy=function(){var g=this.getType();"menu"==g?(d('li[data-gx-dynitem-source="'+this.ContainerName+'"]').remove(),d('li[data-gx-dynitem-hook="'+this.ContainerName+'"]').after(this.getContainerControl()).remove()):"toolbar"==g&&d(this.getContainerControl()).html("")};this.fireEvent=function(g){g.preventDefault();g=g.currentTarget.dataset;var a=this.ParentObject,b=a.IsMasterPage?g.eventName.toUpperCase()+"_MPAGE":"'"+g.eventName.toUpperCase()+"'";if(b=a.getClientEventName(b))this.assignItemPressed(g.key),
this.execC2VFunctions(),gx.evt.dispatcher.dispatch(a.getServerEventName(b),a,0,0,a.isServerEvent(b),void 0,void 0,!0)}}}()}}(),defineTabControl:function(d){gx.lang.apply(d.prototype,c);return d}}}(gx.$);gx.setGxObyCtx=function(l,c){var d;void 0!=l&&(d=gx.getObj(l,c))&&gx.setGxO(l,c);return gx.O};gx.parentGridRow=function(l,c){var d=gx.fn.currentGridRowImpl(l);return d=(l=c.getGridById(l,d))&&l.parentGrid?gx.fn.currentGridRow(l.parentGrid.gridId):void 0};
gx.applyPicture=function(l,c,d){if(!gx.lang.emptyObject(l)&&!gx.lang.emptyObject(gx.rtPicture(l,d))&&!gx.lang.emptyObject(l.type))try{switch(l.type){case "int":case "decimal":return c=Number.isNaN(Number(c))?gx.num.extractValue(gx.rtPicture(l,d),gx.thousandSeparator,c):c,gx.num.formatNumber(c,l.dec,gx.rtPicture(l,d),l.len,l.sign,!0,l.emptyAsNull);case "char":return c;default:return c}}catch(g){}return c};
gx.SetOld=function(l,c,d){var g=c;l=gx.fn.controlGridId(l);0<l&&(g=c+"_"+gx.fn.currentGridRow(l));gx.fn.setHidden(g,gx.getVar(d))};gx.Old=function(l,c){try{var d=c,g=gx.fn.controlGridId(l);0<g&&(d=c+"_"+gx.fn.currentGridRow(g));var a=gx.fn.getHidden(d);"undefined"==typeof a&&""!=gx.O.CmpContext&&(a=gx.fn.getHidden(gx.O.CmpContext+d));return a}catch(b){gx.dbg.logEx(b,"gxapi.js","Old")}return""};gx.OldInteger=function(l,c){l=parseInt(gx.Old(l,c),10);return isNaN(l)?0:l};
gx.OldDecimal=function(l,c){l=gx.num.parseFloat(gx.Old(l,c),gx.thousandSeparator,gx.decimalPoint);return isNaN(l)?0:l};gx.OldDate=function(l,c){return(new gx.date.gxdate(gx.Old(l,c),"Y4MD")).getStringWithFmt(gx.dateFormat)};gx.OldDateTime=function(l,c){l=new gx.date.gxdate(gx.Old(l,c),"Y4MD");return l.getStringWithFmt(gx.dateFormat)+" "+l.getTimeString(!0,!0)};
gx.dom_i=function(l){return{el:function(c,d,g,a){if(c){if("string"===typeof c){a=this.byId(c);if(null!=a||!g&&(a=this.byId("span_"+c),null!=a))return a;if(d)return null;a=this.byName(c);return null!=a&&0<a.length?(a[0].id||(a[0].id=c),a[0]):null}return c}return null},matchesSelector:function(){var c;return function(d,g){d=gx.dom.byId(d);var a=d.matches||d.matchesSelector||d.msMatchesSelector||d.mozMatchesSelector||d.webkitMatchesSelector||d.oMatchesSelector;void 0===c&&(c=gx.util.browser.isIE()&&
8>=gx.util.browser.ieVersion());return c||!a?l(d).is(g):a?a.call(d,g):!1}}(),hasAttribute:function(c,d){return c.hasAttribute?c.hasAttribute(d):void 0!==c[d]},hasClass:function(c,d){if(c=gx.dom.el(c,!0))return c.classList?c.classList.contains(d):d&&-1!=(" "+c.className+" ").indexOf(" "+d+" ")},isRoundedBtnWrapper:function(c){return c.hasClass("BtnRight")||c.hasClass("BtnLeft")||c.hasClass("BtnBackground")},addPrefixClass:function(c,d){if(c){var g=l(c);c.className&&!g.attr("data-gx-unprefixed-class")&&
(g.attr("data-gx-unprefixed-class",c.className),g=c.className.split(" "),g.splice(0,0,""),c.className+=g.join(" "+d))}},removePrefixClass:function(c,d){if(c){var g=l(c);if(0<=c.className.search(new RegExp("(^|\\s)"+d))){var a=g.attr("data-gx-unprefixed-class");g.removeAttr("data-gx-unprefixed-class");c.className=a||c.className.substring(d.length)}}},addClass:function(c,d){var g=gx.dom.el(c,!0);g&&d&&(g.classList?0<d.indexOf(" ")?g.classList.add.apply(g.classList,d.split(" ")):g.classList.add(d):this.hasClass(c,
d)||(g.className=g.className+(g.className?" ":"")+d))},classReCache:{},removeClass:function(c,d){var g=gx.dom.el(c,!0);g&&(g.classList?g.classList.remove(d):this.hasClass(c,d)&&(c=this.classReCache[d],c||(c=new RegExp("(?:^|\\s+)"+d+"(?:\\s+|$)","g"),this.classReCache[d]=c),g.className=g.className.replace(c," ")))},hasTransition:function(c){if(c&&Modernizr.csstransitions){var d=gx.util.browser,g="transitionDuration";d.isIE()&&(g="msTransitionDuration");d.isWebkit()?g="webkitTransitionDuration":d.isFirefox()?
g="MozTransitionDuration":d.isOpera()&&(g="OTransitionDuration");c=parseFloat(gx.dom.getComputedStyle(c)[g],10);return 0!==c&&!isNaN(c)}return!1},hasAnimation:function(c){if(c&&Modernizr.csstransitions){var d=gx.util.browser,g="animationName";d.isIE()&&(g="msAnimationName");d.isWebkit()?g="webkitAnimationName":d.isFirefox()?g="MozAnimationName":d.isOpera()&&(g="OAnimationName");return(c=gx.dom.getComputedStyle(c)[g])&&"none"!=c}return!1},isMultimediaElement:function(c){return"SPAN"==c.tagName&&(gx.dom.hasClass(c,
"gx-video-placeholder")||gx.dom.hasClass(c,"gx-audio-placeholder")||gx.dom.hasClass(c,"gx-download-placeholder"))},purgeElement:function(c,d){d=d||c.attributes;var g;if(d){var a=d.length;for(g=0;g<a;g+=1){var b=d[g].name||d[g];"function"===typeof c[b]&&(c[b]=null)}}},purge:function(c,d){d||this.purgeElement(c);if(c=c.childNodes){d=0;for(var g=c.length;d<g;d++)gx.dom.purge(c[d],!1)}},shouldPurge:function(){return gx.purgeElements&&gx.util.browser.isOldIE()},form:function(){null==this._form&&(this._form=
document.forms.MAINFORM,this._form||(this._form=document.forms[0]));return this._form},indexElements:function(){try{for(var c=gx.fn.getFormElements(),d=c.length,g=0;g<d;g++)c[g].gxIndex=g}catch(a){gx.dbg.logEx(a,"gxapi.js","indexElements")}},setAttribute:function(c,d,g){var a=function(){try{var b=gx.dom.byName(c);if(null!=b&&0<b.length)for(var f=b.length,k=0;k<f;k++)b[k].setAttribute(d,g);else k=gx.dom.byId(c),null!=k&&k.setAttribute(d,g)}catch(m){gx.dbg.logEx(m,"gxapi.js","setAttribute")}};"loading"==
document.gxReadyState?gx.fx.obs.addObserver("gx.onload",this,a,{single:!0}):a.apply(this)},createInput:function(c,d){var g=document.createElement("input");g.type=d;g.id=c;g.name=c;gx.dom.form().appendChild(g);return g},hasSelectedFile:function(){var c=l('input[type="file"]'),d=c.length;if(!d)return!1;for(var g=0;g<d;g++)if(!gx.lang.emptyObject(c[g].value))return!0;return!1},hasSubmitControl:function(){var c=this.byTag("input"),d=c.length;if(!d)return!1;for(var g=0;g<d;g++){var a=c[g].getAttribute("type");
if("submit"==a||"image"==a)return!0}return!1},styles:function(){var c=[].concat($jscomp.arrayFromIterable(document.styleSheets)).map(function(g){return g.href}).filter(function(g){return!gx.lang.emptyObject(g)}),d=[].concat($jscomp.arrayFromIterable(document.querySelectorAll("style["+STYLE_ELEMENT_HREF+"]"))).map(function(g){return g.getAttribute(STYLE_ELEMENT_HREF)});return[].concat($jscomp.arrayFromIterable(c),$jscomp.arrayFromIterable(d))},getComputedStyle:function(c){try{return"#document"==c.nodeName?
null:"function"==typeof window.getComputedStyle?window.getComputedStyle(c):"undefined"!=typeof c.currentStyle?c.currentStyle:c.style}catch(d){return gx.dbg.logEx(d,"gxapi.js","getComputedStyle"),null}},getStyle:function(c,d){var g="";try{g="function"==typeof window.getComputedStyle?window.getComputedStyle(c,null)[d]:"undefined"!=typeof c.currentStyle?c.currentStyle[d]:c.style[d];var a=parseInt(g);isNaN(a)||(g=a)}catch(b){gx.dbg.logEx(b,"gxapi.js","getStyle")}return g},CSS_URL_REGEXP:/url\(["']?(?!(?:https?:|\/))([^"\)]+)["']?\)/ig,
CSS_BASE_URL_REGEXP:/(.+\/)[^\/]+$/ig,cssRules:null,cacheStyleSheet:function(c,d){var g=c.href?c.href.replace(this.CSS_BASE_URL_REGEXP,"$1"):document.location.href,a;this.cssRules||(this.cssRules=[]);try{if(a=c.cssRules||c.rules){c=0;for(var b=a.length;c<b;c++){var f=a[c].cssText;d&&!f.includes("@import")&&(f=f.replace(this.CSS_URL_REGEXP,'url("'+g+'$1")'));this.cssRules.push(f)}}}catch(k){}},getCssRules:function(c,d){var g=document.styleSheets;if(null===this.cssRules||c){this.cssRules=[];c=0;for(var a=
g.length;c<a;c++)try{g[c].disabled||this.cacheStyleSheet(g[c],d)}catch(b){}}return this.cssRules},setStyleElement:function(c,d,g){try{c.innerHTML=(g?c.innerHTML:"")+d}catch(a){c.styleSheet.cssText=(g?c.styleSheet.cssText:"")+d}},isButton:function(c){return void 0!=c&&null!=c?"submit"==c.type||"button"==c.type:!1},isRadio:function(c){return c&&"INPUT"==c.tagName&&"radio"==c.type},editControls:{text:!0,password:!0,color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,number:!0,search:!0,url:!0,
tel:!0,month:!0,week:!0},isEditControl:function(c){return c&&"INPUT"==c.tagName?this.editControls[c.type]||!1:!1},isTextControl:function(c){return c&&"INPUT"===c.tagName&&"text"===c.type||"TEXTAREA"===c.tagName},isDateControl:function(c){return"date"==c.type||"datetime"==c.type||"datetime-local"==c.type},isButtonLike:function(c){return c?this.isButton(c)||gx.dom.hasAttribute(c,gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR)?!0:c&&"INPUT"===c.nodeName?"file"===c.type||("image"===c.type||"checkbox"===c.type)&&
"function"==typeof c.onclick:!1:!1},iFrameDoc:function(c){try{if(c.contentDocument)return c.contentDocument;if(c.contentWindow)return c.contentWindow.document}catch(d){}return null},forEachChild:function(c,d,g){if(c&&c.childNodes&&"function"==typeof g)for(var a=c.childNodes.length,b=0;b<a&&!1!==g.call(d,c.childNodes[b]);b++);},isTextWithLink:function(c){return null!=c&&"A"==c.tagName&&c.childNodes&&0<c.childNodes.length&&this.innerChildIsText(c.firstChild)?!0:!1},isImageWithLink:function(c){return c&&
"A"===c.tagName&&c.href&&(c=c.firstElementChild,!gx.dom.hasClass(c,"gx-prompt")&&c&&"IMG"===c.tagName)?!0:!1},isChildNode:function(c,d){c.frameElement&&(c=c.frameElement);if(c==d)return!0;for(;c.parentNode;){if(c==d||c.parentNode==d)return!0;c=c.parentNode}return!1},NodeLevel:function(c){for(var d=0;c.parentNode;)(c.id||c.name)&&d++,c=c.parentNode;return d},findRadioContainer:function(c){return c.parentNode&&"SPAN"==c.parentNode.tagName?c.parentNode:gx.dom.findParentByTagName(c,"table")||gx.dom.findParentByTagName(c,
"span")||c.parentNode},findParentByTagName:function(c,d,g){c=c.parentNode;d=d.toUpperCase();for(i=0;c&&(!g||i!=g);){i++;if(c.tagName==d)return c;c=c.parentNode}},innerChildIsText:function(c){for(;null!=c;){if(c.nodeName&&"#text"==c.nodeName)return!0;c=c.firstChild}return!1},allChildrenAreText:function(c){for(c=c.firstChild;c;){var d=c.nodeName.toLowerCase();if("#text"!==d&&"pre"!==d&&null!=c.offsetParent)return!1;c=c.nextSibling}return!0},position:function(c){c=l(c).offset();return{x:Math.floor(c.left),
y:Math.floor(c.top)}},dimensions:function(c){c=l(c);return{w:c.outerWidth(),h:c.outerHeight()}},windowDimensions:function(c){var d=c.documentElement;c=c.body;return d&&d.scrollHeight?{scrollWidth:Math.max(d.scrollWidth,c.scrollWidth),scrollHeight:Math.max(d.scrollHeight,c.scrollHeight),clientHeight:Math.max(d.clientHeight,c.clientHeight),clientWidth:Math.max(d.clientWidth,c.clientWidth)}:{scrollWidth:c.scrollWidth,scrollHeight:c.scrollHeight,clientHeight:c.clientHeight,clientWidth:c.clientWidth}},
documentScroll:function(c){c=c||document;var d=-1,g=-1;try{d=c.documentElement.scrollTop||c.body.scrollTop,g=c.documentElement.scrollLeft||c.body.scrollLeft}catch(a){}return{scrollTop:d,scrollLeft:g}},documentScrollable:function(c){c=c||document;var d={x:!1,y:!1};c=gx.dom.windowDimensions(c);c.scrollHeight>c.clientHeight&&(d.x=!0);c.scrollWidth>c.clientWidth&&(d.x=!0);return d},autofitIFrame:function(c){c=gx.evt.source(window.event||c);var d=window.frames[c.name].document;if(d&&""==c.width&&""==c.height){var g=
gx.dom.windowDimensions(d);d=g.scrollWidth?g.scrollWidth+10:null;g=g.scrollHeight?g.scrollHeight+10:null;d&&g&&(c.style.width=d+"px",c.style.height=g+"px")}},fitToParent:function(c){if(!gx.util.browser.isIE()&&c&&c.childNodes){for(var d=null,g=c.childNodes.length,a=0;a<g;a++){var b=c.childNodes[a];if("TABLE"==b.nodeName){d=b;break}}null!=d&&(-1!=d.style.width.indexOf("%")&&(c.style.width=gx.dom.addUnits(d.style.width)),-1!=d.style.height.indexOf("%")&&(c.style.height=gx.dom.addUnits(d.style.height)))}},
redrawControl:function(c){!gx.util.browser.isIE()||6<=gx.util.browser.ieVersion()?gx.html.setOuterHtml(c,c.outerHTML):setTimeout(function(){gx.html.setOuterHtml(c,c.outerHTML)},100)},setCaretPosition:function(c,d){null!=c&&(c.createTextRange?(c=c.createTextRange(),c.move("character",d),c.select()):c.selectionStart?(c.focus(),c.setSelectionRange(d,d)):c.focus())},replaceAtCaretPosition:function(c,d){if(document.selection){var g=document.selection.createRange().getBookmark();c.selection=c.createTextRange();
c.selection.moveToBookmark(g);c.selectLeft=c.createTextRange();c.selectLeft.collapse(!0);c.selectLeft.setEndPoint("EndToStart",c.selection);g=c.selectLeft.text.length+1;var a=c.selectLeft.text.length+(0==c.selection.text.length?1:c.selection.text.length)}else g=c.selectionStart,a=c.selectionEnd;c.setRangeText?c.setRangeText(d,g,a,"end"):(c.value=c.value.substr(0,g)+d+c.value.substr(g,c.value.length),gx.dom.setCaretPosition(c,g+d.length))},spanValue:function(c){var d=c.nodeValue;gx.lang.emptyObject(d)&&
(d=c.innerText||c.textContent);gx.lang.emptyObject(d)&&(d="");return d},removeControlSafe:function(c){gx.dom.shouldPurge()?(this._avoidLeaksDiv||(this._avoidLeaksDiv=document.createElement("DIV")),this._avoidLeaksDiv.appendChild(c),gx.dom.purge(this._avoidLeaksDiv),this.removeControl(this._avoidLeaksDiv),this._avoidLeaksDiv=null):this.removeControl(c)},removeControl:function(c){if(null==document.createRange)c.removeNode(!0);else{var d=document.createRange();c&&(d.selectNode(c),d.deleteContents())}},
radioToObj:function(c,d){d={s:"",v:[]};if(!c)return d;if(gx.dom.isRadio(c)){d.s=c.value;c=gx.dom.byName(c.name);for(var g=c.length,a=0;a<g;a++){var b=l(c[a]),f=l("label[for='"+c[a].id+"']").first();d.v.push([b.val(),f.text().trim()])}}return d},comboBoxToObj:function(c,d){try{var g={s:"",v:[]};if(!c)return g;if("SELECT"===c.tagName){g.s=c.value;var a=c.options.length;for(d=0;d<a;d++){var b=l(c.options[d]);g.v.push([b.val(),b.text()])}}else if("SPAN"===c.tagName){if(c.hasAttribute(gx.GxObject.GX_DATA_RAW_VALUE_ATTR))return gx.json.evalJSON(c.getAttribute(gx.GxObject.GX_DATA_RAW_VALUE_ATTR));
var f=gx.fn.getControlValue_span(c);g.v.push([d,f]);g.s=d}return g}catch(k){gx.dbg.logEx(k,"gxapi.js","comboBoxToObj")}return null},unitPattern:/\d+(px|em|%|en|ex|pt|in|cm|mm|pc|s|ch|rem|vh|vw|vmin|vmax|q)$/i,addUnits:function(c,d){return""===c||"auto"==c?c:void 0===c?"":"number"!=typeof c&&this.unitPattern.test(c)?c:c+(d||"px")},getScrollbarWidth:function(){var c=document.createElement("div"),d=c.style;d.display="block";d.position="absolute";d.width="100px";d.height="100px";d.left="-999px";d.top=
"-999px";d.overflow="scroll";document.body.insertBefore(c,null);d=c.clientWidth;if(0===d)document.body.removeChild(c);else return document.body.removeChild(c),100-d},getActiveElement:function(c){c=c||document;try{var d=c.activeElement;d&&d.nodeName||(d=c.body)}catch(g){d=c.body}return d},getCaretOffset:function(c){return c&&"INPUT"===c.tagName&&"text"===c.type&&"undefined"!==typeof c.selectionStart?{s:c.selectionStart,e:c.selectionEnd}:{s:0,e:0}},setCaretOffset:function(c,d){c&&"INPUT"==c.tagName&&
"text"==c.type&&c.setSelectionRange&&c.setSelectionRange(d.s,d.e)},write:function(c,d){d=d||document;d.write(c)},writeError:function(c,d,g,a){gx.dbg.write(c);a=a||document;a.head.innerHTML="";a.body.innerHTML=c},MASK_CLASS:"gx-mask",UNMASK_CLASS:"gx-unmask",MASK_RELATIVE_CLASS:"gx-masked-relative",MASK_ZINDEX:2,MASKED_CLASS:"gx-masked",isMaskElement:function(c){return this.hasClass(c,this.MASK_CLASS)},mask:function(c,d){d=d||0;if((c=this.el(c))&&!this.hasClass(c,this.MASK_RELATIVE_CLASS)){var g=gx.util.browser,
a=g.ieVersion(),b=6==a||g.isIE&&g.isCompatMode(),f=!!c.style.setExpression,k=l(c);k.css("caret-color","transparent");k.is("body")&&"static"==this.getComputedStyle(c).position||this.addClass(c,this.MASK_RELATIVE_CLASS);var m=document.createElement("div");m.className=this.MASK_CLASS;m.style.zIndex=this.MASK_ZINDEX;if("TABLE"==c.tagName){var q=l(m);k=l(c);q.width(k.width());q.insertAfter(k);q.parent().addClass(this.MASK_RELATIVE_CLASS)}else c.appendChild(m);try{m.style.animationDelay=d/2+"ms",m.style.webkitAnimation=
d/2+"ms"}catch(w){}this.addClass(c,this.MASKED_CLASS);if(b&&f)try{m.style.setExpression("height","this.parentNode."+(c==document.body?"scrollHeight":"offsetHeight")+' + "px"')}catch(w){}else c=this.getComputedStyle(c).height,g.isIE&&(7!=g.ieVersion||g.isCompatMode())&&"auto"==c&&(m.style.height=c);g.isIE()&&(7>=a||g.isCompatMode())&&(l(m),(g=this.getComputedStyle(m).opacity)&&l(m).css("opacity",g));return m}},unmask:function(c){c=this.el(c);var d;l(c).css("caret-color","");if("TABLE"==c.tagName){var g=
c.nextSibling;g&&"DIV"==g.tagName&&this.hasClass(g,this.MASK_CLASS)&&(d=g)}else{g=0;for(var a=c.childNodes.length;g<a;g++)if("DIV"==c.childNodes[g].tagName&&this.hasClass(c.childNodes[g],this.MASK_CLASS)&&!this.hasClass(c.childNodes[g],this.UNMASK_CLASS)){d=c.childNodes[g];break}}d&&!d.removed?(d.removed=!0,d.style.clearExpression&&(d.style.clearExpression("width"),d.style.clearExpression("height")),this.removeClass(c,this.MASKED_CLASS),g=gx.dom.hasTransition(d)?gx.dom.TRANSITION_END_EVENT:gx.dom.hasAnimation(d)?
gx.dom.ANIMATION_END_EVENT:!1,a=function(){"TABLE"==c.tagName?d.parentNode&&(gx.dom.removeClass(d.parentNode,this.MASK_RELATIVE_CLASS),d.parentNode.removeChild(d)):d.parentNode==c&&c.removeChild(d);gx.dom.removeClass(c,this.MASK_RELATIVE_CLASS)}.closure(this),g?gx.evt.attach(d,g,a,!1,{single:!0,useCapture:!0,timeout:300}):a(),this.addClass(d,this.UNMASK_CLASS)):(this.removeClass(c,this.MASKED_CLASS),this.removeClass(c,this.MASK_RELATIVE_CLASS))},replaceWithFx:function(c,d,g){g=g||{};var a=g.enteringClass||
"entering",b=g.leavingClass||"leaving",f=g.enterDurationClass||"enter-fx-duration",k=g.leaveDurationClass||"leave-fx-duration",m=g.transitioningClass||"transitioning",q=g.transitionTimeout||1500,w=function(P){return 0<P.childNodes.length&&(gx.dom.hasAnimation(P)||gx.dom.hasTransition(P))&&!gx.dom.hasClass(P.parentNode,m)},p=function(P){return gx.dom.hasAnimation(P)?gx.dom.ANIMATION_END_EVENT:gx.dom.hasTransition(P)?gx.dom.TRANSITION_END_EVENT:!1};"BODY"==c.tagName&&(gx.dom.addClass(c,c.className+
"-fx"),c.style.position="static");"BODY"==d.tagName&&gx.dom.addClass(d,d.className+"-fx");var t=c.parentNode,z=w(c),r=w(d),u="BODY"!=c.tagName;if(z||r){w=document.createElement("iframe");var x=document.createElement("div"),E=this.getComputedStyle(c),F=E.width;E=E.height;var G=p(c),n=p(d),v,y,B,C,I,L=0;gx.dom.addClass(t,m);if("BODY"!=c.tagName&&"BODY"!=d.tagName)if(z){w.setAttribute("scrolling","no");w.setAttribute("frameborder","0");w.style.width=gx.dom.addUnits(window.innerWidth);w.style.height=
gx.dom.addUnits(window.innerHeight);w.style.display="none";x.appendChild(w);x.style.width=F;x.style.height=E;x.style.overflow="hidden";gx.spa.dettachContent(c);c.insertBefore(x,c.firstChild);p=w.contentDocument;try{p.open(),p.write(this.getDocTypeDeclaration(document)),p.write("<html>"),p.write("<head></head>"),p.write("<body><div></div></body>"),p.write("</html>"),p.close()}catch(P){gx.dbg.logEx(P,"gxapi.js","replaceWithFx"),x=p.createElement("div"),p.body.appendChild(x)}p.documentElement&&(p.documentElement.className=
"gx-fx-iframe");p.body.style.margin="0";p.body.className=gx.dom.form().className;p.head.appendChild(document.createElement("style"));var M=p.styleSheets[0];x=gx.dom.getCssRules(!0,!0);var N=[];x=x.filter(function(P,X){if(P.includes("@import"))return P;N.push(P)});var R=function(P){P.forEach(function(X){try{M.insertRule(X,M.cssRules.length)}catch(W){gx.dbg.write("Warning: CSS Stylesheet rule not loaded:"+X)}})};R(x);R(N);p.body.firstChild.style.width=F;for(p.body.firstChild.style.height=E;c.childNodes[1];)p.body.firstChild.appendChild(c.childNodes[1]);
w.style.display="block"}else r&&(c.style.display="none");gx.dom.addClass(d,a);gx.dom.addClass(d,f);gx.dom.addClass(c,k);!1!==g.domAdd&&t.appendChild(d);k=function(){B=function(){2===L?(gx.dom.removeClass(t,m),u&&(g.transitionEndCallback&&(d=g.transitionEndCallback(c,d)),!1!==g.domRemove&&c.parentNode==t&&t.removeChild(c)),gx.dom.removeClass(d,f)):u||(g.transitionEndCallback&&(d=g.transitionEndCallback(c,d)),gx.dom.removeClass(d,a),r&&(I=setTimeout(y,q)))};z?(v=function(){clearTimeout(C);L++;g.leavingTransCallback&&
g.leavingTransCallback(c,d);B()},gx.evt.attach(c,G,v,!1,{single:!0,useCapture:!0})):(L++,B());r?(y=function(){2<=L?gx.evt.detach(d,n,y):(clearTimeout(I),L++,g.enteringTransCallback&&g.enteringTransCallback(c,d),B())},gx.evt.attach(d,n,y,!1,{single:!0,useCapture:!0})):(L++,B());gx.lang.requestAnimationFrame(function(){gx.dom.addClass(c,b);u&&(gx.dom.removeClass(d,a),r&&(I=setTimeout(y,q)));z&&(C=setTimeout(v,q))})};g.beforeTransitionStart?!0!==g.beforeTransitionStart(k)&&k():k()}else!1!==g.domRemove&&
t.removeChild(c),!1!==g.domAdd&&(c.parentNode==t?t.replaceChild(d,c):t.appendChild(d)),g.beforeTransitionStart&&g.beforeTransitionStart(),g.leavingTransCallback&&g.leavingTransCallback(c,d),g.enteringTransCallback&&g.enteringTransCallback(c,d),g.transitionEndCallback&&(d=g.transitionEndCallback(c,d))},getDocTypeDeclaration:function(c){c=c||document;c=c.doctype;parts=["!DOCTYPE"];if(!c)return"";parts.push(c.name||"html");c.publicId&&(parts.push("PUBLIC"),parts.push('"'+c.publicId+'"'));c.systemId&&
parts.push('"'+c.systemId+'"');return"<"+parts.join(" ")+">"},createShadowRoot:function(c){c=this.el(c);return c.createShadowRoot?c.createShadowRoot():c.webkitCreateShadowRoot?c.webkitCreateShadowRoot():!1},fixes:function(){var c=/gx-tab-padding-fix-\d+/ig,d=/gx-tab-spacing-fix-\d+/ig,g={},a={},b,f,k,m={center:{marginLeft:"auto",marginRight:"auto",className:"gx-center-align",alignment:"center"},right:{marginLeft:"auto",marginRight:0,className:"gx-right-align",alignment:"right"},left:{marginLeft:0,
marginRight:"auto",className:"gx-left-align",alignment:"left"}};return{resetFixesStyleElement:function(){g={};a={};l("#gx-dom-fixes").empty()},getFixesStyleElement:function(){var q=l("#gx-dom-fixes")[0];if(!q){q=document.createElement("style");q.id="gx-dom-fixes";var w=gx.getThemeElement();l("head")[0].insertBefore(q,w);gx.util.browser.isIE()&&l(w).insertAfter(q)}return q},html5:function(q){var w=gx.util.browser,p=w.isIE(),t=gx.O.DSO?["@layer gx-dom-fixes {"]:[];l("TABLE",q||document.body).each(function(){var r=
l(this);r.attr({align:r.data("align")})});if(!q){if(!k){for(z in m)gx.lang.apply(m[z],{wcClassName:gx.GxObject.WEBCOMPONENT_CLASS_NAME,wcBodyClassName:gx.GxObject.WEBCOMPONENT_BODY_CLASS_NAME,contHolderClassName:"gx-content-placeholder",contHolderBodyClassName:"gx-ct-body",elements:[{el:"p"},{el:"table"},{el:"div"},{el:"fieldset",last:!0}]});k=".{{className}} {text-align:{{alignment}};}{{#elements}}.{{className}} > {{el}},.{{className}} > div.{{contHolderClassName}} > div.{{contHolderBodyClassName}} > {{el}}, .{{className}} > div.{{wcClassName}} > div.{{wcBodyClassName}} > {{el}}{{^last}},{{/last}}{{/elements}}{margin-left:{{marginLeft}};margin-right:{{marginRight}};}";
Mustache.parse(k)}for(z in m)t.push(Mustache.render(k,m[z]));gx.O.DSO&&t.push("}");var z=this.getFixesStyleElement();gx.dom.setStyleElement(z,t.join(""),!0)}(p||w.isOpera())&&l("td[data-align]",q||document.body).each(function(){var r=l(this),u=r.attr("data-align").toLowerCase(),x=m[u].className,E=r.attr("class")||"";E&&(E=" "+E);r.attr("align",u);r.hasClass(x)||r.attr("class",x+E);r.children("div."+m[u].contHolderClassName).children("div."+m[u].contHolderBodyClassName).addClass(x);r.children("div."+
m[u].wcClassName).children("div."+m[u].wcBodyClassName).addClass(x)})},setPopupMinWidth:function(){var q=gx.popup.getPopup();if(q){var w=!0;if(gx.runtimeTemplates){try{w=window.parent.gx.runtimeTemplates}catch(p){}w||(w=this.getPopupMinWidth(),l(document.documentElement).css("min-width",gx.dom.addUnits(w)));l(document.documentElement).addClass("gx-popup-document")}(q.autoresize||void 0===q.autoresize)&&l(document.documentElement).css("height","auto")}},getPopupMinWidth:function(){var q=gx.popup.getPopup(),
w=p;if(!q)return w;w=q.width;if(q.autoresize||void 0===q.autoresize){var p=600;q=l(q.window).width();w=800;1200<=q&&(w=900);768<=q&&992>q&&(w=p);768>q&&(w=q-20)}return w},fixTableResets:function(q){var w=[],p=[],t=this.getFixesStyleElement();b||(b="{{#.}}.gx-tab-padding-fix-{{.}}{padding:{{.}}px}{{/.}}",Mustache.parse(b));f||(f="{{#.}}.gx-tab-spacing-fix-{{.}}{border-collapse:separate; border-spacing:{{.}}px}{{/.}}",Mustache.parse(f));l("table[data-cellpadding], table[data-cellspacing]",q||document.body).each(function(){var z=
this.getAttribute("data-cellpadding");void 0!==z&&(g[z]||(g[z]=z,w.push(z)),l("tbody > tr > td, tbody > tr > th, tr > td, tr > th",this).each(function(){this.className="gx-tab-padding-fix-"+z+" "+this.className.replace(c,"").trim()}));var r=this.getAttribute("data-cellspacing");void 0!==r&&(a[r]||(a[r]=r,p.push(r)),this.className="gx-tab-spacing-fix-"+r+" "+this.className.replace(d,"").trim())});q=""+Mustache.render(b,w)+Mustache.render(f,p);0<q.length&&(gx.O.DSO?gx.dom.setStyleElement(t," @layer gx-dom-fixes { "+
q+" }",!0):gx.dom.setStyleElement(t,q,!0))},createLegacyNotification:function(){l("div#gx_ajax_notification").length||l('<div id="gx_ajax_notification" style="display:none;"></div>').appendTo(document.body)}}}(),_deinit:function(){this._form=null;null!=this._avoidLeaksDiv&&(gx.dom.shouldPurge()&&gx.dom.purge(this._avoidLeaksDiv),this._avoidLeaksDiv=null);window&&(window.__objs=null,window.__funs=null,window.__args=null)},element_in_scroll:function(c,d){var g=l(d)[0].offsetTop-l(c)[0].offsetTop-l(c).scrollTop();
return c&&l(d)[0]?g<l(c).height():!1}}}(gx.$);$.extend(gx.dom,gx.dom_i);
gx.evt_i=function(l){return{eachKeyAutorefreshType:function(c){return!gx.lang.isNumericType(c)&&!gx.lang.isDateType(c)},waitGridRefresh:function(c){gx.evt.refreshGridCallback instanceof Array?gx.evt.refreshGridCallback.push(c):c.call()},notifyRefreshGrid:function(){if(gx.evt.refreshGridCallback&&gx.evt.refreshGridCallback instanceof Array){for(;0<gx.evt.refreshGridCallback.length;){var c=gx.evt.refreshGridCallback.pop();"function"==typeof c&&c.call()}gx.evt.refreshGridCallback=void 0}},clearHooks:function(){for(var c=
this.hooks.length,d=0;d<c;d++){var g=this.hooks[d];try{this.detach(g.c,g.e,g.f),g.c=null,g.f=null}catch(a){gx.dbg.logEx(a,"gxapi.js","clearHooks")}this.hooks[d]=null}this.hooks=[]},source:function(c){return c.target||c.currentTarget||c.srcElement},createEvent:function(c,d,g,a){d=void 0===d?!0:d;g=void 0===g?!0:g;a=a||{};if(window.CustomEvent)var b=new CustomEvent(c,{bubbles:d,cancelable:g,detail:a});else b=document.createEvent("CustomEvent"),b.initCustomEvent(c,d,g,a);return b},dispatch:function(c,
d){return c.dispatchEvent?c.dispatchEvent(d):c.fireEvent("on"+d.type,d)},fireEvent:function(c,d){gx.evt.dispatch(c,gx.evt.createEvent(d))},detach:function(c,d,g,a){try{if(a=a||{},"string"==typeof d)c.removeEventListener?c.removeEventListener(d,g,a.useCapture||!1):c.detachEvent?c.detachEvent("on"+d,g):c["on"+d]=null;else if(gx.lang.isArray(d))for(var b=0,f=d.length;b<f;b++)this.detach(c,d[b],g,a)}catch(k){gx.dbg.logEx(k,"gxapi.js","detach")}},stopPropagation:function(c){c&&(c.stopPropagation?c.stopPropagation():
c.cancelBubble=!0)},cancel:function(c,d){if(d&&gx.util.browser.isIE()&&typeof("undefined"!=c.keyCode))try{c.keyCode=0}catch(g){}"undefined"==typeof c.preventDefault?(c.cancelBubble=d,c.returnValue=!d):d&&(c.preventDefault(),c.stopPropagation())},checkCtrlFocus:function(c){try{if(gx.evt.fixWebKitOnFocus()&&"button"==c.type&&gx.fn.isAccepted(c)&&void 0!=c.onfocus)c.onfocus()}catch(d){gx.dbg.logEx(d,"gxapi.js","checkCtrlFocus")}},doClick:function(c,d){if(gx.isInputEnabled()&&(d=gx.evt.source(d),"button"!=
d.type&&"submit"!=d.type&&(c=gx.dom.el(c),gx.fn.isAccepted(c)))){if(void 0!=c.onfocus)c.onfocus();if(void 0!=c.onclick)c.onclick();"INPUT"==c.nodeName&&"submit"==c.type&&gx.dom.form().submit()}},executeOnblur:function(c,d){var g=gx.csv.lastId,a=gx.O.focusControl;gx.O.focusControl=c;this.onblur(d,gx.O.focusControl);gx.O.focusControl=a;gx.csv.lastId=g},onblur:function(c,d){if(gx.O&&!0!==gx.csv.IgnoreBlur){c=gx.fn.controlRowId(c);gx.csv.lastId=d;gx.O.GXLastCtrlId===d&&window.event&&null===window.event.relatedTarget&&
(gx.csv.ExecutingOnBlur=!0,gx.csv.validControls(d,d+1,!0,gx.O),gx.csv.ExecutingOnBlur=!1);try{var g=gx.fn.validStruct(d);g&&null!=g.gxgrid&&g.gxgrid.updateControlValue(g,!1,c);var a=gx.csv.lastControl;if(a){var b=a.getAttribute("maxlength");0<b&&a.value.length>b&&(a.value=a.value.substring(0,b));if(g&&"bits"==g.type&&0==g.ro){var f=gx.fn.getControlGridRef(g.fld,g.gxgrid?g.gxgrid.gridId:"");gx.util.browser.isWebkit()&&0>a.id.indexOf(g.fld)&&(a=f);var k=gx.html.multimediaUpload.getContainer(f);gx.html.multimediaUpload.refreshPreviewImg(k,
a)}}}catch(m){gx.dbg.logEx(m,"gxapi.js","onblur")}}},onfocus:function(){var c=function(){var d=l.Deferred();gx.fx.obs.notify("gx.onbeforefocus",arguments);gx.evt.onfocus_impl.apply(gx.evt,arguments).then(function(){gx.fx.obs.notify("gx.onafterfocus");d.resolve()});return d.promise()};!0===gx.evt.is_button_mouse_event||gx.fx.delayedValidation?gx.fx.obs.addObserver("gx.validation",this,c.closure(this,arguments),{single:!0,async:!0}):c.apply(gx.evt,arguments)},onfocus_impl:function(c,d,g,a,b,f,k){var m=
l.Deferred();b=gx.fn.controlRowIndex(c)||b;try{gx.grid.clearActiveGrid();if(gx.spa.isNavigating())return m.resolve(!1).promise();gx.evt.setReady(!1,"onfocus_impl");if(!gx.fn.checkPopupFocus(c))return gx.evt.setReady(!0,"onfocus_impl"),m.resolve(!1).promise();var q=!1;gx.csv.cmpCtx!=g&&(q=!0,gx.O.fromValid=0);gx.setGxO(g,a);gx.fn.refreshControlOldValue(c);q&&gx.fn.changeCmpContext();gx.fn.initOld(c);try{null!=gx.grid.lastFocusCtrl&&(gx.csv.lastId=gx.grid.lastFocusCtrl,gx.grid.lastFocusCtrl=null)}catch(n){gx.dbg.logEx(n,
"gxapi.js","onfocus")}gx.csv.rowChanged=!1;gx.csv.lastControl=c;0!=f&&""==b||gx.fn.setCurrentGridRow(f,b);gx.fx.installSuggest(c);var w=!1;if(gx.csv.lastGrid!=f){gx.csv.lastRow[f]=null;if(!k){if(gx.csv.lastGrid<f){var p=gx.fn.firstGridControl(f);gx.O.fromValid>p&&(gx.O.fromValid=p)}gx.csv.lastGrid=f}w=!0}0<d&&(gx.O.focusControl=d);if(gx.csv.disableFocus)return gx.csv.disableFocus=!1,gx.evt.setReady(!0,"onfocus_impl"),m.resolve(!0).promise();if(!gx.csv.onloadFocus)try{gx.fx.ctx.notify(c)}catch(n){gx.dbg.logEx(n,
"gxapi.js","onfocus")}try{var t=gx.fn.getControlValue("Mode");if("DLT"==t||"DSP"==t||gx.O.isTransaction()&&gx.dom.isButton(c)&&!gx.evt.isEnterEvtCtrl(c)&&!gx.evt.isCheckEvtCtrl(c)&&!k)return gx.evt.setReady(!0,"onfocus_impl"),m.resolve(!0).promise()}catch(n){gx.dbg.logEx(n,"gxapi.js","onfocus")}if(gx.O.isTransaction()&&c.gxdisabled&&null!=gx.csv.lastControl){cn=gx.fn.getControlIndex(c)+1;if(-1!=cn&&(NextFocus=gx.fn.searchFocusFwd(cn),null!=NextFocus))return gx.fn.setFocus(NextFocus),gx.evt.setReady(!0,
"onfocus_impl"),m.resolve(!0).promise();gx.fn.setFocus(gx.csv.lastControl);gx.evt.setReady(!0,"onfocus_impl");return m.resolve(!0).promise()}if(gx.csv.invalidForcedCtrl){var z=gx.fn.setFocusOnError(gx.csv.invalidForcedCtrl.Ctrl.id);gx.csv.invalidForcedCtrl=null;if(z)return gx.evt.setReady(!0,"onfocus_impl"),m.resolve(!0).promise()}if(null!=gx.csv.invalidControl&&gx.csv.invalidControl!=c&&gx.O.focusControl>=gx.csv.invalidId&&gx.csv.invalidControl==c)return gx.csv.validate(gx.csv.invalidControl,gx.csv.invalidId,
!1,gx.O,b).done(function(n){n&&(gx.csv.invalidControl=null,gx.evt.setReady(!0,"onfocus_impl"));m.resolve(!0)}),m.promise();k?(gx.O.fromValid=gx.fn.firstGridControl(gx.csv.lastGrid),gx.O.toValid=gx.fn.firstCtrlAfterGrid(gx.O.fromValid,gx.csv.lastGrid),gx.O.focusControl=gx.O.toValid):(gx.O.toValid=gx.O.focusControl,gx.O.focusControl<gx.O.fromValid&&(gx.O.fromValid=gx.O.focusControl));void 0==gx.csv.lastRow[f]||gx.csv.lastRow[f]==b||w||gx.O.fromValid!=gx.O.toValid||(gx.csv.lastId=gx.O.fromValid);var r=
gx.fn.controlIds();0<r.length&&gx.O.fromValid<r[0]&&(gx.O.fromValid=r[0]);gx.lang.emptyObject(gx.csv.lastRow[f])&&0!=f&&(gx.csv.rowChanged=!0,gx.csv.lastRow[f]=b);var u=gx.O,x=gx.csv.lastId,E=gx.fn.validStruct(x,u);if(E)var F=gx.csv.lastRow[E.grid];gx.csv.checkRowChange(x,w,u,F).done(function(n){var v=!1,y=!1,B=function(){null==gx.csv.invalidControl&&c===document.activeElement&&("SELECT"===c.nodeName||gx.dom.isTextControl(c)&&c.selectionStart===c.selectionEnd)&&gx.fn.setSelection(c);gx.csv.disableFocusCondition();
m.resolve(!0)};!gx.lang.emptyObject(F)&&!gx.lang.emptyObject(b)&&F.length>b.length&&(v=F.substring(F.length-b.length),v=parseInt(v)<parseInt(b));gx.csv.backwardGridValidation&&(!gx.lang.emptyObject(F)&&!gx.lang.emptyObject(b)&&F.length==b.length&&parseInt(F)>parseInt(b)&&(y=u.focusControl>gx.fn.firstGridControl(f)),!gx.lang.emptyObject(F)&&!gx.lang.emptyObject(b)&&F.length==b.length&&parseInt(F)<parseInt(b)&&(y=u.focusControl<x&&u.focusControl>gx.fn.firstGridControl(f)));n&&null==gx.csv.invalidControl&&
y?(u.fromValid=gx.fn.firstGridControl(f),gx.csv.validControls(u.fromValid,u.focusControl,!0,gx.O)):n&&!w||!(u.focusControl>=x||v)?(u.toValid=u.focusControl,B()):(gx.fn.lastMainLevelCtrlId(x,f)&&(n=gx.fn.getControlRefById(x))&&1===n.getAttribute(gx.csv.GX_VALID_ATTRIBUTE)&&(u.fromValid=x+1),gx.csv.validateAll(u).done(B))});if(f&&b){var G=gx.O.getGridById(f,b);G&&G.allowSelection&&G.setSelection(parseInt(b,10)-1)}gx.evt.setReady(!0,"onfocus_impl");return m.promise()}catch(n){gx.dbg.logEx(n,"gxapi.js",
"onfocus")}gx.evt.setReady(!0,"onfocus_impl");return m.resolve(!1).promise()},userOnload:function(){try{"function"==typeof window.GXOnloadUsr&&GXOnloadUsr()}catch(c){gx.dbg.logEx(c,"gxapi.js","userOnload")}},onload:function(){gx.objectLoad().done(function(){gx.spa.start({listeners:{onnavigatestart:function(){gx.dom.addClass(document.body,"gx-spa-navigating")},onnavigate:function(){gx.dom.removeClass(document.body,"gx-spa-navigating")},onbeforesend:function(c,d,g){gx.pO.MasterPage&&c.req.setRequestHeader(g,
gx.pO.MasterPage.ServerClass)},onbeforeprocessresponse:function(c,d,g,a,b,f){gx.reinit(!f)},oncontentreplace:function(c,d,g,a,b,f,k,m){c=gx.lang.getType(a);f=(f=f==k?f:k)?gx.lang.getType(f.toLowerCase()):!1;var q=gx.ajax.getJsonResponse();q&&gx.fn.setJsonHiddens(null,q.gxHiddens,!1);c.prototype=new gx.GxObject;gx.setParentObj(new c);m?gx.setMasterPage(b):f&&gx.setMasterPage(new f);gx.ajax.clearJsonResponse();q?gx.ajax.setJsonResponse({response:q,isPostBack:!1,afterCmpLoaded:function(){m&&(b.restoreTargetComponents(),
b.restoreExoEventHandlers());gx.objectLoad(q.gxGrids,q.gxHiddens).done(function(){gx.pO.SetStandaloneVars()})},gxObject:gx.O}):gx.objectLoad()}}});gx.livePrevWS._init()})},onunload:function(c){gx.objectUnload(c);gx.spa.stop()},onclick:function(c){var d={event:c};gx.fx.obs.notify("gx.onclick",[d]);d.cancel||(gx.evt.setReady(!1,"onclick"),gx.isInputEnabled(c)||gx.evt.cancel(c,!0),gx.evt.mouse.update(c),setTimeout(function(){gx.fx.ctx.notify()},10),gx.evt.setReady(!0,"onclick"))},ontouchstart:function(c){c=
gx.evt.onmousedown.closure(this,[c]);gx.dom.documentScrollable().x||gx.dom.documentScrollable().y?gx.evt.touchTimer=window.setTimeout(c,150):c()},onmousedown:function(c){var d=window.event||c,g=gx.evt.source(d);if(g&&8>=gx.util.browser.ieVersion()&&l(g).is("shape"))return!1;gx.evt.is_button_mouse_event=gx.dom.isButtonLike(g);gx.evt.mouse.update(c);c=gx.fx.dnd;c.deleteClonControl();g=c.getSource(d);gx.dom.isMaskElement(d.target)||null==g||(gx.evt.cancel(d,!0),gx.setGxO(g.obj),c.drag(g.obj,g.types,
g.hdl))},onmousemove:function(c){gx.evt.mouse.update(c);var d=gx.fx.dnd;gx.util.browser.isIE();if(gx.popup.ispopup()&&gx.popup.ext.compatMode()){var g=gx.popup.ext;g.movepopup();if(null!=g.currIDb||null!=g.currRS)return!1}null!=d.obj&&(c=window.event||c,gx.evt.cancel(c,!0),null!=gx.fx.dnd.getTarget(c,d.obj.gxDragTypes)&&d.over(),d.moveControl(d.dragCtrl))},onmouseup:function(c){window.clearTimeout(gx.evt.touchTimer);gx.evt.is_button_mouse_event=!1;gx.evt.mouse.update(c);var d=gx.fx.dnd;if(null!=d.dragCtrl){var g=
window.event||c;g=d.getTarget(g,d.obj.gxDragTypes);null!=g?(d.deleteClonControl(),gx.setGxO(g.obj),d.drop(d.dropCtrl,g.obj,g.hdl)):d.restoreControl();g=window.event||c;gx.evt.cancel(g,!0)}d.out();d.dragCtrl=null;d.obj=null;gx.popup.ispopup()&&(gx.popup.ext.currRS=null)},ondblclick:function(c){gx.evt.mouse.update(c);var d=window.event||c;!gx.util.browser.isOldIE()&&gx.fx.dom.delayedDispatch(c)||gx.fx.dom.raiseEvent("dblclick",d)},onwindowblur:function(c){gx.fx.dnd.deleteClonControl()},checkMaxLength:function(c,
d,g){g=window.event||g;var a=gx.util.browser.isIE(),b=g.keyCode;if(a){if("keydown"==g.type&&229==b)return c.value.length<=d?c.ImeKey=!0:!1;if("keyup"==g.type&&8==b&&c.ImeKey&&c.value.length+1>=d)return c.value=c.value.substring(0,c.value.length-1),c.ImeKey=!1,!0}if("keyup"==g.type||a)return c.value.length+1<=d||8==b||9==b||46==b||35<=b&&40>=b},fireControlValueChange:function(c,d,g){var a=l.Deferred();if(!c||!d)return a.resolve();a=c.getValidStructFld(d);if(a&&a.evt_cvc){var b=gx.evt.startValidation(a.gxgrid);
gx.evt.stopPropagation(g);if(a.grid){gx.evt.setEventRow(c,d);var f=gx.fn.controlRowIndex(d)}gx.fn.disableKeys();return c[a.evt_cvc].call(c,f).always(function(){gx.evt.endValidation(b,gx.evt.types.VALUECHANGED);gx.fn.enableKeys()})}return l.Deferred().resolve()},fireControlValueChanging:function(c){var d=gx.fn.getControlContext(c)||gx.O,g=l.Deferred();if(!d||!c)return g.resolve();var a=d.getValidStructFld(c);if(a){var b=a.gxgrid&&a.gxgrid.isFreestyle,f=a.evt_cvcing&&!a.gxsgprm;if(f)var k=gx.evt.startValidation(a.gxgrid);
if(f||b)b=gx.O,gx.setGxO(d),"function"==typeof a.c2v&&a.c2v(),gx.fn.call_v2bc(a,d),gx.setGxO(b);if(f)return a.grid&&gx.evt.setEventRow(d,c),d[a.evt_cvcing].call(d).always(function(){gx.evt.endValidation(k,gx.evt.types.VALUECHANGING)})}return g.resolve()},oncontrolvaluechanging:function(c){var d=c.keyCode;8!=d&&32>d||33<=d&&46>d||112<=d&&123>=d&&121!=d||(c=gx.evt.source(c))&&gx.evt.fireControlValueChanging(c)},oncontrolpasting:function(c){(c=gx.evt.source(c))&&gx.lang.doCallTimeout(gx.evt.fireControlValueChanging,
gx.evt,[c],0)},onkeypress:function(c,d,g){if(c=c||window.event){var a=13===c.keyCode;27===c.keyCode&&gx.evt.shouldIgnoreEscKey()&&gx.evt.cancel(c,!0);var b=gx.fn,f=gx.util.browser;d={event:c,hasEnter:d,skipOnEnter:g,cancel:!1};if(27===c.keyCode&&gx.popup.ispopup())b.cancelWindow();else if(gx.fx.obs.notify("gx.keypress",[d]),!d.cancel){a&&!gx.isInputEnabled()&&this.cancel(c,!0);if(!gx.O||gx.O.isTransaction()&&"DSP"==gx.O.Gx_mode&&this.invalidDSPKey(c))return this.cancel(c,!0),!1;this.lastKey=c.keyCode;
this.shiftPressed=c.shiftKey;var k=c.ctrlKey;d=gx.evt.source(c)||gx.dom.getActiveElement()||gx.csv.lastControl;gx.evt.validKeypressForCtrl(d,c)||this.cancel(c,!0);9!==c.keyCode&&gx.csv.invalidateCtrl(d,c);if(!(this.isEnterEvtCtrl(d)&&this.isTriggerKey(c)&&this.cancelAndRefresh(c))&&(this.checkFuncKey(c,d),(32==c.charCode||32==c.keyCode||a&&!g)&&gx.dom.hasClass(d,"gx_newrow")&&l(d).find("span").trigger("click"),a&&g||!gx.grid.handleKeyPressEvt(c)))switch(c.keyCode){case 13:a=this.triggersEvt(d),g?
b.enterHasFocus()||this.shiftPressed&&"TEXTAREA"===d.nodeName||(k&&"TEXTAREA"===d.nodeName?(gx.dom.replaceAtCaretPosition(d,"\n"),this.cancel(c,!0)):(f.isIE()&&"file"!=d.type?(gx.evt.isEnterEvtCtrl(d)&&gx.O.executeEnterEvent(c,d),this.lastKey=9,c.keyCode=this.lastKey,this.cancel(c,!0),b.skipFocus(g,d)):(d.value&&f.isIE()&&"SELECT"!=d.tagName&&(f=d.value,d.value="",d.value=f),b.skipFocus(g),this.cancel(c,!0)),this.enter=!1)):a||gx.O.executeEnterEvent(c,d)}}}},onkeyup:function(c){var d=window.event?
window.event:c;c=gx.evt.source(d);var g=c.getAttribute("maxlength")||(c.getAttribute("max")?c.getAttribute("max").length:0),a="undefined"==typeof c.value?"":c.value;gx.evt.isComposing&&!d.isComposing&&gx.fx.obs.notify("gx.endcomposing");gx.evt.isComposing=d.isComposing;if(""==c.type&&9==d.keyCode||this.autoSkip&&""!=c.type&&!this.isControlKey(this.lastKey)&&a.length>=g&&0<g){if(!this.skipPromptCtrl)return;if(gx.dom.isTextWithLink(c)||gx.dom.isImageWithLink(c)){if(g=c.id||("A"==c.tagName&&c.parentNode?
c.parentNode.id:""))g=gx.O.getValidStructId(g),gx.evt.onfocus(c,g,"",!1,"",0);return}c=c.getAttribute("gxfocusable");if(null!=c&&"1"==c)return;c=gx.fn.getControlIndex(gx.csv.invalidControl?gx.csv.invalidControl:gx.csv.lastControl);if(-1==c)return!0;var b=gx.fn.searchFocus(this.shiftPressed?c-1:c+1,!this.shiftPressed);c=b.value;gx.fn.setFocus(b);gx.lang.doCallTimeout(function(f){d.isComposing&&(b.value=f)},this,[c],50)}gx.grid.handleKeyUpEvt(d)},shouldIgnoreEscKey:function(){var c=gx.popup.getPopup();
return gx.evt.processing||c&&"opening"==c.state},validKeypressForCtrl:function(c,d){if(!c||"text"!==c.type&&"number"!==c.type)return!0;var g=gx.O.getValidStructFld(c);if(g){var a=gx.rtPicture(g,c),b=gx.numericLenDec(a),f=b.Decimals;b=b.Integers;var k=g.type;g=c.value;if("int"==k||"decimal"==k){if("e"===d.key)return!1;a:{try{if(null!==c.selectionStart&&void 0!==c.selectionStart){var m=c.selectionEnd-c.selectionStart;break a}else if(window.getSelection){m=window.getSelection().toString().length;break a}}catch(q){}m=
void 0}if(void 0===m)return!0;if(gx.util.browser.isFirefox()&&"number"==c.type&&0===f)!c.gxoninput&&c.max&&c.min&&(c.gxoninput=!0,gx.evt.attach(c,"input",function(q){if(q.max&&q.min){var w=Number(q.value);if(w>q.max||w<q.min)q.value=q.value.substr(0,q.max.length)}}.closure(this,[c])));else{if(1<d.key.length)return!0;if(/[^\+\-\.,]/.test(d.key)&&/\D/.test(d.key)&&!d.ctrlKey&&isNaN(Number(d.key)))return!1;c=document.getSelection().toString();if(d.key===gx.thousandSeparator)return!0;if(d.key===gx.decimalPoint)return 0<
c.length&&gx.text.contains(c,d.key)?!0:!gx.text.contains(g,d.key);if(/[\+\-]/.test(d.key))return!gx.text.contains(g,d.key)||gx.text.contains(c,d.key);digits=g.split("").filter(function(q){return"0"<=q&&"9">=q}).length;g=gx.num.normalize_decimal_sep(a,gx.thousandSeparator,gx.decimalPoint,g);picinputs=b+(-1==g.indexOf(gx.decimalPoint)?0:f);return digits-m<picinputs}}}return!0},setEventRow:function(c,d){var g=gx.fn.rowGridId(d),a=g&&(gx.fn.controlRowId(d)||gx.fn.currentGridRowImpl(g)||"0001");g&&a&&
(void 0!=d.gxGridName&&gx.fn.setHidden(c.CmpContext+d.gxGridName.toUpperCase()+"_ROW",a),gx.evt.setCurrentGridRows(g,a));gx.csv.lastEvtRow=a},ctrlOnchange:function(c,d,g,a,b){gx.csv.pkDirty=g;"UPD"==c.value?"1"==d.value?(g?null!=a&&(a.value=gx.getMessage("GXM_captionadd")):null!=a&&(a.value=gx.getMessage("GXM_captionupdate")),d.value="0"):g&&null!=a&&(a.value=gx.getMessage("GXM_captionadd")):"INS"==c.value&&"1"==d.value&&(null!=a&&(a.value=gx.getMessage("GXM_captionadd")),d.value="0")},onchange:function(){var c=
function(){return gx.evt.onchange_impl.apply(gx.evt,arguments)};gx.fx.delayedValidation?gx.fx.obs.addObserver("gx.validation",this,c.closure(this,arguments),{single:!0,async:!0}):c.apply(gx.evt,arguments)},onchange_impl:function(c,d,g){if(gx.evt.fixWebKitOnFocus()&&"radio"===c.type)c.onfocus();var a=gx.fn.getControlContext(c)||gx.O,b=a.getValidStructFld(c),f=b&&b.hasRVFmt,k=l.Deferred();if(c.GXFormatError&&!f)k.resolve();else{gx.evt.setReady(!1,"onchange_impl");gx.evt.lastControl=c;f=gx.fn.getControlValue("radio"==
c.type?c.name:gx.dom.id(c));var m=!1,q=gx.O.focusControl,w=function(){delete gx.fx.delayedValidation;gx.evt.setReady(!0,"onchange_impl");var r=gx.util.browser.isWebkit()&&("radio"==c.type||"checkbox"==c.type||"file"==c.type),u="radio"==c.type||"checkbox"==c.type;m&&b&&(gx.fn.lastMainLevelCtrlId(q,b.grid)||b.gxsgprm)&&(u=r=!0);g&&(u=!1);if(r&&c.onblur)c.onblur();r=function(){gx.evt.execUsrOnchange(c);gx.fx.obs.notify("gx.validation");k.resolve()};!u||"undefined"!=typeof c.GXFormatError&&0!=c.GXFormatError?
r():gx.csv.validControls(q,q+1,!0,a).then(r)};if(gx.csv.controlValueHasChanged(c,f,b)){m=!0;gx.fn.setControlValue("IsModified","1");gx.fn.setControlValue("IsConfirmed","0");gx.csv.invalidateGXCtrl(c);var p=!0;if(b){var t=b.grid?gx.fn.controlRowIndex(c):void 0;"function"==typeof b.c2v&&b.c2v(t);gx.fn.call_v2bc(b,a,t)}g||gx.fn.setControlOldValue(c,f);var z=function(){var r=l.Deferred();if("select-one"==c.type||"checkbox"==c.type||"radio"==c.type){p=!1;gx.evt.setReady(!1,"validationCallback");var u=
b?gx.fn.currentGridRowImpl(b.grid):null;gx.csv.validate(c,b.id||q,!0,a,u).done(function(x){x&&gx.csv.invalidControl==c&&(gx.csv.invalidControl=null);gx.evt.execOnchange(c,x);gx.evt.setReady(!0,"validationCallback");r.resolve()}).fail(function(){gx.evt.setReady(!0,"validationCallback");r.resolve()})}p&&(gx.evt.execOnchange(c,!1),r.resolve());return r.promise()};f=function(){z.call(this).then(w.closure(this))}.closure(this);gx.evt.fireControlValueChange(a,c,d).always(f)}else w.call(this);return k.promise()}},
execOnchange:function(c,d,g){var a="";if(c.attributes["data-gxoch1"])try{a+=c.attributes["data-gxoch1"].value+";"}catch(b){gx.dbg.logEx(b,"gxapi.js","execOnchange")}if(gx.fn.isAccepted(c)&&c.attributes["data-gxoch2"])try{a+=c.attributes["data-gxoch2"].value+";"}catch(b){gx.dbg.logEx(b,"gxapi.js","execOnchange")}try{""!=a&&eval(a)}catch(b){gx.dbg.logEx(b,"gxapi.js","execOnchange")}d||gx.fn.setControlGxValid(c,"0");g||(c.setAttribute("gxctrlchanged","1"),gx.fn.setControlValue("IsModified","1"));!0!==
g&&gx.fn.setControlValue("IsConfirmed","0")},execUsrOnchange:function(c){var d="";if(!gx.dom.hasAttribute(c,"data-gxoch0"))return!0;try{d=c.attributes["data-gxoch0"].value}catch(g){return!0}return(new Function(d)).call(c)},jsEvent:function(c){if(!gx.isInputEnabled())return!1;c=c.getAttribute?c.getAttribute("data-jsevent")||c.getAttribute("jsevent"):c.jsevent;return gx.lang.emptyObject(c)?!0:eval(c)},isEnterEvtCtrl:function(c){if(gx.O.EnterCtrl){var d=gx.dom.id(c);d||"A"!=c.tagName||(d=c.parentNode.id);
d&&0==d.indexOf("span_")&&(d=d.substring(5));if(!d)return!1;var g=gx.O.EnterCtrl;c=gx.fn.rowGridId(c);for(var a=0,b=g.length;a<b;a++){var f=gx.csv.ctxControlId(g[a]);if(c&&-1!=d.search(new RegExp(".*"+f+"_[0-9]{4}$"))||f==d)return!0}}return!1},isCheckEvtCtrl:function(c){if(!gx.lang.emptyObject(gx.O.CheckCtrl)){c=gx.dom.id(c);for(var d in gx.O.CheckCtrl)if(gx.O.CheckCtrl[d]==c||gx.O.CmpContext+gx.O.CheckCtrl[d]==c)return!0}return!1},isTriggerKey:function(c){for(var d=this.triggerKeys.length,g=0;g<
d;g++)if(c.keyCode==this.triggerKeys[g]||c.charCode==this.triggerKeys[g])return!0;return!1},isControlKey:function(c){for(var d=this.controlKeys.length,g=0;g<d;g++)if(c==this.controlKeys[g])return!0;return!1},invalidDSPKey:function(c){var d=c.keyCode-111;c.shiftKey&&(d+=12);return this.keyListeners[d]&&"ENTER"==this.keyListeners[d][gx.O.CmpContext]||13==c.keyCode?!0:!1},addKeyListener:function(c,d,g){1==d&&(document.body.onhelp=gx.falseFn);void 0==this.keyListeners[d]&&(this.keyListeners[d]=[]);this.keyListeners[d][c]=
g},setEvtName:function(c,d){gx.fn.setHidden("_EventName",c)},cancelAndRefresh:function(c){var d=gx.O;if(d&&d.conditionsChanged){this.cancel(c,!0);d.autoRefresh||this.resetGridsPagingVarsIfConditionsChanged(d.Grids||[]);if(d.autoRefresh||d.hasEnterEvent||d.anyGridBaseTable)d.executeServerEvent("RFR",!1);else return!1;return!0}return!1},resetGridsPagingVarsIfConditionsChanged:function(c){var d=!1;l.each(c,function(g,a){a.conditionsChanged&&a.conditionsChanged()&&(a.setPagingVars(0,0),d=!0)});return d},
setGridEvt:function(c,d,g){g=g||gx.O;if(gx.isInputEnabled()&&!gx.lang.emptyObject(c)){if(gx.lang.emptyObject(d)){var a=gx.fn.getGridObj(c);a&&(d=gx.fn.getHidden(g.CmpContext+a.gridName.toUpperCase()+"_ROW"))}gx.fn.setHidden("_EventGridId",c);gx.fn.setHidden("_EventRowId",d);d&&gx.fn.setCurrentGridRow(c,d)}},checkFuncKey:function(c,d){var g=this.lastKey-111;c.shiftKey&&(g+=12);if(0<g&&24>=g&&void 0!=this.keyListeners[g]){var a=this.keyListeners[g][gx.O.CmpContext];if("undefined"!=typeof a)this.execFnKeyEvt(c,
gx.O,a,d);else for(var b in this.keyListeners[g])if(a=this.keyListeners[g][b],"undefined"!=typeof a){var f=gx.getObj(b,!1);if(null!=f){this.execFnKeyEvt(c,f,a,d);break}}}},execFnKeyEvt:function(c,d,g,a){if(!gx.evt.processing&&!gx.spa.isNavigating())if(this.cancel(c,!0),"PROMPT"==g){if((c=d.getValidStructFld(a))&&c.attachedCtrls){g=c.attachedCtrls;for(var b=0,f=g.length;b<f;b++)if((a=g[b])&&a.info&&a.info.isPrompt){var k=g[b].id;"function"==typeof d.promptKeyHandlers[k]&&(a=0<c.grid?"_"+gx.fn.currentGridRowImpl(c.grid):
"",a=gx.dom.el(d.CmpContext+k+a),d.promptKeyHandlers[k].call(d,a))}}}else d.isTransaction()&&"SELECT"==g?(d=gx.dom.byId(d.CmpContext+"BTN_SELECT"))&&"function"==typeof d.click&&d.click():d.executeEvent(g,!1)},keyModifiesValue:function(c){c=window.event?c.keyCode:c.which;return 32<=c&&127>=c||229==c?!0:!1},triggersEvt:function(c){if(!gx.lang.emptyObject(c)){if(c==gx.evt.dummyCtrl)return!0;var d=gx.config.evt.triggersEvtNodes||{};if("A"===c.nodeName||"TEXTAREA"===c.nodeName||d[c.nodeName])return!0;
if("INPUT"===c.nodeName){if("button"===c.type||"image"===c.type)return!0}else if("IMG"===c.tagName&&gx.dom.hasAttribute(c,gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR))return!0}return!1},setProcessing:function(c){var d=c.status;c=c.cond;"undefined"!=typeof c&&!c||gx.evt.redirecting||(gx.evt.processing=d,gx.dbg.enabled&&(console.groupCollapsed("setProcessing ${ctx} ${gx.evt.processing}"),console.trace(),console.groupEnd()),gx.evt.setReady(!gx.evt.processing,"setProcessing"),gx.evt.processing||gx.fx.obs.notify("gx.endprocessing"))},
doAfterProcessing:function(c,d){gx.evt.processing?gx.fx.obs.addObserver("gx.endprocessing",d,c,{single:!0}):c.call(d)},doAfterComposing:function(c,d){gx.evt.isComposing?gx.fx.obs.addObserver("gx.endcomposing",d,c,{single:!0}):c.call(d)},doAfterValidating:function(c,d){gx.csv.isvalidating()?gx.fx.obs.addObserver("gx.onaftervalidatecompleted",d,c,{single:!0}):c.call(d)},startValidation:function(c,d){if(c||d)gx.csv.validatingGrid=c,gx.csv.validating+=1;return{gxgrid:c,force:d}},endValidation:function(c,
d){if(c.gxgrid||c.force)--gx.csv.validating,0===gx.csv.validating&&(gx.csv.validatingGrid=null,gx.fx.obs.notify("gx.onaftervalidatecompleted")),0>gx.csv.validating&&gx.dbg.logMsg("WARNING! endValidation unexpected condition (gx.csv.validating < 0)"),gx.fx.obs.notify("gx.onaftervalidate",[d])},userReadyThresholdWait:function(){gx.evt.userReadyTStamp||(gx.evt.userReadyTStamp=Date.now());return Date.now()>gx.evt.userReadyTStamp+gx.evt.userReadyThreshold},setReady:function(c,d){gx.evt.userReadyCnt+=c?
-1:1;gx.evt.userReadyCnt=0>gx.evt.userReadyCnt?0:gx.evt.userReadyCnt;0==gx.evt.userReadyCnt?(gx.evt._userReady=!0,gx.evt.userReadyTStamp=Date.now()):gx.evt._userReady=!1;isNaN(gx.evt.userReadyCnt)&&(gx.evt.userReadyCnt=0);gx.dbg.enabled&&(console.groupCollapsed("setReady ${Context} ${gx.evt.userReadyCnt}"),console.trace(),console.groupEnd())},EVT_ROW_ID_REGEXP:/\.(([0-9]{4})+)$/,setCurrentGridRows:function(c,d){for(;0<c&&d&&d.length&&4<=d.length;){var g=d.substr(0,4),a=d.substr(4);gx.fn.setCurrentGridRow(c,
g);if(c=gx.O.getGridById(c,a))c=c.parentGrid;c=c?c.gridId:0;d=d.substr(4,d.length)}},canExecuteEvent:function(c,d){return!(!d&&(gx.spa.isNavigating()||gx.evt.redirecting||!gx.csv.isvalidating()&&(gx.lang.emptyObject(c)||gx.evt.processing)))},execEvt:function(c,d,g,a,b,f,k,m,q,w,p,t){gx.dbg.logPerf("execEvt");gx.text.contains(g,"EENTER")&&gx.ajax.saveFormForAutoComplete();if(this.canExecuteEvent(g,w)){var z=gx.getObj(c,d),r=b,u=(c=this.EVT_ROW_ID_REGEXP.exec(g))&&1<c.length?c[1]:null;c&&2<c.length&&
gx.evt.setCurrentGridRows(r,u);u||(u=gx.fn.currentGridRowImpl(r));c=function(){gx.fx.obs.notify("gx.validation",null,function(){if(!w&&z&&z.inputHasFormatErrors(g,b,u))p&&p.call();else{k&&(gx.evt.srvCommand=!0,a&&(r=gx.fn.rowGridId(a),u=gx.fn.controlRowId(a),gx.lang.emptyObject(r)||gx.lang.emptyObject(u)||(gx.csv.lastGrid=r,gx.fn.setCurrentGridRow(r,u))));if(0<gx.csv.lastId&&!gx.csv.validatingAll){var x=z.getValidStruct(gx.csv.lastId);if((gx.evt.isEnterEvtCtrl(a)&&0<a.id?z.getValidStructId(a.id):
z.focusControl)<gx.csv.lastId&&(gx.evt.isEnterEvtCtrl(a)||x&&x.isuc)||t)gx.csv.validatingAll=!0,z.fromValid=gx.csv.lastId,z.toValid=gx.csv.lastId+1,gx.csv.validateAll(),gx.csv.validatingAll=!1}this.setEvtName(g,a);this.lastEvent=g;if(!k&&(gx.grid.drawAtServer||a&&"INPUT"==a.nodeName&&"submit"==a.type))this.execEvtSubmit(g,a);else{gx.evt.setProcessing({status:!0,ctx:"notifyValidation"});var E=function(){gx.evt.setProcessing({status:!1,ctx:"notifyValidation"})};x=function(){gx.ajax.doPost((gx.http.useNamedParameters(gx.ajax.selfUrl())?
"gxevent=":"")+gx.ajax.encryptParms(gx.pO,"gxajaxEvt"),f,!0,b,u,q,z,g);E()};gx.pO.supportAjaxEvents?gx.evt.dispatcher.dispatch(g,z,r,u,!0,void 0,m).done(function(F){F||p&&p.call();q&&q(F);E()}).fail(x):gx.evt.execNonFullAjaxEvent(x)}}}.closure(this))};gx.evt.fixWebKitOnFocus()&&gx.dom.isButtonLike(a)&&a!=gx.csv.lastControl&&void 0!=a.onfocus?(gx.fx.obs.addObserver("gx.onafterfocus",this,c,{single:!0}),a.onfocus()):c.call(this)}else p&&p.call()},execEvtSubmit:function(c,d){if(gx.isInputEnabled()){gx.evt.setProcessing({status:!0,
ctx:"execEvtSubmit"});gx.O.startFeedback();gx.fx.obs.notify("gx.onbeforeevent",[c,d]);gx.fn.objectOnpost();gx.http.saveState();gx.fn.forceEnableControls(!1);c=gx.dom.form();var g=gx.popup.getPopup();if(null!=g&&(d=c.action,g=g.window.gx.popup.lvl,-1!=g)){var a=gx.http.urlParameterPrefix(d);a+=encodeURIComponent("gxPopupLevel="+g+";");c.action=d+a}c.submit()}},execCliEvt:function(c,d,g,a,b,f){var k=l.Deferred();if(!this.canExecuteEvent(!0,!1))return k.reject();gx.fx.obs.notify("gx.validation");f=void 0!=
f?f:[];var m=gx.getObj(c,d);if(null!=m){gx.setGxO(c,d);if("string"==typeof a&&""!=a&&4<arguments.length){var q=m.getGrid(a);q.instanciateRow(b);q=q.gridId}if(m.inputHasFormatErrors(m.getServerEventName(g),q,b))return k.reject();var w=m.isServerEvent(g);gx.evt.setProcessing({status:!0,cond:!w,ctx:"execCliEvt"});m.execC2VFunctions();var p=function(){gx.popup.waitCallback(function(){gx.evt.setProcessing({status:!1,cond:!w,ctx:"execCliEvt"})});m.conditionsChanged?m.executeServerEvent("RFR",!0):gx.fx.obs.notify("gx.onafterevent",
[]);k.resolve()},t=function(){m[g](f);p();gx.fx.obs.notify("gx.afterNonFullajax")};gx.pO.supportAjaxEvents?gx.evt.dispatcher.dispatch(m.getServerEventName(g),m,q,b,!1,f).done(p).fail(t):gx.evt.execNonFullAjaxEvent(t);return k.promise()}return k.reject()},execNonFullAjaxEvent:function(c){gx.evt.NonFullAjaxserialRunner=gx.evt.NonFullAjaxserialRunner||gx.evt.serialRunner();gx.fx.obs.addObserver("gx.afterNonFullajax",gx.evt,function(){gx.evt.NonFullAjaxserialRunner.signalEndTask()},{single:!0});gx.evt.NonFullAjaxserialRunner.addTask(c)},
fixWebKitOnFocus:function(){var c=gx.util.browser;return c.isWebkit()&&!c.isChrome()||c.isChrome()&&30>c.chromeVersion()?!0:!1},dispatcherTimeout:30,dispatcher:function(){var c=function(d,g){g=[];var a,b={};for(a=0;a<d.length;a++){var f=d[a];b[f.eventName]||(b[f.eventName]=[]);b[f.eventName].push(f.deferred);0!==g.length&&f.eventName===g[g.length-1].eventName||g.push(f)}for(a=0;a<g.length;a++){f=g[a];var k=b[f.eventName];for(d=0;d<k.length;d++)f.deferred!==k[d]&&f.deferred.done(function(){this.resolve.apply(this,
arguments)}.closure(k[d]))}return g};return{dispatchedEvents:{},serialRunner:gx.evt.serialRunner(),getContextKey:function(d,g,a,b){return b+(d.CmpContext+d.ServerClass)+(g||"")+(a||"")},getEventParmsMetadata:function(d,g,a){return g.EvtParms[d]["input"==a?0:1]},eventDepends:function(d,g,a){g=this.getEventParmsMetadata(g,a,"output");d=this.getEventParmsMetadata(d,a,"input");for(var b,f=0,k=g.length;f<k;f++){a=gx.ajax.resolveParmKey(g[f]);for(var m=0,q=d.length;m<q;m++)if(b=gx.ajax.resolveParmKey(d[m]),
a==b)return!0}return!1},initialize:function(){this.t&&clearTimeout(this.t);this.serialRunner=gx.evt.serialRunner();this.dispatchedEvents={}},beforeDispatch:function(d){var g=gx.ajax.getSecurityToken(d);g&&(d.InternalParms[g.id]=g.value)},types:{event:"event",validation:"validation"},dispatch:function(d,g,a,b,f,k,m,q){q=q||gx.evt.dispatcher.types.event;f=void 0===f||f;var w=l.Deferred();if("object"===typeof d){var p=d.fn;d=d.eventName}g.cleanEventName(d);g.getClientEventName(d);if(q===gx.evt.dispatcher.types.validation){var t=
d.toUpperCase();var z=d}else t=g.cleanEventName(d),z=g.getClientEventName(d);this.beforeDispatch(g);if(!g.EvtParms[t])return w.reject(),w.promise();d=this.getContextKey(g,a,b,q);var r=this.dispatchedEvents[d];f={eventName:t,clientSideEventName:z,clientSideFunction:f?null:(p||g[z]).closure(g,k||[]),serverSide:f,deferred:w,arguments:k,disableForm:m};r?r.events.push(f):(r={gxO:g,grid:a,row:b,type:q,events:[f]},this.dispatchedEvents[d]=r,this.t=setTimeout(this.serialRunner.addTask.closure(this.serialRunner,
[this.dispatchTimeoutCallback.closure(this,[d])]),gx.evt.dispatcherTimeout));return w.promise()},dispatchTimeoutCallback:function(d){var g=this.dispatchedEvents[d],a=g.type,b=g.gxO,f=g.grid,k=g.row,m=[],q=[],w=[],p={};delete this.dispatchedEvents[d];if(a!==gx.evt.dispatcher.types.validation){d=0;for(var t=g.events.length;d<t;d++){var z=g.events[d];if(z.serverSide)q.push(z);else{var r=!0;for(var u=0;u<d;u++)if(this.eventDepends(z.eventName,g.events[u].eventName,b)){r=!1;break}r?m.push(z):q.push(z)}}}else q=
g.events;g=c(m,a).concat(c(q,a));m=!1;d=0;for(t=g.length;d<t;d++){q=g[d].eventName;p[q]||(p[q]=[]);p[q].push(g[d].deferred);if(m&&g[d].serverSide)x.addMethod(q);else{var x=this.createMessage(a,q,b,f,k,g[d].serverSide,g[d].disableForm);g[d].serverSide||(x.callback=g[d].clientSideFunction);w.push(x)}m=g[d].serverSide}var E=function(n,v,y){for(var B=0,C=n.methods.length;B<C;B++)for(var I=p[n.methods[B]],L=0;L<I.length;L++){var M=I[L];M&&(v?M.resolve(y):M.reject(y))}};runCount=0;var F=this.serialRunner,
G=function(){if(runCount<w.length){var n=w[runCount++],v=runCount==w.length;n.call().done(function(y){E(n,!0,y);G();v&&F.signalEndTask()}).fail(function(y){E(n,!1,y);for(var B=runCount;B<w.length;B++)E(w[B],!1,y);F.signalEndTask()})}};G()},createMessage:function(d,g,a,b,f,k,m){return d===gx.evt.dispatcher.types.validation?new gx.ajax.validationMessage(g,a,b,f,k,m):new gx.ajax.message(g,a,b,f,k,m)}}}(),mouse:{x:-1,y:-1,update:function(c){try{gx.lang.emptyObject(c.touches)?gx.util.browser.isIE()?(this.x=
event.clientX+gx.dom.documentScroll().scrollLeft,this.y=event.clientY+gx.dom.documentScroll().scrollTop):(this.x=c.pageX,this.y=c.pageY):0<c.touches.length&&(this.x=c.touches[0].pageX,this.y=c.touches[0].pageY)}catch(d){gx.dbg.logEx(d,"gxapi.js","mouse update")}}},_deinit:function(){this.lastEvent=this.lastControl=null;this.dummyCtrl={};this.keyListeners={};this.hooks=[]}}}(gx.$);
gx.csv_i=function(l){var c=function(d,g,a,b){b=[];for(var f=0;f<d.length;f++)b.push(g.validControl.apply(g,d[f]));l.when.apply(l,b).done(a)};return{GX_OLD_VALUE_ATTRIBUTE:"data-gxoldvalue",GX_VALID_ATTRIBUTE:"data-gxvalid",pkDirty:!1,validating:0,lastRow:[],rowChanged:!1,currentId:0,lastId:0,lastControl:null,lastActiveControl:null,lastGrid:0,cmpCtx:"",anyError:!1,userFocus:null,focusControl:null,invalidControl:null,invalidForcedCtrl:null,validActivatedControl:null,disableFocus:!1,validatingUC:null,
validatingGrid:null,instanciatedRowGrid:null,lastEvtResponse:null,lastEvtRow:null,invalidId:0,stopOnError:!1,dismissSeconds:0,messagePosition:"right",oneAtAtime:!0,gxFormatErrors:[],resetRow:function(){gx.csv.lastEvtRow=null;gx.csv.validatingGrid=null;gx.csv.instanciatedRowGrid=null},isvalidating:function(){return 0<gx.csv.validating},validateAll:function(d){var g=l.Deferred();d=d||gx.O;this.validControls(d.fromValid,d.toValid,!1,d).done(function(a,b){try{null!=this.invalidControl&&gx.csv.stopOnError||
(d.fromValid=b||d.toValid)}catch(f){gx.dbg.logEx(f,"gxapi.js","validateAll")}g.resolve()}.closure(this));return g.promise()},validControls:function(d,g,a,b,f){var k=l.Deferred(),m=[],q=0,w=0,p=0,t=gx.csv.fullGridValidation&&1<=g-d&&gx.O.isTransaction();b=b||gx.O;b.startFeedback();var z=function(P,X){gx.csv.stopOnError&&(-1!=X?(P=gx.fn.validStruct(X,b),P=gx.fn.getControlGridRef(P.fld,P.grid),gx.csv.disableFocus=document.activeElement!==P,gx.fn.isAccepted(P,b)?gx.fn.setFocus(P):gx.fn.setFocus(gx.evt.lastControl)):
gx.dom.isButton(gx.csv.lastControl)||null==gx.csv.validActivatedControl||gx.fn.setFocus(gx.csv.validActivatedControl))};try{gx.csv.validActivatedControl=null;gx.csv.invalidControl=null;gx.csv.invalidId=0;var r=null;if(g>d){t&&(r=gx.fn.validStruct(d),void 0!=r&&void 0!=r.lvl&&(q=r.lvl),r=gx.fn.validStruct(g),void 0!=r&&void 0!=r.lvl&&(w=r.lvl));m=[];for(var u=d;u<g;u++){r=gx.fn.validStruct(u);var x=null;if(r){var E=gx.fn.currentGridRowImpl(r.grid);var F=!!r.hasRVFmt;x=1==r.isuc?r.uc.getRealControl():
gx.fn.getControlGridRef(r.fld,r.grid)}else F=!1;if(x&&x.GXFormatError&&!0===x.GXFormatError&&!F){var G=u;break}m.push([u,a,b,E,f]);if(t&&u>d&&u<g&&void 0!=r&&void 0!=r.lvl&&(p=r.lvl,p!=q&&p!=w&&r&&r.grid)){var n=gx.fn.getGridObj(r.grid),v=n.grid.rows.length,y=gx.fn.currentGridRowImpl(r.grid),B=gx.fn.lastGridControl(r.grid);if(u==B){var C=gx.fn.firstGridControl(r.grid);for(x=0;x<v;x++){var I=n.grid.rows[x],L=I.gxDeleted(),M=I.gxExists(),N=I.gxIsMod();if(!L&&(M||N)&&I.gxId!=y)for(var R=C;R<=B;R++)m.push([R,
a,b,y,I.gxId])}}}}if(0<m.length)return gx.evt.setProcessing({status:!0,ctx:"validControls"}),c(m,this,function(){for(var P=!0,X=-1,W=0,aa=arguments.length;W<aa;W++){var ba=arguments[W].ret;if(P&&!ba){X=arguments[W].ctrl;P=!1;break}}z(P,X);gx.evt.setProcessing({status:!1,ctx:"validControls"});b.endFeedback();k.resolve(P,G)}),k.promise()}z(!0,-1);b.endFeedback();k.resolve(!0,G)}catch(P){gx.dbg.logEx(P,"gxapi.js","validControls")}return k.promise()},validControl:function(d,g,a,b,f){var k=l.Deferred();
a=a||gx.O;var m=gx.fn.validStruct(d,a),q=!0;if(void 0!=m){if(0!=m.grid){var w=b?b:gx.fn.currentGridRowImpl(m.grid);gx.lang.emptyObject(w)||gx.fn.setCurrentGridRow(m.grid,w)}1==m.isuc?(w=0!=m.grid?b?b:gx.fn.currentGridRowImpl(m.grid):null,m.getUCInstance(w),m.uc.execC2VFunctions()):"function"==typeof m.c2v&&m.c2v();gx.fn.call_v2bc(m,a);try{if(0==m.lvl||0!=m.grid&&gx.fn.gridRowIsMod(m.lvl,gx.fn.currentGridRow(m.grid))||!a.isTransaction()){var p=null;if(p=1==m.isuc?m.uc.getRealControl():gx.fn.getControlGridRef(m.fld,
m.grid))return this.validate(p,d,g,a,b,f).done(function(t){try{var z=!1,r=!0,u=-1;0!=m.grid&&(z=gx.fn.rowIsRemoved(m.grid,gx.fn.currentGridRow(m.grid)));t||z||(gx.csv.invalidControl=p,gx.csv.invalidId=d,r=!1,u=d);gx.csv.lastId=d;0==gx.fn.isAccepted(p)&&(gx.csv.ExecutingOnBlur||gx.evt.executeOnblur(d,p),p.getAttribute("data-gxhiddenonchange")!=p.value&&(p.setAttribute("data-gxhiddenonchange",p.value),gx.evt.execOnchange(p,!1,!0)))}catch(x){gx.dbg.logEx(x,"gxapi.js","validControl - callback")}k.resolve({ret:r,
ctrl:u})}),q=!1,k.promise()}}catch(t){gx.dbg.logEx(t,"gxapi.js","validControl")}}q&&k.resolve({ret:!0,ctrl:-1});return k.promise()},validate:function(d,g,a,b,f,k){var m=l.Deferred();b=b||gx.O;var q=!0;gx.csv.anyError=!1;var w=gx.fn.validStruct(g,b);if(void 0==w)return m.resolve(!0),m.promise();gx.csv.refreshVars(w,b);if(null==w.fnc&&null==w.isvalid){if("SELECT"!=d.tagName&&"checkbox"!=d.type&&!gx.evt.eachKeyAutorefreshType(w.type)&&!gx.lang.emptyObject(w.rgrid)){q=w.rgrid.length;for(var p=0;p<q;p++)w.rgrid[p].filterVarChanged()}m.resolve(!0);
return m.promise()}try{if(-1!=g&&(a||"1"!=d.getAttribute(gx.csv.GX_VALID_ATTRIBUTE))){gx.csv.currentId=g;var t=gx.evt.startValidation(w.gxgrid,!0);gx.csv.refreshVars(w);a=function(z){1==b.AnyError&&(gx.lang.emptyObject(gx.csv.invalidControl)&&(gx.csv.invalidControl=d),gx.csv.anyError=!0,b.AnyError=0);gx.csv.anyError&&(z=!gx.csv.anyError);if(!z)return gx.evt.endValidation(t),m.resolve(!1),m.promise();gx.csv.refreshControls(w,b,f);gx.csv.invalidateDeps(g,b);if(!gx.lang.emptyObject(w.rgrid)&&!gx.lang.emptyObject(w.hc)){z=
w.rgrid.length;for(var r=0;r<z;r++)w.rgrid[r].filterVarChanged()}var u=gx.fn.isAccepted(d,!1,b),x=function(){m.resolve(!0);try{if(!k){var G=gx.dom.byId(d.id);u?gx.fn.setControlGxValid(G,"1"):gx.fn.setControlGxValid(G,"0")}gx.evt.endValidation(t)}catch(n){gx.dbg.logEx(n,"gxapi.js","validate")}};if(null!=w.isvalid&&u&&"1"!=d.getAttribute(gx.csv.GX_VALID_ATTRIBUTE)&&!k)if(r=w.gxgrid?w.gxgrid:null,z=w.isvalid,gx.pO.supportAjaxEvents){r=w.gxgrid?w.gxgrid.gridId:!1;var E=b.isServerEvent(z);z?gx.evt.dispatcher.dispatch(b.getServerEventName(z),
b,r,f,E).done(x).fail(x):b[z](f).then(x)}else{var F=gx.csv.instanciatedRowGrid;gx.csv.instanciatedRowGrid=r;b[z](f).then(function(){gx.csv.instanciatedRowGrid=F;x()})}else x()};q=!1;w.isuc?a.call(this,w.fnc.call(w.uc)):null!=w.fnc?(p=w.fnc.call(b))&&p.done?p.done(a.closure(this)):a.call(this,p):a.call(this,!0)}}catch(z){gx.dbg.logEx(z,"gxapi.js","validate")}q&&m.resolve(!0);return m.promise()},invalidateForm:function(){if(1!=gx.O.AnyError)for(var d=gx.fn.controlIds(),g=d.length,a=0;a<g;a++){var b=
gx.fn.validStruct(d[a]);b&&b.fld&&!b.isuc&&(b=gx.fn.getControlGridRef(b.fld,b.grid),this.invalidateGXCtrl(b,!1))}},invalidateGXCtrl:function(d,g){"undefined"===typeof g&&(g=!0);d&&(1!=d.getAttribute(gx.csv.GX_VALID_ATTRIBUTE)||g&&!gx.csv.controlValueHasChanged(d)||gx.fn.setControlGxValid(d,"0"))},invalidateCtrl:function(d,g){try{this.invalidateGXCtrl(d);var a=gx.fn.validStruct(gx.O.focusControl);if(a&&0!=a.grid&&(!0===g||gx.evt.keyModifiesValue(g))){var b=gx.fn.controlRowId(d)||gx.fn.currentGridRowImpl(a.grid)||
"0001";a.gxgrid.setRowModified(b)}}catch(f){gx.dbg.logEx(f,"gxapi.js","invalidateCtrl")}},invalidateDeps:function(d,g){for(var a=gx.fn.controlIds(g),b=a.length,f=0;f<b;f++){var k=a[f];if(k>d){k=gx.fn.validStruct(k,g);for(var m=k.ip?k.ip.length:0,q=0;q<m;q++)if(k.ip[q]==d)if(0==k.grid){var w=gx.fn.getControlGridRef(k.fld,k.grid);w&&gx.fn.setControlGxValid(w,"0")}else{var p=gx.fn.getGridObj(k.grid);if(p)for(var t=p.grid.rows.length,z=0;z<t;z++){w=p.grid.rows[z];var r=w.gxDeleted(),u=w.gxExists();!r&&
u&&(p.setRowModified(w.gxId),(w=gx.fn.getControlRef(k.fld+"_"+w.gxId))&&gx.fn.setControlGxValid(w,"0"))}}}}},controlValueHasChanged:function(d,g,a){if(!d)return!1;"undefined"===typeof g&&(g=d.value);var b=d.getAttribute(gx.csv.GX_OLD_VALUE_ATTRIBUTE),f=gx.applyPicture(a,b,d);return null===b||f!==gx.applyPicture(a,g,d)||gx.evt.fixWebKitOnFocus()&&"radio"===d.type},setFormatError:function(d,g){d=gx.dom.el(d);if(d.id){var a=void 0!==this.gxFormatErrors[d.id];g||"undefined"==typeof g?(a||(this.gxFormatErrors[d.id]=
this.gxFormatErrors.push(d.id)-1),d.GXFormatError=!0):(a&&this.gxFormatErrors.splice(this.gxFormatErrors[d.id],1),delete this.gxFormatErrors[d.id],d.GXFormatError=!1)}},anyFormatError:function(){return!1===gx.lang.emptyObj(this.gxFormatErrors)},disableFocusCondition:function(){if("undefined"==typeof gx.fn.validStruct(gx.O.focusControl))return!1;try{var d=gx.getVar("Gx_mode");0<gx.csv.lastGrid&&gx.setVar("Gx_mode",gx.fn.getGridRowMode(gx.fn.gridLvl(gx.csv.lastGrid),gx.csv.lastGrid));var g=gx.fn.validStruct(gx.O.focusControl);
if(g&&g.nac&&1==g.nac.call(gx.O)){cn=gx.fn.getControlIndex(gx.csv.lastControl)+1;var a=gx.fn.searchFocusFwd(cn);null!=a&&gx.fn.setFocus(a);gx.setVar("Gx_mode",d);return!0}gx.setVar("Gx_mode",d)}catch(b){}return!1},loadScreen:function(d){try{gx.csv.pkDirty&&(gx.csv.pkDirty=!1,gx.fn.clearOldKeys(),gx.evt.execEvt(gx.csv.cmpCtx,!1,gx.csv.cmpCtx+"ELSCR.",gx.evt.dummyCtrl,null,!0,void 0,void 0,d,!1))}catch(g){gx.dbg.logEx(g,"gxapi.js","loadScreen")}},CTRL_ROW_INDEX_REGEXP:/(.*)_([0-9]{4})+$/,ctxControlId:function(d,
g){var a=g||gx.O;return a&&a.IsMasterPage&&0!=d.indexOf("MP")&&(a=this.CTRL_ROW_INDEX_REGEXP.exec(d))&&1<a.length?(d=a[1],g=2<a.length?"_"+a[2]:"",d+(-1===d.indexOf("_MPAGE")?"_MPAGE":"")+g):(g=(g?g.CmpContext:this.cmpCtx)||"")&&0==d.indexOf(g)||0<=d.search(gx.GxObject.CONTROL_CMP_REGEX)?d:g+d},isProperty:function(d){return d instanceof Array&&2==d.length||"object"==typeof d&&"undefined"!=typeof d[0]&&"undefined"!=typeof d[1]?!0:!1},checkGridChange:function(d,g,a,b){if(d){var f=d.gridId;d=gx.fn.currentGridRowImpl(f);
gx.csv.validGridRowChange(f,d,a,d).done(function(){var k=a.getGridById(f,b);gx.csv.checkGridChange(k.parentGrid,!0,a,b)})}},checkRowChange:function(d,g,a,b){var f=l.Deferred();try{var k=gx.fn.validStruct(d,a);if("undefined"!=typeof k){var m=k.grid;if(0!=m){var q=gx.fn.currentGridRowImpl(m);if(q&&(q!=b||g)&&1<q.length&&b&&1<b.length){gx.csv.rowChanged=!0;var w=a.Gx_BScreen;a.Gx_BScreen=1;gx.csv.validGridRowChange(m,q,a,b).done(function(p){p&&(p=a.getGridById(m,b))&&(p.instanciateRow(q),p.parentGrid&&
gx.csv.checkGridChange(p.parentGrid,!0,a,b));a.Gx_BScreen=w;f.resolve(!0)})}else f.resolve(!1);void 0!=q&&gx.fn.setCurrentGridRow(m,q)}else f.resolve(!1)}else f.resolve(!1)}catch(p){gx.dbg.logEx(p,"gxfrmutl.js","checkRowChange")}return f.promise()},validGridRow:function(d,g){void 0!=g&&gx.fn.setCurrentGridRow(d,g);g=gx.fn.firstGridControl(d);d=gx.fn.lastGridControl(d);gx.csv.validControls(g,d+1,!0,gx.O)},validGridRowChange:function(d,g,a,b){var f=l.Deferred();void 0!=b&&gx.fn.setCurrentGridRow(d,
b);var k=gx.fn.firstGridControl(d,a),m=gx.fn.lastGridControl(d,a);b=!gx.lang.emptyObject(b)&&!gx.lang.emptyObject(g)&&b.length==g.length&&parseInt(b)>parseInt(g);gx.csv.anyFormatError()?(a=gx.csv.gxFormatErrors,gx.csv.invalidForcedCtrl=gx.csv.invalidForcedCtrl||{},gx.csv.invalidForcedCtrl.Ctrl=gx.dom.el(a[0]),gx.csv.invalidForcedCtrl.ForceFocus=!0,gx.fn.setFocus(gx.csv.invalidForcedCtrl.Ctrl),f.resolve(!1)):gx.csv.validControls(k,m+1,!0,a,b).done(function(q){!q&&gx.csv.stopOnError||gx.csv.changeGridRow(d,
k,g);f.resolve(q)});return f.promise()},changeGridRow:function(d,g,a){gx.csv.lastId=g;gx.O.fromValid>g&&(gx.O.fromValid=g);gx.csv.lastRow[d]=a;Gx_BScreen=1},targetRowIsMod:function(d){return(d=gx.fn.validStruct(d))?gx.fn.gridRowIsMod(d.lvl,gx.fn.currentGridRow(d.grid)):!1},refreshVars:function(d,g){for(var a=d.ip?d.ip.length:0,b=0;b<a;b++)try{"function"==typeof gx.fn.validStruct(d.ip[b],g).c2v&&gx.fn.validStruct(d.ip[b],g).c2v()}catch(f){gx.dbg.logEx(f,"gxapi.js","refreshVars")}},refreshControls:function(d,
g,a){for(var b=d.op?d.op.length:0,f=0;f<b;f++)try{var k=gx.fn.validStruct(d.op[f],g),m=null;if(0==k.grid)gx.fn.v2c(k),m=gx.dom.el(gx.csv.ctxControlId(k.fld));else{var q=gx.fn.currentGridRowImpl(k.grid);gx.text.endsWith(a,q)&&(gx.fn.v2c(k),m=gx.fn.getControlGridRef(k.fld,k.grid))}m&&gx.fn.setControlGxValid(m,"0")}catch(w){gx.dbg.logEx(w,"gxapi.js","refreshControls")}b=d.ucs?d.ucs.length:0;for(f=0;f<b;f++)try{gx.fn.validStruct(d.ucs[f],g).uc.execV2CFunctions(!0)}catch(w){gx.dbg.logEx(w,"gxapi.js","refreshControls")}},
setValidValues:function(d,g,a){var b=[];if(1<a.length-g.length){var f=gx.json.evalJSON(a[a.length-1]);for(h in f)gx.fn.setHidden(h,f[h]);b=gx.json.evalJSON(a[a.length-2])}f={};d={fields:d,msgs:b};gx.O.cmpCtx?f[gx.O.cmpCtx]=d:f.MAIN=d;gx.fn.setErrorViewer(f);if(!gx.O.AnyError){var k=!1;d=g.length;for(f=0;f<d;f++){var m=g[f];b=a[f];if(this.isProperty(m)){var q=gx.fn.vStructForVar(m[0])||gx.O.getValidStructFld(m[0]);null!=q&&gx.fn.setCtrlProperty(q.fld,m[1],b)}else if(q=gx.fn.validStruct(this.currentId),
gx.lang.emptyObject(q)||gx.lang.emptyObject(q.hc)||(q.hc==m?(gx.O[q.hc]=b,gx.fn.setHidden(this.cmpCtx+"GXH_"+q.fld,b)):q.hd==m&&(gx.O[q.hd]=b)),q=gx.fn.vStructForVarWId(m,this.currentId),gx.lang.emptyObject(q)){q=gx.fn.vStructForHC(m);if(null!=q){var w="";0!=q.grid&&(w="_"+gx.fn.currentGridRow(q.grid));gx.fn.setHidden(this.cmpCtx+"GXHC"+q.fld+w,b)}q=gx.fn.gridObjFromGxO(m);void 0!=q?(k=!0,q.loadGrid({rowProps:b})):gx.fn.saveLvlOldParm(m,b)&&(gx.setVar(m,b),gx.fn.setGridHidden(m,b))}else m=gx.fn.screen_CtrlRef(q.fld),
!gx.lang.emptyObject(m)&&b instanceof Object&&("SELECT"==m.tagName?(-1!=m.selectedIndex&&gx.fn.invalidEmptyValue(b)&&(b.s=m.options[m.selectedIndex].value),w=gx.dom.id(m),gx.fn.loadComboBox(w,b.v),gx.fn.setComboBoxValue(w,b.s)):gx.lang.emptyObject(b.s)||(b.s=gx.fn.trimSelectValue(b.s,q.type)),w=gx.fn.selectedDescription(b,q.type),b=gx.lang.emptyObject(b.s)&&!gx.lang.emptyObject(m.value)?m.value:"SPAN"!=m.tagName||gx.lang.emptyObject(b.s)||gx.lang.emptyObject(w)?b.s:w,gx.fn.setControlValue_span_safe(this.cmpCtx+
q.fld,b,0)),q.v2v&&(q.v2v(b),gx.fn.v2c(q,b,"bits"==q.type))}}gx.O.refreshOlds();gx.fn.enableDisableDelete(gx.O);k&&gx.dom.indexElements()},_deinit:function(){this.lastRow=[];this.gxFormatErrors=[];this.lastEvtRow=this.lastEvtResponse=this.validatingGrid=this.validatingUC=this.validActivatedControl=this.invalidForcedCtrl=this.invalidControl=this.focusControl=this.userFocus=this.lastActiveControl=this.lastControl=null}}}(gx.$);
gx.http_i=function(l){return{STATE_UNSENT:0,STATE_DONE:4,STATUS_OK:200,STATUS_UNAUTHORIZED:401,STATUS_FORBIDDEN:403,STATUS_SESSION_TO:440,iframeName:"gxPostIFrame",viewState:null,viewStateLoaded:!1,oldState:null,useBase64State:!1,useStateSignature:!1,lastStatus:0,lastResponse:"",modes:{none:0,full:1,call:2,retval:3},validJsonResponse:function(c,d){return"{"!=d[0]&&200==c.status&&0!=c.getResponseHeader("Content-Type").toLowerCase().indexOf("application/json")?(gx.dbg.logEx('Unexpected AJAX respose format "'+
c.getResponseHeader("Content-Type")+'"; Reloading page'),gx.http.reload(!0),!1):!0},saveHidden:function(c,d,g){null!=gx.dom.el(c,!1,!0,!0)?gx.fn.setControlValue_impl(c,d):g&&(gx.dom.createInput(c,"hidden"),gx.fn.setControlValue_impl(c,d))},clearMultipartHidden:function(){this.saveHidden("GXAjaxMultipart","",!1)},clearState:function(){this.viewState=null;this.viewStateLoaded=!1;l(gx.dom.el("GXState")).val("{}")},applyWellKnownPtys:function(){gx.wpo(function(){this.viewState.FORM_Caption&&gx.fn.setCtrlPropertyImpl(document,
"Caption",this.viewState.FORM_Caption)},this)},loadState:function(){gx.dbg.logPerf("loadState");this.viewState={};this.viewStateLoaded=!1;var c=gx.dom.el("GXState");if(c){var d=c=c.value;this.useBase64State&&(d=gx.base64.decode(c));this.viewState=gx.json.evalJSON(d);this.viewStateLoaded=!0;this.applyWellKnownPtys()}gx.dbg.logPerf("loadState","GXState Loaded")},saveState:function(c){if(this.viewState){var d=gx.json.serializeJson(this.viewState,c);c=d;this.useBase64State&&(c=gx.base64.encode(d));d=
gx.dom.el("GXState");null==d?gx.dom.createInput("GXState","hidden"):this.oldState=d.value;gx.fn.setControlValue_impl("GXState",c);this.useStateSignature&&(gx.http.setStateHsh(c),gx.http.setHsh())}},setStateHsh:function(c){null==gx.dom.el("GXHSH12")&&gx.dom.createInput("GXHSH12","hidden");c=gx.MD5.getHsh(c);gx.fn.setControlValue_impl("GXHSH12",c)},setHsh:function(){for(var c=gx.pO.WebComponents.length,d=0;d<c;d++)gx.http.setObjectHsh(gx.pO.WebComponents[d]);gx.http.setObjectHsh(gx.pO)},setObjectHsh:function(c){var d=
c.getControlIdsh();if(null!=d){var g="";c.IsComponent&&null!=c.CmpContext&&(g=c.CmpContext);for(var a="",b=0;b<d.length;b++)if((validStruct=c.getValidStruct(d[b]))&&"function"==typeof validStruct.val){var f=gx.fn.getControlValue_impl(g+validStruct.fld);a="checkbox"==validStruct.ctrltype&&""==gx.text.trim(f)?a+validStruct.val():a+f}gx.http.createHsh(g+"GXHSH11",a)}},createHsh:function(c,d){null==gx.dom.el(c)&&gx.dom.createInput(c,"hidden");d=gx.MD5.getHsh(d);gx.fn.setControlValue_impl(c,d)},refreshState:function(){null!=
this.oldState&&(gx.dom.el("GXState").value=this.oldState,this.oldState=null)},getCookie:function(c){c+="=";for(var d=document.cookie.split(";"),g=d.length,a=0;a<g;a++){for(var b=d[a];" "==b.charAt(0);)b=b.substring(1,b.length);if(0==b.indexOf(c))return b.substring(c.length,b.length)}return null},setCookie:function(c,d,g,a,b){g=g||1;var f=[];g=new Date((new Date).getTime()+864E5*g);f.push(c+"="+escape(d));b&&f.push("path="+b);f.push(a?"session":"expires="+g.toGMTString());"https:"===location.protocol&&
(f.push("secure"),f.push("samesite=none"));document.cookie=f.join(";");return this.getCookie(c)==d},checkResponseStatus:function(c,d){return c.status==this.STATUS_FORBIDDEN?!1:c.status==this.STATUS_SESSION_TO?(gx.http.reloadOnTimeout(d),!0):this.isBadResponse(c)?(gx.ajax.enableForm(),gx.util.alert.showError(gx.getMessage("GXM_NetworkError").replace("%1",c.status)),!0):c.status==this.STATUS_UNAUTHORIZED?(gx.pO.OnSessionTimeout==gx.timeoutActions.ignore?gx.http.reload():gx.pO.OnSessionTimeout==gx.timeoutActions.warn&&
gx.http.reloadOnTimeout(d),!0):!1},isSessionTimeoutError:function(c,d){return!gx.gen.isDotNet()&&d&&c&&gx.pO.AjaxSecurity&&c.readyState==this.STATE_DONE&&("NS_ERROR_FAILURE"==d.name&&2147500037==d.result||"Error"==d.name&&-2146697209==d.number||"NETWORK_ERR"==d.name&&101==d.code)?!0:!1},reloadOnTimeout:function(c){if((c||gx.pO.fullAjax||gx.pO.AjaxSecurity)&&confirm(gx.getMessage("GXM_sessionexpired")))return gx.http.reload(),!0;gx.ajax.enableForm();return!1},reload:function(c){""==document.location.hash?
this.redirect(location.href,!1,c):document.location.reload()},redirect:function(c,d,g,a,b){b=void 0===b?!0:b;a=a||gx.O;var f=gx.popup.getPopup();if(null!=f&&gx.util.sameAppUrl(c)&&(f=f.window.gx.popup.lvl,-1!=f)){var k=gx.http.urlParameterPrefix(c);k+=encodeURIComponent("gxPopupLevel="+f+";");c+=k}b&&!gx.isabsoluteurl(c)&&(c=gx.absoluteurl(c));d?gx.evt.redirecting=!0:setTimeout(function(){gx.ajax.enableForm()},200);gx.spa.started&&!g?(gx.spa.redirect(c),gx.pO!=a?a.endFeedback():gx.ajax.enableForm()):
(gx.pO.startFeedback(!1),location.href=c)},getRequest:function(){var c=null;window.XMLHttpRequest&&(c=new XMLHttpRequest);if(!c)try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){try{c=new ActiveXObject("Microsoft.XMLHTTP")}catch(g){}}return c},postDataFormat:{HTTP:0,JSON:1},getPostData:function(c,d){d=d||gx.http.postDataFormat.HTTP;var g=d==gx.http.postDataFormat.HTTP?[]:{};if(c.reqData)g=c.reqData;else{c=c.formNode;c="Form"==c.tagName?c.elements:l("input[type!=file],textarea,select");for(var a=
c.length,b=0;b<a;b++){var f=gx.http.elementPostData(c[b],d);null!=f&&(d==gx.http.postDataFormat.HTTP?g.push(f):g[f[0]]=f[1])}}gx.lang.isArray(g)&&d==gx.http.postDataFormat.HTTP&&(g=g.join("&")+"&");return g},elementPostData:function(c,d){if(gx.json.isNonSerializable(c.name)||"FIELDSET"==c.tagName)return null;var g="";if("select-multiple"==c.type)for(var a=c.options.length,b=0;b<a;b++)c.options[b].selected&&(g=c.options[b].value);else if("radio"==c.type||"checkbox"==c.type)if(c.checked)g=c.value;else{if("radio"==
c.type)return null}else g="image"===c.type?c.src:this.element_gxvalue(c);return d==gx.http.postDataFormat.HTTP?encodeURIComponent(c.name)+"="+encodeURIComponent(g):[c.name,g]},element_gxvalue:function(c){return c.gxtype&&"dtime"==c.gxtype.type?(dt=new gx.date.gxdate(c.value,gx.dateFormat),dt.HasTimePart=0<c.gxtype.dec,dt.HasDatePart=0<c.gxtype.len,gx.date.dttoc(dt,c.gxtype.len,c.gxtype.dec)):c.value},doHandleRequest:function(c,d){if(c.readyState==this.STATE_DONE){if(c.status==this.STATUS_OK||d.handleAllStatusCodes){var g=
new gx.util.Url(c.responseURL);if(gx.text.endsWith(g.path,".html")){window.location.href=c.responseURL;return}this.isOffline(c)&&(this.handleOffline(c),d.offline&&d.offline.call(d.obj||window,c,d));this.doCallHandler(c,d)}else gx.http.checkResponseStatus(c,d.warnOnTimeout)||gx.lang.doCallTimeout(gx.dom.writeError,document,[c.responseText,gx.getMessage("GXM_runtimeappsrv"),c.status],50);d.always&&d.always.call(d.obj||window,c,d);window.gx&&(gx.dbg.logPerf("execEvt","Event Executed"),gx.dbg.printPerformanceLog())}},
onRequestError:function(c,d){d.error&&d.error.call(d.obj||window,c,d);d.always&&d.always.call(d.obj||window,c,d);gx.evt.setProcessing({status:!1,cond:!gx.csv.isvalidating(),ctx:"onRequestError"});c.readyState==this.STATE_DONE?gx.http.checkResponseStatus(c,d.warnOnTimeout):this.isBadResponse(c)&&gx.http.reloadOnTimeout(d.warnOnTimeout)},isBadResponse:function(c){return c.status==this.STATE_UNSENT&&gx.lang.emptyObject(c.responseText)?!0:!1},doCall:function(c){c.gxInitiator=gx.util.executionContext.getContext();
gx.util.alert.hide();c.handler||"function"!=typeof c.load||(c.handler=c.load);"boolean"!=typeof c.sync&&(c.sync=!1);c.method||(c.method="POST");if(c.multipart&&"POST"==c.method)this.doMultipartPost(c);else{var d=this.getRequest();if(null!=d){if("function"==typeof c.handler&&!c.sync){var g=gx.http.doHandleRequest.closure(this,[d,c]),a=gx.http.onRequestError.closure(this,[d,c]);gx.util.browser.isIE()&&9>=gx.util.browser.ieVersion()?d.onreadystatechange=g:(d.onload=g,d.onerror=a)}g=null;"POST"==c.method&&
(g=gx.http.getPostData(c));a=!1!==c.avoidCache?this.uncache(c.url):c.url;d.open(c.method,a,!c.sync);!1!==c.ajaxHeader&&d.setRequestHeader(gx.ajax.reqHeader,"1");"POST"==c.method&&d.setRequestHeader("Content-Type",c.contentType?c.contentType:"application/x-www-form-urlencoded");gx.sec.secToken&&gx.AjaxSecurity&&gx.OnSessionTimeout==gx.timeoutActions.ignore&&d.setRequestHeader(gx.sec.secTokenName,gx.sec.secToken);this.setSecurityToken(d,c.gxO);c.beforeSend&&c.beforeSend.call(c.obj||window,d);try{d.send(g)}catch(b){gx.dbg.logEx(b,
"gxapi.js","doCall")}"function"==typeof c.handler&&c.sync&&gx.http.doHandleRequest(d,c);return d}}return null},doCallHandler:function(c,d){if(!d.gxInitiator||!gx.util.executionContext.changedContext(d.gxInitiator))if(d.obj?d.handler.call(d.obj,null,c.responseText,c):d.handler(null,c.responseText,c),window.gx&&"function"===typeof d.onReady)d.onReady()},doMultipartPost:function(c){gx.http.saveState(!0);this.getPostIFrame().gxPostInfo=c;var d=c.formNode;c.oldAction=d.getAttribute("action");d.setAttribute("action",
c.url);c.oldTarget=d.getAttribute("target");d.setAttribute("target",this.iframeName);c.reqData&&(gx.http.saveHidden("GXAjaxMultipart",c.reqData,!0),this.setSecurityToken(null,c.gxO));d.submit()},setSecurityToken:function(c,d){(d=gx.ajax.getSecurityToken(d))&&(gx.dom.hasSelectedFile()?gx.http.saveHidden("X-GXAUTH-TOKEN",d.value,!0):c.setRequestHeader("X-GXAUTH-TOKEN",d.value));(d=gx.http.getCookie("XSRF-TOKEN"))&&c.setRequestHeader("X-XSRF-TOKEN",d)},useReadyStateEvent:function(){return gx.util.browser.isIE()&&
11>gx.util.browser.ieVersion()},iFrameloadEventName:function(){return this.useReadyStateEvent()?"readystatechange":"load"},getPostIFrame:function(){var c=this.iframeName,d=gx.dom.byId(c);d&&d.frameElement&&(d=d.frameElement);d||(d=document.createElement("div"),d.innerHTML='<iframe id="'+c+'" name="'+c+'" src="about:blank">',document.body.appendChild(d),d=d.firstChild,document.body.appendChild(d),window[c]=d,d.name=c,d.setAttribute("name",c),d.id=c,d.style.position="absolute",d.style.left="0px",d.style.top=
"0px",d.style.height="1px",d.style.width="1px",d.style.visibility="hidden");gx.evt.attach(d,this.iFrameloadEventName(),gx.http.iframeOnload);return d},iFrameJsonResponse:function(c){return l(c).find("input[data-response-content-type='application/json']").val()},captureIframeHTTPStatusCode:function(c){var d=/HTTP Status (\d\d\d)/gi,g=0;c.title&&(c=d.exec(c.title),0<c.length&&(g=Number(c[1])));return{status:g}},iframeOnload:function(){var c=gx.dom.byId(gx.http.iframeName);if(!gx.http.useReadyStateEvent()||
"complete"==c.readyState)if(c||(c=window.frames[gx.http.iframeName]),c&&c.frameElement&&(c=c.frameElement),c)try{gx.http.useReadyStateEvent()&&(c.src="about:blank",gx.evt.detach(c,gx.http.iFrameloadEventName(),gx.http.iframeOnload));var d=c.gxPostInfo,g=d.formNode;g.setAttribute("action",d.oldAction);g.setAttribute("target",d.oldTarget);var a=c.contentDocument?c.contentDocument:c.contentWindow.document;if(a){var b=a.body,f=gx.http.iFrameJsonResponse(b),k=!gx.lang.emptyObject(f);k||(k=gx.dom.allChildrenAreText(b))&&
(f=gx.http.multipartResponse(b));if(k){var m=gx.base64.decode(f);gx.http.clearMultipartHidden();d.handler(null,m,d);if(window.gx&&"function"===typeof d.onReady)d.onReady();d.always&&d.always.call(d.obj||window,null,d)}else{var q=gx.http.captureIframeHTTPStatusCode(a);gx.http.checkResponseStatus(q,d.warnOnTimeout)||document.write(a.documentElement.innerHTML)}}}catch(w){c="Unknown error";g=gx.getMessage("GXM_NetworkError").replace("%1","NoStatusCode");gx.text.startsWith(w.message,"Blocked a frame with origin")&&
(c="Upload File Changed",g=gx.getMessage("GXM_FileUploadFileChanged"),l('input[type="file"]').val(""));gx.dbg.logEx(w,"gxapi.js","FileUpload error: "+c);if(d.error)d.error.call(d.obj||window,null,d);else if(gx.fx.obs.notify("gx.afterNonFullajax"),window.gx&&"function"===typeof d.onReady)d.onReady();d.always&&d.always.call(d.obj||window,null,d);gx.util.alert.showError(g)}},multipartResponse:function(c){var d="";try{d=l(c).text()}catch(g){gx.dbg.logEx(g,"gxapi.js","multipartResponse")}return d},uncache:function(c){var d=
(new Date).getTime();return c+gx.http.urlParameterPrefix(c)+"gx-no-cache="+d},callBackend_simple:function(c,d,g,a,b,f,k,m){gx.http.callBackend_impl(void 0,c,d,gx.http.modes.none,g,a,b,f,k,m)},callBackend:function(c,d,g,a,b,f,k,m,q,w,p){gx.http.callBackend_impl(c,d,a,b,f,k,m,q,w,p)},callBackend_impl:function(c,d,g,a,b,f,k,m,q,w,p){var t=this.getRequest();w=w||{};if(t){try{var z=gx.O;b||z.startFeedback();f="undefined"!=typeof f?f:"GET";k="undefined"!=typeof k?k:null;q="undefined"!=typeof q?q:!1;m||
(d=this.uncache(d));t.open(f,d,q);t.setRequestHeader(gx.ajax.reqHeader,"2");for(var r in w)t.setRequestHeader(r,w[r]);try{"POST"==f?t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):gx.sec.secToken&&gx.O.AjaxSecurity&&gx.pO.OnSessionTimeout==gx.timeoutActions.ignore&&t.setRequestHeader(gx.sec.secTokenName,gx.sec.secToken)}catch(x){gx.dbg.logEx(x,"gxapi.js","callBackend_impl: gx.O cannot be null")}var u=function(){b||z.endFeedback();this.lastStatus=t.status;this.lastResponse=t.responseText;
if(t.readyState!=this.STATE_DONE||t.status!=this.STATUS_OK)gx.http.checkResponseStatus(t)||(window.status="GXAjax HTTP error: ("+t.status+") - "+t.statusText,gx.dbg.logEx(t.responseText),p&&p());else if(a!=this.modes.none)if(this.lastResponse&&0<this.lastResponse.length&&"<"!=this.lastResponse.charAt(0)){this.lastStatus=0;try{if(a==this.modes.full)this.handleFull(this.lastResponse);else if(a==this.modes.call)return this.handleCall(this.lastResponse,c);return this.handleRetVal(this.lastResponse,c,
g)}catch(x){gx.dbg.logEx(x,"gxapi.js","callBackend"),p&&p()}}else window.status="GXAjax HTTP error: (bad response format)",p&&p()}.closure(this);q&&(gx.util.browser.isIE()&&9>=gx.util.browser.ieVersion()?t.onreadystatechange=u:t.onload=u);t.send(k);q||u()}catch(x){window.status="GXAjax HTTP error: "+x.message}window.status=""}},handleFull:function(c){gx.http.postHandler(null,c,{status:200,responseText:""})},handleCall:function(c,d){if(d){var g=l.parseJSON(c);if(gx.lang.isArray(g))return d(g);gx.dbg.logEx(e,
"gxapi.js","handleCall: Unexpected server response format (Expected array): "+c)}},handleRetVal:function(c,d,g){var a=gx.json.evalJSON(c),b=a[0];this.lastStatus=a[1];void 0==this.lastStatus&&(this.lastStatus=0);if(d&&(g||null==this.lastStatus||0==this.lastStatus)){g=l.parseJSON(c);if(gx.lang.isArray(g))return d(g);gx.dbg.logEx(e,"gxapi.js","handleCall: Unexpected server response format (Expected array): "+c)}else return b},postHandler:function(c,d,g,a){try{if(gx.csv.lastEvtResponse=null,200>g.status||
299<g.status)gx.dom.writeError(g.responseText,gx.getMessage("GXM_runtimeappsrv"),g.status);else if(gx.http.validJsonResponse(g,d)){var b=gx.json.evalJSON(d);null==b?gx.dom.writeError(d.toString(),gx.getMessage("GXM_runtimeappsrv"),g.status):(gx.http.refreshState(),gx.csv.lastEvtResponse=b,gx.fn.forceEnableControls(!0),b.rowId=this.rowId,b.gridId=this.gridId,gx.ajax.setPostResponse(b,gx.O,a).done(function(f){f||(gx.fx.obs.notify("gx.onafterevent",[b]),gx.fx.obs.notify("gx.afterNonFullajax"))}))}}catch(f){gx.dbg.logEx(f,
"gxapi.js","postHandler")}},encodeUriSegment:function(c){return encodeURIComponent(c).replace(/%20/g,"+")},formatLink:function(c,d,g){c=gx.ajax.objectUrl(c);if(d&&0<d.length){var a=",",b="";g&&(a="&");c+="?";for(var f=d.length,k=0;k<f;k++)0<k&&(c+=a),g&&(b=g[k]+"="),c+=b+gx.http.encodeUriSegment("function"==typeof d[k].getUrlVal?d[k].getUrlVal():d[k])}return c},loadScripts:function(c,d,g,a){"undefined"==typeof g&&(g=0);g>=c.length?d():gx.http.loadScript(c[g],function(b,f,k){gx.http.loadScripts(b,
f,k+1,a)}.closure(this,[c,d,g]),a)},loadStyle:function(c,d,g,a,b){if(a=b?document.querySelector('style[data-gx-href="'+a+'"]'):a?gx.dom.byId(a):null)a.href=c;else{var f=gx.dom.byTag("head")[0];b?(a||(a=document.createElement("style"),a.setAttribute("data-gx-href",c)),a.innerHTML='@import url("'+c+'") layer('+b+")"):(a=document.createElement("link"),a.rel="stylesheet",a.type="text/css",a.href=c);"function"==typeof d&&(a.onload=d);g?(c=gx.getThemeElement(),l(a).insertBefore(c),gx.util.browser.isIE()&&
l(c).insertAfter(a)):f.appendChild(a)}},applyDeferredStyles:function(){l("link[rel='preload'][as='style']").each(function(c,d){d.rel="stylesheet"})},layerNaming:function(c){return c.replace(/\?\w*$/,"").replace(/[\/\.]/g,"_")},loadStyles:function(){var c=gx.fn.getHidden("GX_STYLE_FILES");if(!gx.lang.emptyObject(c))for(var d=0;d<c.length;d++){var g=c[d];g=gx.util.resolveUrl(g);gx.cache.fileLoaded(g)||(gx.cache.addRemoteFile(g),this.loadStyle(g,void 0,!0,void 0,this.layerNaming(g)))}},doCommands:function(){var c=
gx.fn.getHidden("GX_SRV_COMMANDS");gx.lang.emptyObject(c)||gx.ajax.dispatchCommands(c)},isOffline:function(c){return"1"===c.getResponseHeader("X-GX-OFFLINE")},handleOffline:function(c){gx.util.alert.showError(gx.getMessage("GXM_OfflineUnsupported"))},useNamedParameters:function(c){return!1===gx.csv.useNamedParameters?!1:-1<c.indexOf("=")},urlParameterSeparator:function(c){return this.useNamedParameters(c)?"&":","},urlParameterPrefix:function(c){var d=c.indexOf("?");return-1<d?d==c.length-1?"":this.urlParameterSeparator(c):
"?"}}}(gx.$);gx.$.extend(gx.evt,gx.evt_i);gx.$.extend(gx.csv,gx.csv_i);gx.$.extend(gx.http,gx.http_i);var defaultConfig={popup:{ignoreCmdsOnCancel:!1},websocket:{},timezone:{reload:!0},evt:{dblclick:{delay:450}},number:{validation:{strict:!0}},csv:{scrollTopOnError:!1}};gx.config=gx.$.extend({},defaultConfig,window.gxCustomConfig||{});
var GlobalEvents=function(l){return{executeMethod:function(c,d){gx.fx.obs.notify(c,d);try{for(var g=window;null!=g&&g.parent!==g;)g=g.parent,g!=window&&g.gx&&g.gx.fx.obs.notify(c,d)}catch(a){}}}}(jQuery);
gx.util.browser.isIE()&&function(){function l(c,d){d=d||{bubbles:!1,cancelable:!1,detail:void 0};var g=document.createEvent("CustomEvent");g.initCustomEvent(c,d.bubbles,d.cancelable,d.detail);return g}if("function"===typeof window.CustomEvent)return!1;l.prototype=window.Event.prototype;window.CustomEvent=l}();
gx.fx.obs.addObserver("gx.onload",gx,function(){var l={};gx.serviceWorkerUrl&&"serviceWorker"in navigator&&(gx.staticDirectory&&gx.basePath&&(l={scope:gx.util.resourceUrl(gx.basePath,!1)+"/"}),navigator.serviceWorker.register(gx.serviceWorkerUrl,l).then(function(c){console.log("Service Worker Registered:",gx.serviceWorkerUrl,"scope: ",c.scope)}))});
(function(l){function c(n,v){n=l(n);var y=n.is("SPAN,DIV");return n.attr(v)||(y?n.find("> a").first().attr(v):"")}var d=gx.GxObject.prototype;d.sPrefix=function(){return this.CmpContext};d.declareDomainHdlr=function(n,v){this.GXValidFnc[n].dom_hdl=v};d.setVCMap=function(n,v,y,B,C,I){this.VarControlMap[n]={id:v,grid:y,type:B,length:C,decimals:I}};d.setSDTMapping=function(n,v){this.SDTMap=this.SDTMap||{};this.SDTMap[n]=v;n={};for(var y in v)v[y].extr&&(n[v[y].extr]=y);v.extrn=n};d.applySDTVarMapping=
function(n,v){if(this.VarControlMap[v]&&this.VarControlMap[v].type)var y=this.VarControlMap[v].type;return this.applySDTMapping(n,y,!0)};d.applySDTMapping=function(n,v,y){if(n&&v){v=this.SDTMap?this.SDTMap[v]:void 0;var B;if(v){for(B in v.extrn)y?(n[v.extrn[B]]=n[B],delete n[B]):(n[B]=n[v.extrn[B]],delete n[v.extrn[B]]);for(B in v)if(v[B].sdt){var C=n[B]?n[B].length:0;if(C)for(var I=0;I<C;I++)this.applySDTMapping(n[B][I],v[B].sdt,y);else this.applySDTMapping(n[B],v[B].sdt,y)}}}return n};d.Initialize=
function(){this.InitStandaloneVars();gx.wpo(function(){this.initTargets()},this)};d.InitStandaloneVars=function(){var n=gx.O;gx.setGxO(this);this.SetStandaloneVars();null!=n&&gx.setGxO(n)};d.getCmpType=function(n){n=this.cmpRegex.exec(n);this.cmpRegex.lastIndex=0;return n};d.getContainer=function(){if(this.containerControl)return gx.dom.byId(this.containerControl);if(!this.CmpContext&&!this.IsMasterPage)return l(".gx-content-placeholder").get(0)||document.body;var n,v=this.getCmpType(this.CmpContext);
v&&(n=gx.dom.byId(v[1]+"gxHTMLWrp"+v[2]+(v[3]||"")));if(n)return n};d.setContainer=function(n){this.containerControl=n};d.setObjectType=function(n){this.ObjectType=n};d.getObjectType=function(){return this.ObjectType};d.isTransaction=function(){return null!=this._isTrn?this._isTrn:this._isTrn="trn"==this.getObjectType()};d.setAjaxSecurity=function(n){this.AjaxSecurity=n};d.setOnAjaxSessionTimeout=function(n){switch(n){case "Warn":this.OnSessionTimeout=gx.timeoutActions.warn;break;case "CallObj":this.OnSessionTimeout=
gx.timeoutActions.callObj}};d.addKeyListener=function(n,v){gx.evt.addKeyListener(this.CmpContext,n,v)};d.clearMessages=function(){this.MsgList.length=0};d.addMessage=function(n){this.MsgList.push(n)};d.showMessages=function(n){for(var v=[],y=this.MsgList.length,B=0;B<y;B++){var C=this.MsgList[B];"string"===typeof C?v.push({att:"",type:2,text:this.MsgList[B]}):v.push(C)}y={};y[""==this.CmpContext?"MAIN":this.CmpContext]=v;n?gx.fn.setErrorViewer(y,!1):gx.fn.setErrorViewer(y);this.clearMessages()};d.setPrompt=
function(n,v){gx.fn.attachCtrl(this.CmpContext+n,{id:n,isPrompt:!0,wc:this.CmpContext,mp:this.IsMasterPage,controls:v,obj:this});this.promptKeyHandlers||(this.promptKeyHandlers={});this.promptKeyHandlers[n]=function(y){if((y=(y||gx.dom.el(n)).parentNode)&&y.href&&(y=y.href.match("javascript:(.+)"))&&1<y.length){y=decodeURIComponent(y[1]);try{eval(y)}catch(B){gx.dbg.logEx(B,"gxfrmutl.js","setPrompt")}}}};d.readServerVars=function(){if(!gx.lang.emptyObject(gx.csv.lastEvtResponse)){for(var n=[],v=gx.csv.lastEvtResponse.gxValues,
y=v.length,B=0;B<y;B++){var C=v[B];if(C.CmpContext==this.CmpContext&&gx.lang.booleanValue(C.IsMasterPage)==this.IsMasterPage){n.push(C);break}}gx.fn.setJsonValues(n)}};d.call=function(n,v,y,B){gx.nav.willRedirect(n)?(!1===gx.csv.useNamedParameters&&(B=void 0),this.postEventRedirect={url:gx.http.formatLink(n,v,B),forceDisableFrm:!1}):gx.nav.call.apply(gx.nav,arguments)};d.callUrl=function(n,v){gx.nav.willRedirectByUrl(n)?this.postEventRedirect={url:n,forceDisableFrm:!1}:gx.nav.callUrl.apply(gx.nav,
arguments)};d.popupOpen=function(n){this.postEventPopupCommands.push({popup:gx.lang.clone(n)})};d.popupOpenUrl=function(n,v){this.postEventPopupCommands.push({popup:gx.popup.openUrlToOpenPopupParms(n,v)})};d.refreshInputs=function(n){for(var v=n.length,y=0;y<v;y++){var B=this.getValidStructFld(n[y][1]);null!=B&&"function"==typeof B.c2v&&B.c2v()}};d.refreshOutputs_impl=function(n){for(var v=[],y=0,B=n.length;y<B;y++){var C=n[y];if(C.fld){var I=this.getValidStructFld(C.fld);if(null!=I)gx.fn.v2c(I),
C=gx.fn.getControlGridRef(I.fld,I.grid),gx.csv.invalidateGXCtrl(C),gx.fn.setControlOldValue(C,I.val());else{I=this.getVariable(C.av);if(null!=I&&"object"==typeof I){var L=this.getFormBCForVar(C.av);null!=L&&this.bcToScreen(L,I);(L=this.getGridForColl(C.av))&&L.refreshCollection(I)}gx.fn.setHidden(gx.csv.ctxControlId(C.fld,this),I)}}else C.ctrl&&v.push(C)}gx.uc.StartRender();y=0;for(B=v.length;y<B;y++)C=v[y],gx.uc.isUserControl(C.ctrl)&&(C.ctrl.execV2CFunctions(!1),C.ctrl.execShowFunction());gx.uc.EndRender()};
d.OnClientEventEnd=function(){gx.fn.usrSetFocus_commit()};d.refreshOutputs=function(n){var v=this.postEventPopupCommands;this.postEventPopupCommands=[];this.postEventRedirect&&(v.push({redirect:this.postEventRedirect}),delete this.postEventRedirect);0<v.length&&gx.ajax.dispatchCommands(v);this.refreshOutputs_impl(n);this.showMessages()};d.refreshRowOutputs=function(n){this.refreshOutputs_impl(n)};d.refreshServerOutputs=function(n){for(var v=n.length,y=0;y<v;y++){var B=n[y],C=gx.fn.getHidden(this.CmpContext+
B.fld);void 0!=C&&((B=this.getValidStructFld(B.fld))&&B.v2v?(B.v2v(C),gx.fn.v2c(B,C)):this.setVariable(n[y].av,C))}};d.getContextObject=function(n){return null!=this.getValidStructFld(n)&&(n=gx.fn.getControlValue_impl(this.CmpContext+n),null!=n)?n:""};d.getValidStructId=function(n){if(!gx.lang.emptyObject(n))for(var v=this.getControlIds(),y=0;y<v.length;y++){var B=this.getValidStruct(v[y]);if(this.isSameField(B,n))return v[y]}return-1};d.getValidStructFld=function(n){if("function"==typeof n||"object"==
typeof n&&n.tagName)n="object"==typeof n&&"radio"===n.type&&n.name?n.name:gx.dom.id(n);var v=this.getValidStructFld_cache[n];if(v)return v;if(!gx.lang.emptyObject(n)){v=this.getControlIds();for(var y=v.length,B=0;B<y;B++){var C=this.getValidStruct(v[B]);if(this.isSameField(C,n))return this.getValidStructFld_cache[n]=C}}return this.getValidStructFld_cache[n]=null};d.isSameField=function(n,v){var y=n.fld;if(y==v)return!0;this.IsComponent&&0==v.indexOf(this.CmpContext)&&(v=v.substring(this.CmpContext.length));
0!=n.grid&&(v=v.replace(this.rowPatternRegex,""));this.IsMasterPage&&(y=y.replace(/_MPAGE$/,""),v=v.replace(/_MPAGE$/,""));return y==v};d.getUserFocus=function(){var n=gx.fn.getHidden(this.CmpContext+"GX_FocusControl");if(!gx.lang.emptyObject(n)&&"notset"!=n){var v=gx.dom.byId(n);if(!gx.lang.emptyObject(v)&&!gx.fn.isAccepted(v)){n=gx.csv.cmpCtx;gx.csv.cmpCtx=this.CmpContext;var y=gx.O;gx.O=this;v=gx.fn.firstAcceptedControl(gx.popup.ispopup());gx.O=y;gx.csv.cmpCtx=n;n=gx.lang.emptyObject(v)?"":v.id}}if(gx.lang.emptyObject(n)){if(this.hasMasterPage()&&
(n=this.MasterPage.getUserFocus(),!gx.lang.emptyObject(n)))return n;v=[];for(y=0;y<this.WebComponents.length;y++)if(0==this.WebComponents[y].CmpContext.indexOf("MP"))v.push(this.WebComponents[y]);else if(n=this.WebComponents[y].getUserFocus(),!gx.lang.emptyObject(n))return n;for(y=0;y<v.length&&(n=v[y].getUserFocus(),gx.lang.emptyObject(n));y++);}return n};d.getGridColumn=function(n,v){var y=null,B=gx.fn.controlGridId(n);0!=B&&(v=gx.O.getGridById(B,v))&&(y=v.grid.getColumnByHtmlName(n));return y};
d.hasMasterPage=function(){return null!=this.MasterPage};d.setComponent=function(n){this.CmpControls[n.id.toLowerCase()]=n};d.getComponentByPrefix=function(n){var v=l.map(this.CmpControls,function(y,B){return y.Prefix==n?y:null});return 1==v.length?v[0]:null};d.refreshGrid=function(n){(n=this.getGrid(n))&&n.doRefresh()};d.refreshComponent=function(n){var v=this.getWebComponent(this.CmpContext+this.getComponentData(n).Prefix);v?gx.evt.dispatcher.dispatch("REFRESH",v):(v=gx.fn.controlGridId(n),0!==
v&&(v=gx.pO.getWebComponent(this.CmpContext+this.getComponentData(n).Prefix+gx.fn.currentGridRow(v)))&&gx.evt.dispatcher.dispatch("REFRESH",v))};d.getComponentPrefix=function(n){return(n=this.getComponentData(n))?n.Prefix||"":""};d.getComponentData=function(n){return this.CmpControls[n.toLowerCase()]};d.createWebComponent=function(n,v,y,B,C,I,L){I=I||this.getComponentPrefix(n);B||(n=gx.fn.controlGridId(n),B=0!==n?gx.fn.currentGridRow(n):"");C=C||this.CmpContext+"gxHTMLWrp"+I+B;I=this.CmpContext+I;
var M=gx.getObj(I,!1);M?M.startFeedback():(n=gx.dom.byId(C),n.firstChild&&gx.dom.mask(C));n=gx.gen.isJava()&&gx.pO.PackageName&&!gx.text.startsWith(v,"/")?gx.pO.PackageName+".":"";gx.ajax.dynComponent(n+v,y,I,B).done(function(N){N.DynComponentMap||(N.DynComponentMap={});N.DynComponentMap[I+B]=C;gx.ajax.setJsonResponse({response:N,isPostBack:!0,gxObject:M||gx.O,afterCmpLoaded:function(){L&&L(I)}});M?M.endFeedback():gx.dom.unmask(C)})};d.registerComponent=function(n){this.WebComponents[n.CmpContext]=
n;this.WebComponents.push(n)};d.setWebComponent=function(n,v){this.deleteComponent(n.CmpContext,n,!1);v&&this.restoreComponentHiddens(n.CmpContext,v);this.registerComponent(n);n.JustCreated=!0;gx.fn.setHidden(n.CmpContext,n.ServerClass);gx.fx.obs.notify("webcom.render",[n])};d.getWebComponent=function(n){return this.WebComponents[n]};d.deleteComponent=function(n,v,y){y="undefined"==typeof y?!0:y;var B=this.getWebComponent(n);if(B){var C=gx.gen.isJava()&&B.PackageName?B.PackageName+".":"";gx.cache.deleteInlineCode(n+
C+B.ServerClass.toLowerCase());y&&this.deleteComponentHiddens(n);gx.lang.emptyObject(v)||gx.fn.setHidden(v.CmpContext,v.ServerClass);B.ondestroy();delete this.WebComponents[n];v=this.WebComponents.length;for(y=0;y<v;y++)if(this.WebComponents[y].CmpContext==n){this.WebComponents.splice(y,1);break}for(v=gx.attachedControls.length;v--;)gx.attachedControls[v].info.wc===n&&gx.attachedControls.splice(v,1);v=this.WebComponents;for(var I in v)isNaN(parseInt(I))&&0===I.indexOf(n)&&this.deleteComponent(I)}};
d.deleteComponentHiddens=function(n){if(gx.lang.isArray(n)){if(0==n.length)return;n=gx.fn.getCmpRegex("("+n.join("|")+")")}else n=gx.fn.getCmpRegex(n);n=gx.fn.filterHiddens(n,gx.http.viewState);for(var v in n)v&&gx.fn.deleteHidden(v)};d.restoreComponentHiddens=function(n,v){n=gx.fn.getCmpRegex(n);v=gx.fn.filterHiddens(n,v);for(var y in v)y&&gx.fn.setHidden(y,v[y])};d.setCmpContext=function(n){void 0!=n&&(this.IsTypeComponent=!0,""!==n&&(this.IsComponent=!0),this.CmpContext=n)};d.getOldLvl=function(n){for(var v in this.LvlOlds)for(var y=
this.LvlOlds[v],B=y.length,C=0;C<B;C++)if(y[C]==n)return v;return-1};d.refreshDependantGrids=function(n){for(var v=this.Grids.length,y=0;y<v;y++)for(var B=this.Grids[y],C=B.refreshVars,I=C.length,L=0;L<I;L++)if(C[L].fld==n.fld){B.filterVarChanged();break}};d.getCtrlPropertyValue=function(n,v){var y=gx.fn.getCtrlProperty(n,v);void 0===y&&(y=gx.fn.getHidden(n+"_"+v));return y};d.setGrid=function(n){this.Grids[n.gridName]=n;this.GridsUpper[n.gridName.toUpperCase()]=n;var v=this.getGridIdxByName(n.gridName);
-1!=v?this.Grids[v]=n:this.Grids.push(n)};d.getGrid=function(n){n=n||"";return this.Grids[n]||this.GridsUpper[n.toUpperCase()]};d.getGridIdxByProp=function(n){for(var v=this.Grids.length,y=0;y<v;y++)if(n(this.Grids[y]))return y;return-1};d.getGridIdxByName=function(n){return this.getGridIdxByProp(function(v){return v.gridName===n})};d.getGridByBaseName=function(n){var v=this.getGridIdxByProp(function(y){return y.gridName===n||y.grid.GridBaseName===n});return-1===v?null:this.Grids[v]};d.getGridIdx=
function(n){for(var v=this.Grids.length,y=0;y<v;y++)if(this.Grids[y].gridId==n)return y;return-1};d.getGridById=function(n,v){v=v||"";for(var y=this.Grids.length,B=0;B<y;B++){var C=this.Grids[B];if(C.gridId==n&&(!C.parentRow||gx.text.endsWith(v,C.parentRow.gxId)))return C}return null};d.getGridForColl=function(n){n=this.getAllGridsForColl(n);return 0===n.length?null:n[0]};d.getAllGridsForColl=function(n){for(var v=this.Grids.length,y=[],B=0;B<v;B++){var C=this.Grids[B];C.boundedCollName==n&&y.push(C)}return y};
d.getFormBCForVar=function(n){for(var v in this.FormBCs){var y=this.FormBCs[v];if(y&&y.gxvar==n)return y}return null};d.getGridBC=function(n){var v=n;this.IsComponent&&0===n.indexOf(this.CmpContext)&&(v=n.substring(this.CmpContext.length));return this.GridBCs[v]};d.getFormBC=function(n){var v=n;this.IsComponent&&0===n.indexOf(this.CmpContext)&&(v=n.substring(this.CmpContext.length));return this.FormBCs[v]};d.addGridBCProperty=function(n,v,y,B){var C=this.getGridBC(n);"undefined"==typeof C&&(C={},
C.gxvar=B,this.GridBCs[n]=C);this.addBCProperties(C,v,y,B)};d.addBCProperty=function(n,v,y,B){var C=this.getFormBC(n);"undefined"==typeof C&&(C={},C.gxvar=B,this.FormBCs[n]=C);this.addBCProperties(C,v,y,B)};d.addBCProperties=function(n,v,y,B){if(n&&y)if(v instanceof Array)for(var C=v.length,I=function(M){var N=this[y.gxvar];gx.lang.emptyObject(y.hc)||(N=this[y.hc]);if("date"==y.type)N=(new gx.date.gxdate(N)).getString("Y4MD");else if("bitstr"===y.type&&gx.pO.fullAjax){var R=gx.fn.getControlGridRef(y.fld,
y.grid,M);R&&l(R).val()&&(N="gxformdataref:"+R.id)}this.valueToBCProp(this[B],v,y,N,M)},L=0;L<C;L++){if("undefined"==typeof n[v[L]])if(L<C-1)n[v[L]]={};else{n[v[L]]=y;"object"==typeof this[B]&&(y.v2bc=I);break}n=n[v[L]]}else"string"==typeof v&&(n[v]=y)};d.valueToBCProp=function(n,v,y,B,C){try{if(n){var I=v.length,L=C||"",M=C=0,N,R=function(P){if(gx.lang.isArray(P)&&y&&y.grid){var X=gx.fn.getGridObj(y.grid,L&&4===L.length?L:void 0);X=X&&X.grid&&!X.InfiniteScrolling?X.grid.firstRecordOnPage:0;N=L?L:
gx.fn.currentGridRow(y.grid);3<N.length&&(M+=1,N=N.substr(-4*M,4),P=P[Number(X||0)+Number(N)-1])}return P};for(n=R(n);n&&C<I-1;C++)n[v[C]]||(n[v[C]]={}),n=R(n[v[C]]);n&&(C=v.length-1,n[v[C]]=B,void 0!==n[v[C]+"_N"]&&(n[v[C]+"_N"]=0))}}catch(P){gx.dbg.logEx(P,"gxfrmutl.js","valueToBCProp")}};d.bcToScreen=function(n,v){for(var y in n)if("gxvar"!=y)try{if("object"==typeof v[y])this.bcToScreen(n[y],v[y]);else{var B=n[y];(0==B.grid||gx.csv.validatingGrid&&B.grid==gx.csv.validatingGrid.gridId)&&gx.lang.emptyObject(B.hc)&&
void 0!=v[y]&&B.v2v&&(B.v2v(v[y]),gx.fn.v2c(B,v[y]))}}catch(C){gx.dbg.logEx(C,"gxfrmutl.js","bcToScreen")}};d.addGridUCEventHandler=function(n,v,y){gx.lang.emptyObject(this.GridUCsEvts[n])&&(this.GridUCsEvts[n]=[]);this.GridUCsEvts[n].push({e:v,h:y})};d.getGridUCEventHandlers=function(n){n=this.GridUCsEvts[n];return gx.lang.emptyObject(n)?[]:n};d.setGridUCDynProp=function(n,v,y,B,C){this.setGridUCProp(n,v,y,B,C)};d.setGridUCProp=function(n,v,y,B,C){gx.lang.emptyObject(this.GridUCsProps[n])&&(this.GridUCsProps[n]=
[]);this.GridUCsProps[n].push({p:v,h:y,v:B,t:C});"InternalTitle"==v&&(this.GridUCsProps[n].title=B)};d.getGridUCProperties=function(n){n=this.GridUCsProps[n];return gx.lang.emptyObject(n)?[]:n};d.addUsercontrolBinding=function(n,v,y){this.UCBindings[n]||(this.UCBindings[n]={fld:v,uc:[]},this.UCBindingsHiddens[v]=this.UCBindings[n]);gx.util.inArray(y,this.UCBindings[n].uc)||this.UCBindings[n].uc.push(y)};d.setUserControl=function(n){n.ContainerName&&(this.UserControls[n.ContainerName]=n)};d.getUserControl=
function(n){var v=this.UserControls[n];v||""==this.CmpContext||(v=this.UserControls[this.CmpContext+n]);return v};d.getUserControlGrids=function(){return l.map(this.Grids,function(n){if(n.grid&&n.isUsercontrol)return n.grid})};d.execV2CFunctions=function(n,v,y,B){y=void 0===y||y;v||(v=this.UserControls);var C=this;gx.uc.StartRender();l.each(v,function(I,L){!L||C!=L.ParentObject||!y&&L.GridId&&!L.gxGridName||B&&!B(L)||L.updateAndShow(n)});gx.uc.EndRender()};d.execC2VFunctions=function(){l.each(this.UserControls,
function(n,v){try{v.execC2VFunctions()}catch(y){gx.dbg.logEx(y,"gxfrmutl.js","execC2VFunctions")}try{v.saveProperties()}catch(y){gx.dbg.logEx(y,"gxfrmutl.js","execC2VFunctions")}})};d.setMode=function(){gx.fn.setHidden(this.CmpContext+"_MODE",this.Gx_mode);gx.fn.setHidden(this.CmpContext+"Mode",this.Gx_mode)};d.setVariable=function(n,v){var y=this[n]=v;0!=n.indexOf(this.CmpContext)&&gx.fn.setHidden(this.CmpContext+n,v);if(void 0!=this.VarControlMap[n]){var B=this.VarControlMap[n].type;if("date"==
B||"dtime"==B)"string"==typeof v&&(v=new gx.date.gxdate(v),this[n]=v),"date"==B?y=v.getStringWithFmt("Y4MD"):(y=this.VarControlMap[n].decimals,y=v.getStringWithFmt("Y4MD")+" "+v.getTimeString(!0,!0,1<y,12<=y));"decimal"==B&&"."!=gx.decimalPoint?(y=v.toString().replace(".",gx.decimalPoint),"string"==typeof v&&(this[n]=gx.num.parseFloat(v))):"int"==B&&"string"==typeof v&&(this[n]=gx.num.parseInt(v));gx.fn.setHidden(this.CmpContext+this.VarControlMap[n].id,y)}this.isTransaction()&&"Gx_mode"==n&&this.setMode();
void 0!=this.UCBindings[n]&&gx.fn.setHidden(this.CmpContext+this.UCBindings[n].fld,v)};d.getVariable=function(n){return this[n]};d.isServerEvent=function(n){return this.Events[n][1]||!1};d.getServerEventName=function(n){return this.Events[n][0]||""};d.getClientEventName=function(n){for(var v in this.Events)if(this.Events[v][0]==n)return v;return""};var g={RFR:"REFRESH",RFR_MPAGE:"REFRESH"},a=[".CONTROLVALUECHANGED",".CONTROLVALUECHANGING"],b=function(n){for(var v=0;v<a.length;v++)if(0<=n.indexOf(a[v]))return!1;
return!0};d.cleanEventName=function(n){n=n.replace(new RegExp("^"+this.CmpContext),"");var v=(gx.pO.fullAjax?/^E('?(.*)\.?'?)/:/^E('?(\w+)\.?([^\.]*)'?)/).exec(n);n=v&&v.length&&1<v.length?v[1].replace(/\.\d*$/,""):n;return g[n]||n};d.inputHasFormatErrors=function(n,v,y){var B=this;v=this.cleanEventName(n);var C,I,L=!1;n=gx.csv.anyFormatError();var M;if(!this.fullAjax&&n)return!0;if(!n||!this.EvtParms[v]||!b(v))return!1;y=this.EvtParms[v][0];var N=this,R=function(aa,ba,ha){var ia=ba||ia,la=ha||la;
if(aa)if(ia&&la&&aa.grid==ia){if((C=gx.fn.getControlGridRef(aa.fld,ia,la))&&C.id&&void 0!==gx.csv.gxFormatErrors[C.id])return!0}else if((C=gx.fn.getControlGridRef(aa.fld,aa.grid))&&C.id)for(M in gx.csv.gxFormatErrors)if(aa==N.getValidStructFld(M))return!0;return!1};v=0;for(len=y.length;v<len&&!L;v++){var P=y[v];if(P.postForm)return n;if(P.fld)if(I=this.getValidStructFld(P.fld))L=L||R(I);else{var X=this.getFormBCForVar(P.av);if(null!=X)for(var W in X)I=X[W],"object"===typeof I&&(L=L||R(I));(P=gx.O.getAllGridsForColl(P.av))&&
P.some(function(aa){var ba=aa.gridId;gx.O.GXValidFnc.filter(function(ha){return ha.grid===ba}).forEach(function(ha){(I=B.getValidStructFld(ha.fld))&&aa.grid.rows.forEach(function(ia){L=L||R(I,ba,ia.gxId)});return L})})}}return L};d.setEventParameters=function(n,v){gx.csv.lastEvtRow=null;gx.O=this;var y=!0,B=-1;gx.csv.cmpCtx=this.CmpContext;for(var C=n.length,I=0;I<C;I++){var L=n[I][0],M=n[I][1],N=n[I][2],R=!1;if(v instanceof r)this.setVariable(N,v.parms[I]),R=!0;else for(var P in v)if(P.toLowerCase()==
L.toLowerCase()){this.setVariable(N,v[P]);R=!0;break}R||this.setVariable(N,v);L=this.getValidStructFld(M);null!=L?(0!=L.grid&&-1==B?B=L.grid:0!=L.grid&&L.grid!=B&&(y=!1),gx.fn.v2c(L)):gx.fn.setHidden(this.CmpContext+M,this.getVariable(N))}y&&(gx.csv.lastEvtRow=gx.fn.currentGridRowImpl(B))};d.executeEvent=function(n,v,y,B,C){gx.O=this;gx.csv.cmpCtx=this.CmpContext;var I=this.getClientEventName(n);(I?this.isServerEvent(I):1)?(C?(I=this.getGrid(C))&&y?I.instanciateRow(y):gx.csv.instanciatedRowGrid=null:
gx.csv.instanciatedRowGrid=null,n=this.executeServerEvent(n,v,y,B,this.fullAjax&&!y&&!C)):n=gx.evt.execCliEvt(this.CmpContext,this.IsMasterPage,I,C,y,"");gx.csv.instanciatedRowGrid=null;return n};d.executeClientEvent=function(n,v){var y=gx.$.Deferred();Promise.resolve(n.apply(this,v)).then(function(B){y.resolve()});return y.promise()};d.executeServerEvent=function(n,v,y,B,C){var I=l.Deferred();gx.csv.cmpCtx=this.CmpContext;var L=!0;void 0!=v&&0==v&&(L=!1);(v=null!=y&&(gx.csv.validatingGrid||gx.csv.instanciatedRowGrid))&&
v.parentObject!=this&&(v=null);var M=gx.lang.emptyObject(v)?!1:v.gridId;y=y||gx.csv.lastEvtRow||"";C?(y="",M=null):(""==y&&M&&(y=gx.csv.lastRow[M]),"undefined"==typeof y&&(y=gx.fn.currentGridRowImpl(v.gridId)));gx.evt.execEvt(this.CmpContext,this.IsMasterPage,this.CmpContext+"E"+n+"."+(y||""),gx.evt.dummyCtrl,M,L,null,null,function(){I.resolve()},B,function(){I.resolve()},!1);return I.promise()};d.executeEnterEvent=function(n,v,y){var B=this.gxOWithEnter(v),C=!1;if(v&&v.onblur)v.onblur();if((gx.pO.fullAjax||
null==B)&&n&&gx.evt.cancelAndRefresh(n)){if(null==B||B.autoRefresh||!B.hasEnterEvent||B.anyGridBaseTable)return;C=!0}n?(gx.dom.hasSubmitControl()&&gx.evt.cancel(n,!0),v&&"INPUT"==v.nodeName&&gx.dom.isEditControl(v)&&gx.evt.cancel(n,!0)):C=!0;if(null!=B){var I="ENTER";B.IsMasterPage&&(I+="_MPAGE");I=B.CmpContext+"E"+I+".";if(v&&gx.evt.isEnterEvtCtrl(v)){var L=gx.fn.controlRowId(v);var M=gx.fn.controlGridId(v.id);L&&(I+=L)}gx.evt.execEvt(B.CmpContext,B.IsMasterPage,I,gx.evt.dummyCtrl,M,!1,null,y,null,
C,void 0,null!=B);n&&gx.evt.cancel(n,!0)}};d.gxOWithEnter=function(n){if(n&&(n=gx.fn.getControlContext(n))&&n.hasEnterEvent)return n;if(this.hasEnterEvent)return this;if(this.IsComponent){n=this.getCmpType(this.CmpContext);var v=""==n[1]&&0==n[0].indexOf("MP");n=gx.getObj(n[1],v);if(!gx.lang.emptyObject(n))return n.gxOWithEnter()}else if(this.hasMasterPage())return this.MasterPage.gxOWithEnter();return null};d.getLastControlId=function(){return this.GXLastCtrlId};d.getValidStruct=function(n){return this.GXValidFnc[n]};
d.getControlIds=function(){return this.GXCtrlIds};d.getControlIdsh=function(){return this.GXCtrlIdsh};d.getUsercontrolFromChild=function(n){l.each(this.UserControls,function(v,y){v=y.getContainerControl();if(gx.dom.isChildNode(n,v))return y});return null};d.installFlatLevelDatePickers=function(){for(var n,v=this.getControlIds(),y=v.length,B=0;B<y;B++)n=this.getValidStruct(v[B]),void 0!=n&&0==n.grid&&void 0!=n.dp&&gx.fn.installDatePicker(this.CmpContext+n.fld,n,this,n.dp.f,n.dp.st,n.dp.wn,n.dp.mf,
gx.fn.datePickerFormat(n.dp.pic,n.dp.dec,n.len),n.len,n.dp.dec)};d.installImageControls=function(){for(var n=gx.dom.byClass(gx.html.multimediaUpload.gxCssClass),v=0,y=n.length;v<y;v++)gx.html.multimediaUpload.createControl(n[v]);n={};this.IsComponent&&(v=gx.pO.getWebComponent(this.CmpContext),n.observerKey=v&&v.getContainer()&&v.getContainer().id);gx.fx.obs.addObserver("gx.multimedia.clear",this,this.clearMultimediaValue,n)};d.initControlsEnabledFlag=function(n){if("bits"!=n.type&&"audio"!=n.type&&
"video"!=n.type&&(n=gx.fn.getControlRef(n.fld))){var v=gx.http.viewState[gx.dom.id(n)+"_Enabled"];void 0!==v&&gx.fn.setEnabledProperty(n,gx.lang.gxBoolean(v),!1)}};d.initControlsBehaviour=function(){var n=this;l.each(gx.O.GXValidFnc,function(v,y){y&&y.fld&&(n.initControlsEnabledFlag(y),y.gxsgprm&&(v=gx.fn.getControlRef(y.fld))&&gx.fx.installSuggest(v))})};var f=function(n){if(gx.lang.emptyObject(n))return!1;try{var v=new Function(gx.text.contains(n.toLowerCase(),"return")?n:"return "+n)}catch(y){return gx.lang.doEval(n)}try{return v()}catch(y){gx.dbg.logEx(y,
"gxfrmutl.js","evaluateCode")}return!1},k=function(n){var v=n.tagName.toLowerCase();return"img"==v||"input"==v?l(n).attr(gx.GxObject.GX_EVENT_CONDITION_DATA_ATTR):l("a["+gx.GxObject.GX_EVENT_CONDITION_DATA_ATTR+"]",n).attr(gx.GxObject.GX_EVENT_CONDITION_DATA_ATTR)},m=function(){var n={select:!0,textarea:!0},v=gx.lang.apply({radio:!0,checkbox:!0,file:!0},gx.dom.editControls);return function(y,B){B=void 0===B?!1:B;if(!y)return!1;var C=y.tagName.toLowerCase(),I=[].slice.call(y.children);return(n.a=B)&&
I.some(function(L){return m(L,B)})||("input"==C?v[y.type.toLowerCase()]:n[C])}}(),q=function(n){return n&&"label"==n.tagName.toLowerCase()&&(n=n.getAttribute("for"))?(n=gx.dom.el(n),m(n)&&gx.fn.isVisible(n,0)):!1},w=function(n){if("keypress"!==n.type||13===n.keyCode||32===n.keyCode&&gx.dom.isButton(n))if("keypress"===n.type&&(gx.evt.processing||gx.evt.redirecting))n.preventDefault();else{var v=n.target,y=l(v),B=l(n.currentTarget);gx.dom.isRoundedBtnWrapper(y)&&(y=y.find("input"),B=B.find("input"));
var C=gx.fn.getControlContext(B);if(!v||"A"!==v.tagName.toUpperCase()||void 0!==l(v).attr(gx.GxObject.GX_EVENT_DATA_ATTR)||!v.href)if(!C)n.preventDefault();else if(!B.hasClass("gx-disabled")&&(!m(v)&&!q(v)||l(v).is(B))&&!gx.dom.hasAttribute(v,gx.GxObject.GX_EVENT_EVENT_IN_PROGRESS)){n.stopPropagation();var I=function(){var L=B.attr(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR);gx.util.browser.isOldIE()&&!gx.util.browser.isWinCE()?t.apply(this,[n,y,C,L]):p.apply(this,[n,y,C,L])};gx.wr(function(){gx.evt.doAfterProcessing(I,
this)},this)}}},p=function(n,v,y,B){if(!v[0]||"button"!==v[0].type||!v[0].disabled){var C=function(){gx.csv.resetRow();var L=y.getValidStructFld(B);L&&L.grid&&gx.evt.setEventRow(y,v.get(0))},I=function(){C();v.removeAttr(gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR);y.handleControlEvent(n,B,this)}.closure(this);gx.fx.dom.delayedDispatch(n)?v.attr(gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR)?(C(),gx.fx.dom.raiseEvent("dblclick",n)):(I=setTimeout(I,gx.config.evt.dblclick.delay),v.attr(gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR,
I)):I.call()}},t=function(n,v,y,B){if(!v.attr(gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR)){var C=function(){gx.csv.resetRow();var I=y.getValidStructFld(B);I&&I.grid&&gx.evt.setEventRow(y,v.get(0));v.removeAttr(gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR);y.handleControlEvent(n,B,this)}.closure(this);gx.fx.dom.delayedDispatch(n)?(C=setTimeout(C,gx.config.evt.dblclick.delay),v.attr(gx.GxObject.GX_EVENT_CONTROL_DELAYED_ATTR,C)):C.call()}},z=function(n,v,y){try{y&&n.preventDefault(),v&&n.stopPropagation()}catch(B){}};
d.handleControlEvent=function(n,v,y){var B=this.controlEventMap;if(B[v]){var C=B[v],I=B[v].evt;v=this.Events[I]?this.Events[I][0]:B[v].std;var L=c(y,gx.GxObject.GX_EVENT_DATA_ATTR),M=c(y,gx.GxObject.GX_EVENT_CODE_DATA_ATTR),N=k(y);B=0<C.grid?gx.fn.controlRowId(n.currentTarget):null;var R=this.getGridById(C.grid,B);I=!0;var P=!1,X=l(n.target);if(!gx.util.inArray(C.ctrltype,gx.GxObject.GX_EVENT_EXCLUDED_CTRLTYPES))switch(L){case "1":z(n,!0,!0);N&&!f(N)||gx.fn.closeWindow();break;case "3":case "4":z(n,
!0,!0);M&&f(M);break;case "8":gx.ajax.doRefresh(this);break;default:if(!N||f(N)){if(R)var W=R.gridName;"checkbox"===C.ctrltype&&(gx.fn.checkboxClick(C,y,C.values[0],C.values[1]),I=!1,P=!0);if(v){C=v.substring(v.indexOf(".")+1,v.length).toLowerCase();L=n.type.toLowerCase();if(C.includes("click")&&!L.includes("click")&&n.currentTarget&&"textarea"===n.currentTarget.type)break;X.attr(gx.GxObject.GX_EVENT_EVENT_IN_PROGRESS,!0);this.executeEvent(v,!1,B,!1,W).always(function(aa){var ba=function(){l(aa).attr(gx.GxObject.GX_EVENT_EVENT_IN_PROGRESS,
null)};gx.evt.redirecting?ba():gx.spa.isNavigatingRaw()?gx.spa.addObserver("onnavigate",this,ba,{single:!0}):ba()}.closure(this,[X]))}if(P)gx.evt.onchange(y)}gx.dom.isRadio(y)||z(n,!0,I)}}};d.registerCtrlsEventHandlers=function(){var n,v=this.GXCtrlIds,y=this.GXValidFnc,B=this.IsMasterPage,C=this.CmpContext,I=B?"_MPAGE":"",L="["+gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR+"]",M=!C&&!B;void 0===this.listeningControlEvents&&(this.listeningControlEvents=!1);this.controlEventMap||(this.controlEventMap={});
var N=this.controlEventMap;var R=0;for(n=v.length;R<n;R++){var P=y[v[R]];var X=gx.fn.controlFiresEvent(P);var W=this.hasEnterEvent&&!gx.lang.emptyObject(P.ctrltype)||P.evt_cvc||P.evt_cvcing;if(X||W)if(X&&(N[P.fld]=P),0===P.grid&&P.fld){var aa=C+P.fld+(P.gxvar?"":I);W="#span_"+aa;aa="radio"===P.ctrltype?"[name="+aa+"]":"#"+aa;try{var ba=P.gxvar&&0<l(W).length?l(W):l(aa)}catch(ha){gx.dbg.logEx(ha,"gxfrmutl.js","registerCtrlsEventHandlers")}X&&(ba.attr(gx.GxObject.GX_EVENT_CONTROL_DATA_ATTR,P.fld),ba.is("img")&&
ba.attr("tabindex","0"),m(ba.get(0),!0)||ba.attr("tabindex","0"));ba.attr(gx.GxObject.GX_EVENT_CONTEXT_DATA_ATTR,gx.json.serializeJson([C,B]))}}M&&!this.listeningControlEvents&&(this.listeningControlEvents=!0,l(document.body).on("click keypress",L,w),l(L).each(function(){for(var ha=l(this).parent().first();gx.dom.isRoundedBtnWrapper(ha);)ha.on("click keypress",null,w),ha=ha.parent().first()}))};d.unregisterCtrlsEventHandlers=function(){this.listeningControlEvents&&l(document.body).off("click keypress",
w);this.listeningControlEvents=!1};d.clearMultimediaValue=function(n){n=gx.html.multimediaUpload.getElements(n);n.fileField.onchange(n.fileField);gx.fn.setHidden(n.fileField.id,"");gx.fn.setHidden(n.uriField.id,"");gx.fn.setHidden(n.fileField.id+"_gxBlob","")};d.refreshOlds=function(){for(var n in this.LvlOlds){var v=this.LvlOlds[n];if("function"!=typeof v){var y=gx.fn.lvlGrid(parseInt(n,10));if(0!=y){var B=gx.fn.currentGridRow(y);if("9999"===B)continue}y=v.length;for(var C=0;C<y;C++){var I=v[C],
L=I,M="",N=gx.fn.vStructForOld(L);if(N){if(!N.gxgrid||0<N.gxgrid.grid.rows.length)M=gx.typedOld(N.fld,L,N.type)}else gx.lang.emptyObject(B)||(I+="_"+B),M=gx.fn.getHidden(this.CmpContext+I);"undefined"!=typeof M&&(N||(window[L]=M),this[L]=M)}}}};var r=function(n){this.parms=n;return this};d.refreshExoEventControls=function(n){var v=this;n="GLOBALEVENTS."+n.toUpperCase();(this.EvtParms[n]?this.EvtParms[n][0]:[]).forEach(function(y){if(y=y.fld?v.getValidStructFld(y.fld):null){var B=gx.fn.currentGridRowImpl(y.grid);
"function"==typeof y.c2v&&"function"==typeof y.val&&(y.val(B)&&y.c2v(B),gx.fn.call_v2bc(y,v));!0===y.isuc&&(y.getUCInstance(B)||y.uc).execC2VFunctions()}})};d.addExoEventHandler=function(n,v){var y=function(){var B=gx.O;gx.setGxO(this);this.refreshExoEventControls(n);v.call(this,null,null,new r(Array.prototype.slice.call(arguments,0)));gx.setGxO(B)};gx.fx.obs.addObserver(n,this,y);this.exoEventHandlers=this.exoEventHandlers||{};this.exoEventHandlers[n]=y};d.deleteExoEventHandlers=function(){for(var n in this.exoEventHandlers)this.exoEventHandlers.hasOwnProperty(n)&&
gx.fx.obs.deleteObserver(n,this,this.exoEventHandlers[n])};d.restoreExoEventHandlers=function(){for(var n in this.exoEventHandlers)gx.fx.obs.addObserver(n,this,this.exoEventHandlers[n])};d.deleteEventHandlers=function(){try{this.unregisterCtrlsEventHandlers(),gx.fx.ctx.deleteHandlers(this),gx.fx.dnd.deleteHandlers(this),this.deleteExoEventHandlers(),gx.fx.dom.deleteEventHandlers(this)}catch(n){gx.dbg.logEx(n,"gxfrmutl.js","deleteEventHandlers")}};d.ondestroy=function(){try{this.endFeedback(),this.deleteEventHandlers(),
l.each(this.UserControls,function(n,v){if(!gx.lang.emptyObject(v.destroy))try{v.destroy()}catch(y){gx.dbg.logEx(y,"gxfrmutl.js","ondestroy")}}),this.UserControls=[],delete this.containerControl}catch(n){gx.dbg.logEx(n,"gxfrmutl.js","ondestroy")}};d.onpost=function(){var n=gx.O;gx.setGxO(this);if(this.hasMasterPage())this.MasterPage.onpost();for(var v=this.WebComponents.length,y=0;y<v;y++)this.WebComponents[y].onpost();this.ReadonlyForm&&this.IsComponent&&n!=this&&this.roControlsAsHidden();this.execC2VFunctions();
gx.setGxO(n)};d.roControlsAsHidden=function(){for(var n=this.getControlIds(),v=n.length,y=0;y<v;y++){var B=this.getValidStruct(n[y]);if(0==B.grid&&"function"==typeof B.val){B=this.CmpContext+B.fld;var C=gx.dom.el(B);C&&!gx.fn.isAccepted(C)&&gx.fn.setHidden(B,gx.fn.getControlValue(B))}}};d.onload=function(n,v){l.Deferred();var y=[];gx.dbg.logPerf("objectOnload_"+this.CmpContext+this.ServerClass);gx.setGxO(this);this.screenToVars();gx.wmp(function(){this.hasMasterPage()&&(this.MasterPage.onload(),gx.setGxO(this))},
this);var B=this.Grids.length;if(!1!==n)for(var C=0;C<B;C++)y.push(this.Grids[C].loadGrid());B=this.WebComponents.length;for(C=0;C<B;C++)y.push(this.WebComponents[C].onload(n));v?this.afterLoad():gx.wr(this.afterLoad.closure(this),this);gx.dbg.logPerf("objectOnload_"+this.CmpContext+this.ServerClass);var I=this;l.when.apply(l,y).done(function(){I.execV2CFunctions(!0,void 0,!1,function(L){return L.ownerGrid&&L.ownerGrid.parentGrid});I.onLoadDeferred.resolve()})};d.afterLoad=function(){gx.dbg.logPerf("objectAfterLoad_"+
this.CmpContext+this.ServerClass);gx.setGxO(this);this.installFlatLevelDatePickers();this.installImageControls();this.refreshOlds();this.initControlsBehaviour();this.execV2CFunctions(!0,void 0,!1);this.JustCreated=!1;this.registerCtrlsEventHandlers();gx.$.map(gx.$("input[data-gx-disable], select[data-gx-disable]",this.getContainer()),function(n,v){gx.fn.disableCtrl(n.getAttribute("data-gx-disable"));n.removeAttribute("data-gx-disable")});this===gx.pO&&(gx.ui.controls.actionGroup.init(),gx.dom.indexElements(),
gx.fn.doAttachs());gx.dbg.logPerf("objectAfterLoad_"+this.CmpContext+this.ServerClass);gx.goOnload()};d.onunload=function(n){if(this.hasMasterPage()&&!1!==n)this.MasterPage.onunload();n=this.Grids.length;for(--n;0<=n;n--)delete this.Grids[this.Grids[n].gridName],this.Grids[n].cleanup(),this.Grids.splice(n,1);n=this.WebComponents.length;for(--n;0<=n;n--)delete this.WebComponents[this.WebComponents[n].CmpContext],this.WebComponents[n].onunload(),this.WebComponents.splice(n,1);this.getValidStructFld_cache=
{};gx.fn.cleanAttachedCtrls();this.ondestroy()};d.clean=function(n){this.cleanHiddens();this.onunload(n)};d.cleanHiddens=function(){gx.http.clearState();gx.http.clearMultipartHidden()};d.screenToVars=function(){try{for(var n=this.getControlIds(),v=n.length,y=0;y<v;y++){var B=this.getValidStruct(n[y]);B&&0==B.lvl&&"function"==typeof B.c2v&&B.c2v()}}catch(C){gx.dbg.logEx(C,"gxfrmutl.js","screenToVars")}};d.postbackLoad=function(n,v){var y=this.IsComponent&&this.JustCreated;this.hasMasterPage()&&this.MasterPage.postbackLoad(n);
for(var B=this.WebComponents.length,C=0;C<B;C++)this.WebComponents[C].postbackLoad(n);y&&(this.installImageControls(),this.installFlatLevelDatePickers(),this.registerCtrlsEventHandlers());this.execV2CFunctions(!0,y?!1:n);this.conditionsChanged=this.JustCreated=!1;this===gx.pO&&gx.fn.doAttachs(v);gx.goOnload();this.onLoadDeferred.resolve()};d.addDragSource=function(n,v,y,B){gx.fx.dnd.addSource(this,n,v,y,B)};d.addDropTarget=function(n,v,y,B){gx.fx.dnd.addTarget(this,n,v,y,B)};d.addContextSetter=function(n,
v,y,B){gx.fx.ctx.addSetter(this,n,v,y,B)};d.addContextTracker=function(n,v,y,B){gx.fx.ctx.addTracker(this,y,B)};d.addOnMessage=function(n,v,y,B,C){gx.fx.notifications.addTracker(this,n,v,y,B,C)};d.addEventHandler=function(n,v,y){gx.fx.dom.addEventHandler(this,n,v,y)};d.updateBitmapValue=function(n,v,y,B){n=gx.html.multimediaUpload.getContainer(n);"file"==gx.html.multimediaUpload.getOptionValue(n)?this[v]=B:this[y]=B};d.getFeedbackContainer=function(){return this==gx.pO?document.body:this.getContainer()};
d.startFeedback=function(n,v){this.feedbackCallCounter++;v&&gx.fn.disableKeys();var y=!0===n?0:gx.getNotificationDelay();var B=function(){var C=this.getFeedbackContainer();C&&gx.dom.mask(C,y)};1==this.feedbackCallCounter&&(0===y?B.call(this):this.feedbackTimeoutId||(B=gx.lang.doCallTimeout(B,this,arguments,y),this.feedbackTimeoutId=B.t))};d.endFeedback=function(){gx.fn.enableKeys();0<this.feedbackCallCounter&&this.feedbackCallCounter--;if(0==this.feedbackCallCounter){this.feedbackTimeoutId&&(clearTimeout(this.feedbackTimeoutId),
this.feedbackTimeoutId=!1);var n=this.getFeedbackContainer();n&&gx.dom.unmask(n)}};d.isFeedbackOn=function(){return 0<this.feedbackCallCounter};(function(){var n=9996,v=this;return function(y){var B="MPW"+n++,C=v.CmpContext+"gxHTMLWrp"+B;v.setComponent({id:u(y),GXClass:null,Prefix:B,lvl:1});return l('<div class="gx-call-target '+y+' off empty"><div class="'+gx.GxObject.WEBCOMPONENT_CLASS_NAME+'" id="'+C+'"></div></div>')}}).call(this);var u=function(n){return"GX-"+n.toUpperCase()+"-TARGET"};d.initSingleTarget=
function(n){var v="MPW"+this.targetsCounter++,y=this.CmpContext+"gxHTMLWrp"+v;this.setComponent({id:u(n),GXClass:null,Prefix:v,lvl:1});return l('<div class="gx-call-target '+n+' off empty"><div class="'+gx.GxObject.WEBCOMPONENT_CLASS_NAME+'" id="'+y+'"></div></div>')};d.initTargets=function(){if(gx.pO&&gx.pO.fullAjax&&this.IsMasterPage){var n=l(gx.dom.form());var v=n.children("[data-abstract-form]").first();v.length||(v=l("<div></div>"),v.append(n.children()),n.append(v));n=v.addClass("gx-center-target");
v=this.initSingleTarget("top");var y=this.initSingleTarget("right");var B=this.initSingleTarget("bottom");var C=this.initSingleTarget("left");l('<div id="gx-column-targets"></div>').insertBefore(n).append(C).append(n).append(y).before(v).after(B)}};d.createObjectInTarget=function(n,v,y){n=n.toLowerCase();var B=x(n);this.createWebComponent(u(n),v,y,void 0,void 0,void 0,function(C){this.targetComponents=this.targetComponents||{};(C=gx.pO.getWebComponent(C))&&(this.targetComponents[n]=C)});l(B.selector).removeClass("empty")};
d.restoreTargetComponents=function(){var n;this.targetComponents=this.targetComponents||{};for(n in this.targetComponents)targetComponents.hasOwnProperty(n)&&gx.pO.registerComponent(this.targetComponents[n])};var x=function(n){return{selector:".gx-call-target."+n,centerSelector:".gx-center-target"}},E,F={useCapture:!0};d.showTarget=function(n,v){n=n.toLowerCase();var y=x(n),B=y.selector,C=y.centerSelector;l(y.selector).removeClass("empty");l(B).removeClass("off");l(C).addClass("slideout "+n);l(document.documentElement).addClass("gx-blocking");
gx.fx.obs.notify("gx.targetshown",[n]);if(!1!==v){E=function(L){l(L.target).closest(B).length||l(L.target).is(B)||!l(B).is(":visible")||(I.call(this),L.stopImmediatePropagation(),L.preventDefault())}.closure(this);var I=function(){this.hideTarget(n)};gx.evt.attach(document,"click",E,!1,F);gx.spa.addObserver("onnavigate",this,I)}};d.hideTarget=function(n){n=n.toLowerCase();var v=x(n),y=v.centerSelector;l(v.selector).addClass("off");l(y).removeClass("slideout "+n);l(document.documentElement).removeClass("gx-blocking");
gx.evt.detach(document,"click",E,F);gx.fx.obs.notify("gx.targethidden",[n])};d.collapseTarget=function(n){n=n.toLowerCase();var v=x(n),y=v.selector;v=v.centerSelector;this.showTarget(n,!1);l(y).addClass("collapsed");l(v).addClass("collapsed");gx.fx.obs.notify("gx.targetcollapsed",[n])};d.expandTarget=function(n){n=n.toLowerCase();var v=x(n),y=v.selector;v=v.centerSelector;this.showTarget(n,!1);l(y).removeClass("collapsed");l(v).removeClass("collapsed");gx.fx.obs.notify("gx.targetexpanded",[n])};var G=
function(n,v){n=Array.prototype.slice.call(n,0);n.push(v);return n};d.validSrvEvt=function(){return gx.ajax.validSrvEvt.apply(gx.ajax,G(arguments,this))};d.validCliEvt=function(){return gx.ajax.validCliEvt.apply(gx.ajax,G(arguments,this))}})(gx.$);gx.lang.apply(gx.GxObject.prototype,new gx.util.Observable);
gx.printing=function(l){return{IFrameId:"gxprintHelper_Iframe",print:function(c){this.printDirect(c)},printDirect:function(c){c&&(gx.printing._deinit(),$iframe=l("<iframe>"),$iframe.attr("id",gx.printing.IFrameId).css({visibility:"hidden",position:"absolute",top:"-1000px",left:"-1000px"}),l(document.body).append($iframe),$iframe[0].onload=function(){this.contentWindow.print()},$iframe.attr("src",c.reportFile))},_deinit:function(){l("#"+gx.printing.IFrameId).remove()}}}(gx.$);
gx.thread={Map:function(){this.map={};this.add=function(l,c){this.map[l]=c};this.remove=function(l){delete this.map[l]};this.get=function(l){return null==l?null:this.map[l]};this.first=function(){return this.get(this.nextKey())};this.next=function(l){return this.get(this.nextKey(l))};this.nextKey=function(l){for(i in this.map){if(!l)return i;l==i&&(l=null)}return null}},Command:function(l,c,d){gx.thread.Command.LastID||(gx.thread.Command.LastID=0);this.id=++gx.thread.Command.LastID;this.execute=function(){c.apply(l,
d)};this.syncExecute=function(){new gx.thread.Mutex(this,"execute")}},Mutex:function(l,c,d,g){gx.thread.Mutex.Wait||(gx.thread.Mutex.Wait=new gx.thread.Map);gx.thread.Mutex.SLICE=function(a,b){gx.thread.Mutex.Wait.get(a).attempt(gx.thread.Mutex.Wait.get(b))};this.attempt=function(a){for(;a;a=gx.thread.Mutex.Wait.next(a.c.id))if(a.enter||a.number&&(a.number<this.number||a.number==this.number&&a.c.id<this.c.id))return setTimeout("gx.thread.Mutex.SLICE("+this.c.id+","+a.c.id+")",10);try{retVal=this.c.execute()}catch(b){gx.dbg.logEx(b,
"gxfrmutl.js","Mutex Call")}this.number=0;gx.thread.Mutex.Wait.remove(this.c.id);if("function"==typeof g)try{g.call(l,retVal)}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","Mutex CallBack")}};this.c=new gx.thread.Command(l,c,d);gx.thread.Mutex.Wait.add(this.c.id,this);this.enter=!0;this.number=(new Date).getTime();this.enter=!1;this.attempt(gx.thread.Mutex.Wait.first())}};
gx.sec={key:null,iv:null,keyName:"GX_AJAX_KEY",ivName:"GX_AJAX_IV",secToken:null,secTokenName:"AJAX_SECURITY_TOKEN",loadKey:function(){var l=gx.fn.getHidden(this.keyName);gx.lang.emptyObject(l)?this.key=null:this.key=l;null!=this.key&&this.loadSecToken();this.iv=gx.fn.getHidden(this.ivName)},loadSecToken:function(){var l=gx.fn.getHidden(this.secTokenName);gx.lang.emptyObject(l)?this.secToken=null:this.secToken=l},encrypt:function(l,c){try{if(c=null==c?this.key:c,null!=c){var d=this.rijndael;c=d.hexToByteArray(c);
var g=null!=this.iv?d.rijndaelEncrypt(l,c,"CBC",d.hexToByteArray(this.iv)):d.rijndaelEncrypt(l,c);return d.byteArrayToHex(g)}}catch(a){gx.dbg.logEx(a,"gxfrmutl.js","encrypt")}return l},decrypt:function(l,c){try{if(c=null==c?this.key:c,null!=c){var d=this.rijndael;c=d.hexToByteArray(c);var g=d.hexToByteArray(l),a=d.rijndaelDecrypt(g,c,"CBC");return d.byteArrayToString(a)}}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","decrypt")}return l},_init:function(){this.rijndael._init()}};
gx.MD5={RotateLeft:function(l,c){return l<<c|l>>>32-c},AddUnsigned:function(l,c){var d=l&2147483648;var g=c&2147483648;var a=l&1073741824;var b=c&1073741824;l=(l&1073741823)+(c&1073741823);return a&b?l^2147483648^d^g:a|b?l&1073741824?l^3221225472^d^g:l^1073741824^d^g:l^d^g},F:function(l,c,d){return l&c|~l&d},G:function(l,c,d){return l&d|c&~d},H:function(l,c,d){return l^c^d},I:function(l,c,d){return c^(l|~d)},FF:function(l,c,d,g,a,b,f){l=gx.MD5.AddUnsigned(l,gx.MD5.AddUnsigned(gx.MD5.AddUnsigned(gx.MD5.F(c,
d,g),a),f));return gx.MD5.AddUnsigned(gx.MD5.RotateLeft(l,b),c)},GG:function(l,c,d,g,a,b,f){l=gx.MD5.AddUnsigned(l,gx.MD5.AddUnsigned(gx.MD5.AddUnsigned(gx.MD5.G(c,d,g),a),f));return gx.MD5.AddUnsigned(gx.MD5.RotateLeft(l,b),c)},HH:function(l,c,d,g,a,b,f){l=gx.MD5.AddUnsigned(l,gx.MD5.AddUnsigned(gx.MD5.AddUnsigned(gx.MD5.H(c,d,g),a),f));return gx.MD5.AddUnsigned(gx.MD5.RotateLeft(l,b),c)},II:function(l,c,d,g,a,b,f){l=gx.MD5.AddUnsigned(l,gx.MD5.AddUnsigned(gx.MD5.AddUnsigned(gx.MD5.I(c,d,g),a),f));
return gx.MD5.AddUnsigned(gx.MD5.RotateLeft(l,b),c)},ConvertToWordArray:function(l){var c=l.length;var d=c+8;for(var g=16*((d-d%64)/64+1),a=Array(g-1),b,f=0;f<c;)d=(f-f%4)/4,b=f%4*8,a[d]|=l.charCodeAt(f)<<b,f++;d=(f-f%4)/4;a[d]|=128<<f%4*8;a[g-2]=c<<3;a[g-1]=c>>>29;return a},WordToHex:function(l){var c="",d;for(d=0;3>=d;d++){var g=l>>>8*d&255;g="0"+g.toString(16);c+=g.substr(g.length-2,2)}return c},Utf8Encode:function(l){l=l.replace(/\r\n/g,"\n");for(var c="",d=0;d<l.length;d++){var g=l.charCodeAt(d);
128>g?c+=String.fromCharCode(g):(127<g&&2048>g?c+=String.fromCharCode(g>>6|192):(c+=String.fromCharCode(g>>12|224),c+=String.fromCharCode(g>>6&63|128)),c+=String.fromCharCode(g&63|128))}return c},getHsh:function(l){var c;l=gx.MD5.Utf8Encode(l);l=gx.MD5.ConvertToWordArray(l);var d=1732584193;var g=4023233417;var a=2562383102;var b=271733878;for(c=0;c<l.length;c+=16){var f=d;var k=g;var m=a;var q=b;d=gx.MD5.FF(d,g,a,b,l[c+0],7,3614090360);b=gx.MD5.FF(b,d,g,a,l[c+1],12,3905402710);a=gx.MD5.FF(a,b,d,
g,l[c+2],17,606105819);g=gx.MD5.FF(g,a,b,d,l[c+3],22,3250441966);d=gx.MD5.FF(d,g,a,b,l[c+4],7,4118548399);b=gx.MD5.FF(b,d,g,a,l[c+5],12,1200080426);a=gx.MD5.FF(a,b,d,g,l[c+6],17,2821735955);g=gx.MD5.FF(g,a,b,d,l[c+7],22,4249261313);d=gx.MD5.FF(d,g,a,b,l[c+8],7,1770035416);b=gx.MD5.FF(b,d,g,a,l[c+9],12,2336552879);a=gx.MD5.FF(a,b,d,g,l[c+10],17,4294925233);g=gx.MD5.FF(g,a,b,d,l[c+11],22,2304563134);d=gx.MD5.FF(d,g,a,b,l[c+12],7,1804603682);b=gx.MD5.FF(b,d,g,a,l[c+13],12,4254626195);a=gx.MD5.FF(a,b,
d,g,l[c+14],17,2792965006);g=gx.MD5.FF(g,a,b,d,l[c+15],22,1236535329);d=gx.MD5.GG(d,g,a,b,l[c+1],5,4129170786);b=gx.MD5.GG(b,d,g,a,l[c+6],9,3225465664);a=gx.MD5.GG(a,b,d,g,l[c+11],14,643717713);g=gx.MD5.GG(g,a,b,d,l[c+0],20,3921069994);d=gx.MD5.GG(d,g,a,b,l[c+5],5,3593408605);b=gx.MD5.GG(b,d,g,a,l[c+10],9,38016083);a=gx.MD5.GG(a,b,d,g,l[c+15],14,3634488961);g=gx.MD5.GG(g,a,b,d,l[c+4],20,3889429448);d=gx.MD5.GG(d,g,a,b,l[c+9],5,568446438);b=gx.MD5.GG(b,d,g,a,l[c+14],9,3275163606);a=gx.MD5.GG(a,b,d,
g,l[c+3],14,4107603335);g=gx.MD5.GG(g,a,b,d,l[c+8],20,1163531501);d=gx.MD5.GG(d,g,a,b,l[c+13],5,2850285829);b=gx.MD5.GG(b,d,g,a,l[c+2],9,4243563512);a=gx.MD5.GG(a,b,d,g,l[c+7],14,1735328473);g=gx.MD5.GG(g,a,b,d,l[c+12],20,2368359562);d=gx.MD5.HH(d,g,a,b,l[c+5],4,4294588738);b=gx.MD5.HH(b,d,g,a,l[c+8],11,2272392833);a=gx.MD5.HH(a,b,d,g,l[c+11],16,1839030562);g=gx.MD5.HH(g,a,b,d,l[c+14],23,4259657740);d=gx.MD5.HH(d,g,a,b,l[c+1],4,2763975236);b=gx.MD5.HH(b,d,g,a,l[c+4],11,1272893353);a=gx.MD5.HH(a,b,
d,g,l[c+7],16,4139469664);g=gx.MD5.HH(g,a,b,d,l[c+10],23,3200236656);d=gx.MD5.HH(d,g,a,b,l[c+13],4,681279174);b=gx.MD5.HH(b,d,g,a,l[c+0],11,3936430074);a=gx.MD5.HH(a,b,d,g,l[c+3],16,3572445317);g=gx.MD5.HH(g,a,b,d,l[c+6],23,76029189);d=gx.MD5.HH(d,g,a,b,l[c+9],4,3654602809);b=gx.MD5.HH(b,d,g,a,l[c+12],11,3873151461);a=gx.MD5.HH(a,b,d,g,l[c+15],16,530742520);g=gx.MD5.HH(g,a,b,d,l[c+2],23,3299628645);d=gx.MD5.II(d,g,a,b,l[c+0],6,4096336452);b=gx.MD5.II(b,d,g,a,l[c+7],10,1126891415);a=gx.MD5.II(a,b,
d,g,l[c+14],15,2878612391);g=gx.MD5.II(g,a,b,d,l[c+5],21,4237533241);d=gx.MD5.II(d,g,a,b,l[c+12],6,1700485571);b=gx.MD5.II(b,d,g,a,l[c+3],10,2399980690);a=gx.MD5.II(a,b,d,g,l[c+10],15,4293915773);g=gx.MD5.II(g,a,b,d,l[c+1],21,2240044497);d=gx.MD5.II(d,g,a,b,l[c+8],6,1873313359);b=gx.MD5.II(b,d,g,a,l[c+15],10,4264355552);a=gx.MD5.II(a,b,d,g,l[c+6],15,2734768916);g=gx.MD5.II(g,a,b,d,l[c+13],21,1309151649);d=gx.MD5.II(d,g,a,b,l[c+4],6,4149444226);b=gx.MD5.II(b,d,g,a,l[c+11],10,3174756917);a=gx.MD5.II(a,
b,d,g,l[c+2],15,718787259);g=gx.MD5.II(g,a,b,d,l[c+9],21,3951481745);d=gx.MD5.AddUnsigned(d,f);g=gx.MD5.AddUnsigned(g,k);a=gx.MD5.AddUnsigned(a,m);b=gx.MD5.AddUnsigned(b,q)}return(gx.MD5.WordToHex(d)+gx.MD5.WordToHex(g)+gx.MD5.WordToHex(a)+gx.MD5.WordToHex(b)).toLowerCase()}};
gx.base64={b64:[],f64:[],decode:function(l){try{if(window.atob)return decodeURIComponent(atob(l).split("").map(function(c){return"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)}).join(""))}catch(c){}return this.bytesToString(this.bytesFromUTF8Bytes(this.decodeImpl(l)))},encode:function(l){try{if(window.btoa)return btoa(encodeURIComponent(l).replace(/%([0-9A-F]{2})/g,function(c,d){return String.fromCharCode("0x"+d)}))}catch(c){}return this.encodeImpl(this.UTF8BytesFromString(l))},bytesFromUTF8Bytes:function(l){var c=
[],d=0;c1=c2=0;for(var g=l.length;d<g;){var a=l[d];128>a?(c.push(a),d++):191<a&&224>a?(c2=l[d+1],c.push((a&31)<<6|c2&63),d+=2):(c2=l[d+1],c3=l[d+2],c.push((a&15)<<12|(c2&63)<<6|c3&63),d+=3)}return c},UTF8BytesFromString:function(l){l=l.replace(/\r\n/g,"\n");for(var c=[],d=l.length,g=0;g<d;g++){var a=l.charCodeAt(g);128>a?c.push(a):(127<a&&2048>a?c.push(a>>6|192):(c.push(a>>12|224),c.push(a>>6&63|128)),c.push(a&63|128))}return c},bytesToString:function(l){for(var c=gx.util.browser.isChrome()?32765:
5E4,d=[];l.length>=c;)d.push(eval("String.fromCharCode("+l.slice(0,c).join(",")+");")),l=l.slice(c);0!=l.length&&d.push(eval("String.fromCharCode("+l.join(",")+");"));return d.join("")},decodeImpl:function(l){var c=this.f64,d=[],g=0;l=l.replace(/\n|\r/g,"");l=l.replace(/=/g,"");for(var a=l.length;g<a;)d[d.length]=c[l.charAt(g)]<<2|c[l.charAt(g+1)]>>4,d[d.length]=(c[l.charAt(g+1)]&15)<<4|c[l.charAt(g+2)]>>2,d[d.length]=(c[l.charAt(g+2)]&3)<<6|c[l.charAt(g+3)],g+=4;2==l.length%4&&(d=d.slice(0,d.length-
2));3==l.length%4&&(d=d.slice(0,d.length-1));return d},encodeImpl:function(l){var c=this.b64,d=[],g=0,a=l.length;1==a%3&&(l[l.length]=0,l[l.length]=0);2==a%3&&(l[l.length]=0);for(var b=l.length;g<b;)d[d.length]=c[l[g]>>2],d[d.length]=c[(l[g]&3)<<4|l[g+1]>>4],d[d.length]=c[(l[g+1]&15)<<2|l[g+2]>>6],d[d.length]=c[l[g+2]&63],g+=3;1==a%3&&(d[d.length-1]=d[d.length-2]="=");2==a%3&&(d[d.length-1]="=");return d.join("")},_init:function(){for(var l=0;64>l;l++){var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l);
this.b64[l]=c;this.f64[c]=l}}};
gx.webSocket=function(l){this.reconnect=!0;this.initialized=this.opened=!1;this.retryCount=0;this.maxRetries=l.maxRetries||6;this.retryDelay=l.retryDelay||2500;this._init=function(g){if(!this.initialized&&"WebSocket"in window){g=g||{};g.clientId=g.clientId||"";g.basePath=g.basePath||"";this.namespace="."+g.namespace;try{var a=g.wsProtocol+g.host+g.basePath+g.resourceUrl+g.clientId;this.create(g.wsURL||a);this.initialized=!0;this.wsOpts=g}catch(b){gx.dbg.logEx(b,"gxfrmutl.js","Could not initialize WebSocket")}}};
var c=this,d=function(){this.initialized=this.opened=!1;this.reconnect&&(-1==this.maxRetries||this.retryCount<this.maxRetries)&&(this.retryCount++,this.retryHandle=gx.lang.doCallTimeout(this._init,this,[this.wsOpts],this.retryDelay*this.retryCount))};this.create=function(g){try{this.ws=new WebSocket(g),this.ws.onopen=function(){c.opened=!0;c.retryCount=0;c.stopRetry=!1;gx.fx.obs.notify("gx.ws.onOpen"+c.namespace,[])},this.ws.onerror=function(a){gx.dbg.logDebug("gx.webSocket - Error: "+a.data);gx.fx.obs.notify("gx.ws.onError"+
c.namespace,[a.data]);c.stopRetry||d.apply(c);c.stopRetry=!1},this.ws.onmessage=function(a){gx.dbg.logDebug("gx.webSocket - New Message: "+a.data);gx.fx.obs.notify("gx.ws.onMessage"+c.namespace,[a.data])},this.ws.onclose=function(){gx.dbg.logDebug("gx.webSocket - OnClose");c.opened?(c.retryCount=0,d.apply(c)):gx.fx.obs.notify("gx.ws.OnClose"+c.namespace,[])}}catch(a){gx.lang.doCallTimeout(gx.fx.obs.notify,gx.fx.obs,["gx.ws.onCtxError"+c.namespace,[a]],100)}};window.onbeforeunload=function(){c.opened&&
c.ws.close()};this.close=function(){c.opened&&(c.opened=!1,c.ws.close());c.stopRetry=!0;c.retryHandle&&clearInterval(c.retryHandle.t)};this.send=function(g){c.ws?c.ws.send(g):gx.dbg.logDebug("gx.webSocket - ws is not initialized")};this._init(l)};
gx.util.alert=function(l){var c=!1,d=!1,g=function(b){b=b||{};var f=b.message||"",k=b.cssClass||"",m=b.cssDisBtnClass||"",q=b.dataDisAtt;b=b.dismissmitAt;c&&0!=l("#gx-main-error").length||(l(gx.dom.form()).prepend("<div id='gx-main-error' style='display:none;'></div>"),c=!0);a();var w=l("#gx-main-error");w.html('<div class="'+k+'"><button type="button" class="'+m+'" data-dismiss="'+q+'" onclick=\'$(this).parent().hide();\' aria-hidden="true">&times;</button><span>'+f+"</span></div>");w.slideDown();
d=!0;b&&window.setTimeout(function(){a()},b)},a=function(){d&&(l("#gx-main-error").fadeOut(500,function(){l(this).empty()}),d=!1)};return{showMessage:function(b,f){l("#gx-main-error");g(l.extend({message:b,cssClass:"alert alert-warning alert-dismissable gx-ajax-error",cssDisBtnClass:"close",dataDisAtt:"alert"},f))},showError:function(b,f){l("#gx-main-error");g(l.extend({message:b,cssClass:"alert alert-danger alert-dismissable gx-ajax-error",cssDisBtnClass:"close",dataDisAtt:"alert"},f))},hide:a}}(gx.$);
gx.geolocation=function(l){return{attachedCtrls:null,_init:function(){attachedCtrls=[]},getMyPosition:function(c){c.attachedCtrl=l("#"+c.id.replace(/_geoLocMe$/,""))[0];attachedCtrls.push(c);navigator.geolocation?navigator.geolocation.getCurrentPosition(this.positionHandler,this.handle_errors):(msg="Your browser does not support HTML5 Geolocalization",gx.pO.clearMessages(),gx.pO.addMessage(msg),gx.pO.refreshOutputs([]))},positionHandler:function(c){var d=attachedCtrls.shift(),g=gx.fn.validStruct(gx.O.getValidStructId(d.attachedCtrl.id));
c=c.coords.latitude+","+c.coords.longitude;gx.evt.setEventRow(gx.pO,d.attachedCtrl);g.v2v&&(g.v2v(c),g.v2c());g.gxgrid&&g.gxgrid.updateControlValue(g,!0)},handle_errors:function(c){attachedCtrls.shift();switch(c.code){case c.PERMISSION_DENIED:c="user did not share geolocation data";break;case c.POSITION_UNAVAILABLE:c="could not detect current position";break;case c.TIMEOUT:c="retrieving position timed out";break;default:c="unknown error"}gx.pO.clearMessages();gx.pO.addMessage(c);gx.pO.refreshOutputs([])}}}(gx.$);
gx.sec.rijndael={keySizeInBits:128,blockSizeInBits:128,roundsArray:[,,,,[,,,,10,,12,,14],,[,,,,12,,12,,14],,[,,,,14,,14,,14]],shiftOffsets:[,,,,[,1,2,3],,[,1,2,3],,[,1,3,4]],Rcon:[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],SBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,
226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,
221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],SBoxInverse:[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,
108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,
201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],cyclicShiftLeft:function(l,c){var d=l.slice(0,c);return l=l.slice(c).concat(d)},xtime:function(l){l<<=1;return l&256?l^283:l},mult_GF256:function(l,c){var d,g=0;for(d=1;256>d;d*=2,c=this.xtime(c))l&d&&(g^=c);return g},byteSub:function(l,c){c="encrypt"==c?this.SBox:this.SBoxInverse;for(var d=0;4>d;d++)for(var g=0;g<this.Nb;g++)l[d][g]=c[l[d][g]]},shiftRow:function(l,c){for(var d=
1;4>d;d++)l[d]="encrypt"==c?this.cyclicShiftLeft(l[d],this.shiftOffsets[this.Nb][d]):this.cyclicShiftLeft(l[d],this.Nb-this.shiftOffsets[this.Nb][d])},mixColumn:function(l,c){for(var d=[],g=0;g<this.Nb;g++){for(var a=0;4>a;a++)d[a]="encrypt"==c?this.mult_GF256(l[a][g],2)^this.mult_GF256(l[(a+1)%4][g],3)^l[(a+2)%4][g]^l[(a+3)%4][g]:this.mult_GF256(l[a][g],14)^this.mult_GF256(l[(a+1)%4][g],11)^this.mult_GF256(l[(a+2)%4][g],13)^this.mult_GF256(l[(a+3)%4][g],9);for(a=0;4>a;a++)l[a][g]=d[a]}},addRoundKey:function(l,
c){for(var d=0;d<this.Nb;d++)l[0][d]^=c[d]&255,l[1][d]^=c[d]>>8&255,l[2][d]^=c[d]>>16&255,l[3][d]^=c[d]>>24&255},keyExpansion:function(l){var c=[];this.Nk=this.keySizeInBits/32;this.Nb=this.blockSizeInBits/32;this.Nr=this.roundsArray[this.Nk][this.Nb];for(var d=0;d<this.Nk;d++)c[d]=l[4*d]|l[4*d+1]<<8|l[4*d+2]<<16|l[4*d+3]<<24;for(d=this.Nk;d<this.Nb*(this.Nr+1);d++)l=c[d-1],0==d%this.Nk?l=(this.SBox[l>>8&255]|this.SBox[l>>16&255]<<8|this.SBox[l>>24&255]<<16|this.SBox[l&255]<<24)^this.Rcon[Math.floor(d/
this.Nk)-1]:6<this.Nk&&4==d%this.Nk&&(l=this.SBox[l>>24&255]<<24|this.SBox[l>>16&255]<<16|this.SBox[l>>8&255]<<8|this.SBox[l&255]),c[d]=c[d-this.Nk]^l;return c},Round:function(l,c){this.byteSub(l,"encrypt");this.shiftRow(l,"encrypt");this.mixColumn(l,"encrypt");this.addRoundKey(l,c)},InverseRound:function(l,c){this.addRoundKey(l,c);this.mixColumn(l,"decrypt");this.shiftRow(l,"decrypt");this.byteSub(l,"decrypt")},FinalRound:function(l,c){this.byteSub(l,"encrypt");this.shiftRow(l,"encrypt");this.addRoundKey(l,
c)},InverseFinalRound:function(l,c){this.addRoundKey(l,c);this.shiftRow(l,"decrypt");this.byteSub(l,"decrypt")},encrypt:function(l,c){var d;if(l&&8*l.length==this.blockSizeInBits&&c){l=this.packBytes(l);this.addRoundKey(l,c);for(d=1;d<this.Nr;d++)this.Round(l,c.slice(this.Nb*d,this.Nb*(d+1)));this.FinalRound(l,c.slice(this.Nb*this.Nr));return this.unpackBytes(l)}},decrypt:function(l,c){var d;if(l&&8*l.length==this.blockSizeInBits&&c){l=this.packBytes(l);this.InverseFinalRound(l,c.slice(this.Nb*this.Nr));
for(d=this.Nr-1;0<d;d--)this.InverseRound(l,c.slice(this.Nb*d,this.Nb*(d+1)));this.addRoundKey(l,c);return this.unpackBytes(l)}},byteArrayToString:function(l){for(var c="",d=l.length,g=0;g<d;g++)0!=l[g]&&(c+=String.fromCharCode(l[g]));return c},stringToByteArray:function(l){for(var c=[],d=l.length,g=0;g<d;g++)c[c.length]=l.charCodeAt();return c},byteArrayToHex:function(l){var c="";if(l){for(var d=l.length,g=0;g<d;g++)c+=(16>l[g]?"0":"")+l[g].toString(16);return c}},hexToByteArray:function(l){var c=
[];if(!(l.length%2)){if(0==l.indexOf("0x")||0==l.indexOf("0X"))l=l.substring(2);for(var d=l.length,g=0;g<d;g+=2)c[Math.floor(g/2)]=parseInt(l.slice(g,g+2),16);return c}},packBytes:function(l){var c=[];if(l&&!(l.length%4)){c[0]=[];c[1]=[];c[2]=[];c[3]=[];for(var d=l.length,g=0;g<d;g+=4)c[0][g/4]=l[g],c[1][g/4]=l[g+1],c[2][g/4]=l[g+2],c[3][g/4]=l[g+3];return c}},unpackBytes:function(l){for(var c=[],d=l[0].length,g=0;g<d;g++)c[c.length]=l[0][g],c[c.length]=l[1][g],c[c.length]=l[2][g],c[c.length]=l[3][g];
return c},formatPlaintext:function(l){var c=this.blockSizeInBits/8,d;if("string"==typeof l||l.indexOf){l=l.split("");var g=l.length;for(d=0;d<g;d++)l[d]=l[d].charCodeAt(0)&255}for(d=c-l.length%c;0<d&&d<c;d--)l[l.length]=0;return l},rijndaelEncrypt:function(l,c,d,g){var a,b=this.blockSizeInBits/8;if(l&&c&&8*c.length==this.keySizeInBits){"CBC"!=d&&(d="ECB",g=[]);l=this.formatPlaintext(l);c=this.keyExpansion(c);for(var f=0;f<l.length/b;f++){var k=l.slice(f*b,(f+1)*b);if("CBC"==d)for(a=0;a<b;a++)k[a]^=
g[f*b+a];g=g.concat(this.encrypt(k,c))}return g}},rijndaelDecrypt:function(l,c,d){var g=this.blockSizeInBits/8,a=[],b;if(l&&c&&"string"!=typeof l&&8*c.length==this.keySizeInBits){d||(d="ECB");c=this.keyExpansion(c);for(b=l.length/g-1;0<b;b--){var f=this.decrypt(l.slice(b*g,(b+1)*g),c);if("CBC"==d)for(var k=0;k<g;k++)a[(b-1)*g+k]=f[k]^l[(b-1)*g+k];else a=f.concat(a)}"ECB"==d&&(a=this.decrypt(l.slice(0,g),c).concat(a));return a}},_init:function(){this.Nk=this.keySizeInBits/32;this.Nb=this.blockSizeInBits/
32;this.Nr=this.roundsArray[this.Nk][this.Nb]}};
gx.popup=function(l){return{lvl:-1,currentPopup:null,currentPrompt:null,showParentPopups:!1,Dialog:function(){this.id="";this.autoresize=1;this.top=this.position=this.height=this.width=0;this.cssClass="";this.left=0;this.zindex=1E3;this.lvl=-1;this.InternalPopup=this.Opener=this.document=this.window=this.parentPopup=null;this.state="created";this.callbacks={};var c=function(d){0===l(this.getEl()).find(d.target).length&&(l(document.body).off("click",c),this.close())}.closure(this);this.open=function(d){this.state=
"opening";this.id=d.id||"gxdialog";this.callbacks=d.callbacks;var g=void 0===d.resizable||d.resizable,a="PopupBorder gx-popup gx-popup-default";this.cssClass&&(a=a.replace("gx-popup-default",""),a+=" "+this.cssClass);gx.popup.ext.window(this,!1,0,0,d.w,d.h,d.contentHtml,"white",d.title,"black","black","black","black",void 0===d.isModal||d.isModal,!0,!0,g,!1,gx.ajax.getImageUrl(gx,"resizeImage"),"PopupHeader gx-popup-header","PopupHeaderButton gx-popup-close","PopupContent gx-popup-content",a,"PopupShadow",
d.showParentPopups,!1,d.callbacks,d.parentElement);gx.popup.ext.win.gx.popup.setPopup(this);this.state="opened";setTimeout(function(){l(document.body).on("click",c)},1)};this.close=function(){l(document.body).off("click",c);this.state="closing";gx.popup.ext.close(this,this.callbacks.beforeClose);this.cleanup();this.state="closed"};this.cleanup=function(){delete this.InternalPopup;delete this.window;delete this.document;delete this.Opener;delete this.parentPopup;delete this.InternalPopup;delete this.callbacks};
this.isActive=function(){return!("closed"==this.state||"closing"==this.state)};this.getEl=function(){return gx.dom.byId(this.id+"_b")}},Popup:function(c,d){this.url="";this.frameWindow=this.frameDocument=null;this.ReturnParms=[];this.RawReturnedParms=[];this.ModifCtrl=null;this.IsPrompt=d?d:!1;this.PromptIsGet=!1;this.OncloseCmds=[];this.CustomRenderGrid=null;this.setPopupData=function(){gx.lang.isArray(c)?(this.url=c[0],this.autoresize=c[1],this.width=c[2],this.height=c[3],this.position=c[4],this.top=
c[5],this.left=c[6],this.OncloseCmds=c[7]||[],this.ReturnParms=c[8]||[],this.cssClass=c[9]):c&&c.Url&&(this.url=c.Url,"undefined"!=typeof c.Autoresize&&(this.autoresize=c.Autoresize),"undefined"!=typeof c.Width&&(this.width=c.Width),"undefined"!=typeof c.Height&&(this.height=c.Height),"undefined"!=typeof c.Position&&(this.position=c.Position),"undefined"!=typeof c.Top&&(this.top=c.Top),"undefined"!=typeof c.Left&&(this.left=c.Left),"undefined"!=typeof c.Class&&(this.cssClass=c.Class),"undefined"!=
typeof c.OncloseCmds&&(this.OncloseCmds=c.OncloseCmds),"undefined"!=typeof c.ReturnParms&&(this.ReturnParms=c.ReturnParms))};this.open=function(){this.state="opening";var g=gx.popup.gxOpener();this.lvl=-1;this.lvl=g&&g.gx&&g.gx.popup.ext.win&&g.gx.popup.ext.win.gx?g.gx.popup.ext.win.gx.popup.lvl:gx.popup.lvl;null!=document.gxPopup?(this.parentPopup=document.gxPopup,this.zindex=gx.popup.ext.zdx+document.gxPopup.zindex):this.zindex=gx.popup.ext.zdx;g=this.url;if(this.IsPrompt){gx.popup.currentPrompt=
this;for(var a="?",b,f,k=this.ReturnParms.length,m=0;m<k;m++){b="";if(gx.lang.emptyObject(this.ReturnParms[m].Ctrl))if("string"==typeof this.ReturnParms[m])b=gx.util.urlValue(this.ReturnParms[m])+",";else if("number"==typeof this.ReturnParms[m])b=gx.util.urlValue(this.ReturnParms[m].toString())+",";else if(this.CustomRenderGrid)f=this.CustomRenderGrid.grid.getCellValue(this.ReturnParms[m].id),gx.lang.emptyObject(f)||(b=gx.util.urlValue(f+"")+",");else if(gx.lang.emptyObject(this.ReturnParms[m].id))continue;
else f=gx.fn.getHidden(this.ReturnParms[m].id),gx.lang.emptyObject(f)||(b=gx.util.urlValue(f)),b+=",";else b=gx.util.urlValue(this.ReturnParms[m].Ctrl)+",";a="out"==this.ReturnParms[m].IOType?a+",":a+b;this.ReturnParms[m].isLastKey&&gx.fn.isOutputParm(this.ReturnParms[m])&&!this.PromptIsGet&&(gx.fn.setControlValue("_EventName",this.Opener.CmpContext),this.PromptIsGet=!0)}null!=this.ModifCtrl&&(this.ModifCtrl.value=1);g+=a}a=document.activeElement;gx.csv.lastControl&&a&&gx.util.inArray(a.tagName,["BODY",
"FORM"])&&(a=gx.csv.lastControl);a&&(a&&(this.callerActiveElement=a),a.blur&&a.blur());this.InternalPopup=gx.popup.Impl(this,g,this.autoresize,this.width,this.height,this.position,this.top,this.left)};this.getOutputParms=function(){var g=[];if(this.IsPrompt)for(var a=this.ReturnParms.length,b=0;b<a;b++){var f=this.ReturnParms[b];gx.fn.isOutputParm(f)&&g.push(f)}else return this.ReturnParms;return g};this.close=function(g,a,b){a=a||{};this.state="closing";g&&(this.RawReturnedParms=g);var f=window;
gx.popup.ext.win?(f=gx.popup.ext.win,gx.ajax.windowClosed(gx.popup.ext.win.gx.popup.lvl),gx.popup.ext.win.gx.popup.lvl--):(gx.ajax.windowClosed(gx.popup.lvl),gx.popup.lvl--);var k=function(){var w=l.Deferred();this.setCellValue.apply(this,arguments);return w.resolve()},m=function(){var w;gx.evt.evtPromptMouseDown=!0;this.beforeClose&&this.beforeClose(g);!this.isPdf&&this.frameWindow&&this.frameWindow.gx&&(this.IsPrompt&&(null==this.parentPopup?gx.popup.currentPrompt=null:this.parentPopup.frameWindow.gx.popup.currentPrompt=
null),this.frameWindow.gx.evt.onunload.call(this.frameWindow),gx.util.browser.isIE()||(this.frameDocument.gxPopup=null),this.frameWindow=this.frameDocument=null);gx.popup.ext.close(this);var p=this.getOutputParms(),t=function(){a&&!0===a.ignoreCmds&&(this.OncloseCmds=[]);gx.ajax.dispatchCommands(this.OncloseCmds,void 0,{updateParms:p});this.cleanup();this.state="closed";this.afterClose&&this.afterClose(g);this.parentPopup?this.parentPopup.frameWindow.gx.fx.obs.notify("popup.afterclose",[this]):gx.fx.obs.notify("popup.afterclose",
[this])}.closure(this),z=!0;gx.csv.lastId=0;if(null!=g&&this.IsPrompt){if(b&&a.parmsMetadata&&a.updateParms){var r=a.parmsMetadata.length;for(w=0;w<r;w++)z=a.parmsMetadata[w],gx.util.inArray(z,a.updateParms)&&(g[w]=b[z])}r=g.length;var u=gx.popup.assignPromptFields,x=gx.popup;gx.lang.emptyObject(this.CustomRenderGrid)||(u=k,x=this.CustomRenderGrid.grid);z=!1;u.call(x,p,g).then(function(){var E=null;r=p.length;for(w=0;w<r;w++){var F=p[w].Ctrl;gx.fn.isAccepted(F)&&(E=F)}E&&gx.TabOnPrompSelect&&(F=gx.fn.getControlIndex(E),
-1!=F&&(E=gx.fn.searchFocus(F+1,!0)));gx.fn.setFocus(E);if(this.PromptIsGet)if(this.Opener.fullAjax){var G;(F=gx.csv.ctxControlId(E.id))&&(G=gx.O.getValidStructFld(F));G&&gx.csv.validControls(G.id,G.id+1,!0,this.Opener)}else{gx.csv.loadScreen(function(){gx.fn.setFocus(E);t()});return}else try{gx.evt.ctrlOnchange(gx.fn.getControlValue(this.Opener.CmpContext+"Mode"),gx.fn.getControlValue(this.Opener.CmpContext+"IsConfirmed"),"undefined"==typeof window.GXPkIsDirty?!1:window.GXPkIsDirty,null,"eng")}catch(n){gx.dbg.logEx(n,
"gxpopup.js","close")}t()}.closure(this))}else g&&p&&p instanceof Array&&0<p.length&&gx.fn.setReturnParms(this.Opener,p,g,this.CustomRenderGrid);z&&t()},q=gx.util.browser;q.isFirefox()||q.isIE()?f.setTimeout(m.closure(this),10):m.call(this)};this.setFocusFirst=function(){this.frameWindow.gx&&this.frameWindow.gx.fn.setFocusOnload(!1)};this.cleanup=function(){try{this.OncloseCmds=[],this.ReturnParms=[],this.PromptIsGet=!1,this.parentPopup=this.Opener=this.document=this.window=this.InternalPopup=null,
this.RawReturnedParms=[],this.CustomRenderGrid=this.InternalPopup=this.ModifCtrl=null}catch(g){gx.dbg.logEx(g,"gxpopup.js","popupObj.cleanup")}};this.setPopupData()},getWindowIframeElement:function(c){var d;c=c.document.getElementsByTagName("iframe");for(var g=0;g<c.length&&!d;g++){var a=c[g];a.contentWindow===window&&(d=a)}return d},gxOpener:function(){try{parent.gxTestAvailable=1;var c=this.getWindowIframeElement(parent);return c&&void 0!==l(c).attr("data-gx-popup-ct")?parent:window}catch(d){}return null},
setFocus:function(){var c=this.getPopup();c&&c.window.frames[0].focus()},ispopup:function(){return null!=this.getPopup()},popupurl:function(){return this.getPopup().url},waitCallback:function(c){var d=gx.popup.getPopup();d?"opened"==d.state?c():gx.lang.doCallTimeout(gx.popup.waitCallback,gx.popup,[c],50):c()},getPopup:function(){var c=this.gxOpener();try{if(!gx.lang.emptyObject(c)&&!gx.lang.emptyObject(c.gx))return c.gx.popup.currentPopup}catch(d){}return null},setPopup:function(c){this.currentPopup=
c},open:function(c,d){return this.openPopup(c,d)},openUrlToOpenPopupParms:function(c,d,g){var a=1,b=0,f=0,k=0,m=0,q=0;g&&(a=g[0],b=g[1],f=g[2],k=g[3],m=g[4],q=g[5]);return[c,a,b,f,k,m,q,[],d]},openUrl:function(){return this.openPopup(this.openUrlToOpenPopupParms.apply(this,arguments))},openPopup:function(c,d){var g=this.getPopup(),a,b;if(g&&g.Opener===gx.O&&gx.lang.isArray(c))g.OncloseCmds.push({popup:c});else{c=new this.Popup(c,!1);c.Opener=d||gx.O;d=0;for(g=c.ReturnParms.length;d<g&&!((b=gx.fn.vStructForVar(c.ReturnParms[d]))&&
b.grid&&(a=gx.O.getGridById(b.grid)));d++);a&&a.isUsercontrol&&(c.CustomRenderGrid=a);c.open();return c}},openDialog:function(c){var d=new this.Dialog;d.Opener=gx.O;d.open(c);return d},openPrompt:function(c,d,g,a,b,f){if(null==gx.popup.currentPrompt){a&&gx.setGxO(a,b);var k=document.activeElement,m=!1,q;if(k){var w=gx.fn.rowGridId(k);k=gx.fn.controlRowIndex(k);if(!gx.lang.emptyObject(w)&&!gx.lang.emptyObject(k)){gx.csv.lastGrid=w;gx.fn.setCurrentGridRow(w,k);w=gx.O;k=gx.csv.lastId;var p=gx.fn.validStruct(k,
w);if(p)var t=gx.csv.lastRow[p.grid];gx.csv.checkRowChange(k,!1,w,t)}}else{t=0;for(k=d.length;t<k;t++)if(d[t].IOType){w=d[t].id;break}w&&(p=gx.O.getValidStructFld(w),!gx.lang.emptyObject(p)&&(q=gx.O.getGridById(p.grid)))&&(m=q.isUsercontrol)&&(w=q.gridId+"",k=gx.lang.emptyObject(q.grid.getSelectedRow)?void 0:gx.text.padl(q.grid.getSelectedRow()+"",4,"0"),gx.lang.emptyObject(w)||gx.lang.emptyObject(k)||(gx.csv.lastGrid=w,gx.fn.setCurrentGridRow(w,k)))}if(f||this.outParmsAccepted(d)||m)c=new this.Popup([c,
1,0,0,0,0,0,[],d],!0),c.IsMod=g,c.Opener=gx.getObj(a,b),m&&(c.CustomRenderGrid=q),c.open()}},outParmsAccepted:function(c){for(var d=c.length,g=!1,a=0;a<d;a++){var b=c[a];gx.fn.isOutputParm(b)&&(g=!0);if(gx.fn.isOutputParm(b)&&b.Ctrl&&gx.fn.isAccepted(b.Ctrl))return!0}return!g},gxReturn:function(c){gx.fn.closeWindow(c)},parmId:function(c){c=gx.dom.id(c);0===c.indexOf("span_")&&(c=c.substring(5));return c},popuplvl:function(){var c=gx.popup.getPopup();return c&&c.window?c.window.gx.popup.lvl:-1},assignPromptFields:function(c,
d){var g=[],a=gx.O,b=[],f=99999,k=Math.min(c.length,d.length),m=0;for(m=0;m<k;m++){var q=c[m],w=d[m];if(q.Ctrl&&!gx.lang.emptyObject(q)){gx.csv.pkDirty=q.isKey;"checkbox"==q.Ctrl.type&&q.Ctrl.value!=w&&(q.Ctrl.checked=!q.Ctrl.checked);q.Ctrl.value!=w&&q.isKey&&(gx.popup.gxOpener().GXPkIsDirty=!0);var p=gx.csv.ctxControlId(this.parmId(q.Ctrl)),t=a.getValidStructFld(p);b.push({idx:t?t.id:f++,ParmCtrl:q.Ctrl,ControlId:p,VStruct:t,PValue:w})}}b.sort(function(z,r){return z.idx<r.idx?-1:z.idx>r.idx?1:0});
for(m=0;m<b.length;m++)this.assignPromptFieldValue(b[m],a);for(m=0;m<b.length;m++)g.push(this.assignAndValidatePromptField(b[m],a));return l.when.apply(l,g)},assignPromptFieldValue:function(c,d){var g=c.VStruct,a=c.ParmCtrl;c=c.PValue;gx.lang.emptyObject(g)||gx.lang.emptyObject(g.v2c)||"date"!=g.type&&"dtime"!=g.type?(gx.fn.setControlValue(this.parmId(a),c,0),g.c2v(),"function"===typeof g.v2bc&&g.v2bc.call(d)):(g.v2v(c),"function"===typeof g.v2bc&&g.v2bc.call(d),gx.fn.v2c(g,c));gx.fn.setControlGxValid(a,
"0");gx.evt.execOnchange(a);d=gx.dom.byId("span_"+a.name);null!=d&&(0===d.childNodes.length&&d.appendChild(gx.popup.gxOpener().document.createTextNode("")),d.childNodes[0].nodeValue=c);g&&g.gxgrid&&g.gxgrid.updateControlValue(g,!1)},assignAndValidatePromptField:function(c,d){var g=l.Deferred(),a=!0,b=c.ControlId,f=c.VStruct,k,m=function(){gx.popup.assignPromptFieldValue(c,d);gx.util.balloon.clear(b);k&&(gx.O.fromValid>k&&(gx.O.fromValid=k),gx.O.toValid=k+1,gx.csv.validateAll().done(function(){if(!gx.lang.emptyObject(f.rgrid)){for(var q=
f.rgrid.length,w=0;w<q;w++)f.rgrid[w].filterVarChanged();g.resolve()}}));g.resolve()}.closure(this);!gx.lang.emptyObject(f)&&(k=d.getValidStructId(f.fld))&&(k>gx.O.toValid&&(d.toValid=k),a=!1,gx.csv.validateAll().done(m));a&&g.resolve();return g.promise()},autofit:function(){var c=this.getPopup();gx.lang.emptyObject(c)||"opened"!=c.state||this.ext.autofit(c,null,!1)},Impl:function(c,d,g,a,b,f,k,m){var q="PopupBorder gx-popup gx-popup-default";c.cssClass&&(q=q.replace("gx-popup-default",""),q+=" "+
c.cssClass);return new this.ext.popUp(c,g,f,m,k,a,b,"gxp",d,"white","#00385c","16pt serif","GxPopup","#00385c","white","lightgrey","#00568c","black",!0,!1,!0,!0,!0,!0,!1,"min.gif","max.gif","close.gif",gx.ajax.getImageUrl(gx,"resizeImage"),"PopupHeader gx-popup-header","PopupHeaderButton gx-popup-close","PopupContent gx-popup-content",q,"PopupShadow",void 0)},setZIndex:function(c){c=gx.dom.getStyle(c,"zIndex");isNaN(c)&&(c=999);c++;this.zindex=c;this.ext.zdx=c},ext:{currIDb:null,xoff:0,yoff:0,currRS:null,
rsxoff:0,rsyoff:0,zdx:1E3,sdiff:5,win:null,doc:null,compatMode:function(){return!gx.runtimeTemplates||gx.util.browser.isIE()&8>=gx.util.browser.ieVersion()},hide:function(c){var d=gx.dom.byId;gx.popup.ext.compatMode()&&(d(c+"_t").style.visibility="hidden",d(c+"_c").style.visibility="hidden",d(c+"_rs").style.visibility="hidden");d(c+"_b").style.visibility="hidden"},show:function(c){var d=gx.dom.byId,g=l("#"+c+"_b");gx.popup.ext.compatMode()?(d(c+"_t").style.visibility="visible",d(c+"_c").style.visibility=
"visible",d(c+"_rs").style.visibility="visible"):l(document.body).toggleClass("gx-popup-opened",!0);g.css("visibility","visible")},close:function(c,d){l(document.body).toggleClass("gx-popup-opened",!1);if(!d||"function"!=typeof d||!1!==d()){c.draggable&&c.draggable.deinit();c.resizable&&c.resizable.deinit();gx.popup.ext.iFrame=null;gx.popup.ext.win=null;gx.popup.ext.doc=null;gx.popup.ext.currIDb=null;gx.popup.ext.currRS=null;var g=c.id;d=document.getElementById(g+"_b");g=document.getElementById(g+
"_ifrm");gx.popup.ext.deinitmodal(c);gx.popup.setPopup(c.parentPopup);var a=c.callerActiveElement;a&&a.focus&&a.focus();c.parentPopup?c.parentPopup.frameWindow.gx.fx.obs.notify("popup.close",[c]):gx.fx.obs.notify("popup.close",[c]);g&&(g.src=gx.util.getIFrameEmptySrc());gx.util.browser.isIE()&&7==gx.util.browser.ieVersion()?d.parentNode.removeChild(d):gx.dom.removeControlSafe(d)}},move:function(c,d,g){c=l("#"+c+"_b");c.toggleClass("gx-popup-centered",!1);void 0!==d?c.css({left:Math.max(d,0)}).toggleClass("gx-popup-horizontal-center",
!1):c.toggleClass("gx-popup-horizontal-center",!0);void 0!==g&&c.css({top:Math.max(g,0)})},resize:function(c,d,g){var a=gx.dom.byId;if(a(c+"_rs").rsEnable){var b=a(c+"_rs"),f=a(c+"_b"),k=a(c+"_t");a=a(c+"_c");gx.popup.ext.compatMode()?(b.style.left=Math.max(d,92)+"px",b.style.top=Math.max(g,72)+"px",f.style.width=Math.max(d+8,100)+"px",f.style.height=Math.max(g+8,80)+"px",k.style.width=Math.max(d+3,92)+"px",a.style.width=Math.max(d-5,87)+"px",a.style.height=Math.max(g-28,44)+"px"):(c=document.getElementById(c+
"_ifrm"),l(c).css({width:d,height:g}));this.resizePopupContent(d,g)}},movepopup:function(){null!=this.currIDb&&this.move(this.currIDb.cid,gx.evt.mouse.x+this.xoff,gx.evt.mouse.y+this.yoff);null!=this.currRS&&this.resize(this.currRS.cid,gx.evt.mouse.x+this.rsxoff,gx.evt.mouse.y+this.rsyoff);return!1},stopRS:function(){gx.popup.ext.currRS=null},startRS:function(c,d){var g=gx.popup.ext,a=c.pageX;c=c.pageY;var b=l(d);gx.popup.ext.compatMode()?(g.rsxoff=parseInt(d.style.left,0)-a,g.rsyoff=parseInt(d.style.top,
0)-c):(g.rsxoff=b.position().left-a,g.rsyoff=b.position().top-c);g.currRS=d;return!1},changez:function(c){c=null!=c?c:this;var d=gx.popup.ext,g=gx.dom.byId;c.style.zIndex=++d.zdx;g(c.cid+"_rs").style.zIndex=++d.zdx},stopdrag:function(){gx.popup.ext.currIDb=null},grab_id:function(c,d){var g=gx.popup.ext,a=gx.dom.byId;d=a(d.cid+"_b");gx.evt.mouse.update(c);c=gx.evt.mouse.x;a=gx.evt.mouse.y;gx.popup.ext.compatMode()?(g.xoff=parseInt(d.style.left,0)-c,g.yoff=parseInt(d.style.top,0)-a):(g.xoff=l(d).position().left-
c,g.yoff=l(d).position().top-a);g.currIDb=d;return!1},subBox:function(c,d,g,a,b,f){b=document.createElement("div");b.setAttribute("id",f);b.style.position="absolute";b.style.left=c+"px";b.style.top=d+"px";b.style.width=g+"px";b.style.height=a+"px";b.style.visibility="visible";b.style.padding="0px";b.style.width=g+"px";return b},window:function(){gx.popup.ext.compatMode()?this.window_compat.apply(this,arguments):this.window_responsive.apply(this,arguments)},window_responsive:function(c,d,g,a,b,f,k,
m,q,w,p,t,z,r,u,x,E,F,G,n,v,y,B,C,I,L,M,N){I=void 0!==I?I:gx.popup.showParentPopups;d=c.id;this.win||(this.win=window);this.doc||(this.doc=this.win.document);a=this.win.gx.dom.byId.closure(this.win.gx.dom);g=l("<div/>",{id:d+"_b",style:u?"":"visibility:hidden;"})[0];l(g).addClass("gx-responsive-popup gx-popup-centered "+B+" gx-popup-initial");B=l("<div/>",{id:d+"_t"})[0];B.className=n;B.innerHTML='<span id="'+d+'_gxtitle" class="PopupTitle">'+q+'</span><span class="'+v+'"; id="'+d+'_cls"></span>';
q=l("<div/>",{id:d+"_c"})[0];q.className=y;"string"==typeof k?q.innerHTML=k:q.appendChild(k);g.appendChild(B);g.appendChild(q);N=gx.dom.byId(N)||this.doc.body;N.appendChild(g);u||this.hide(d);k=a(d+"_b");u=a(d+"_cls");k.cid=d;k.isExt=F?!0:!1;F=a(d+"_t");F.cid=d;E&&(c.resizable=new gx.popup.ext.resizable(k,d,G,g));x&&(c.draggable=new gx.popup.ext.draggable(k,F));gx.evt.attach(u,"click",M.close||this.close.closure(this,[c,M.beforeClose]));(r||I)&&this.initmodal(c,I,L)},resizable:function(c,d,g,a){var b,
f=!1,k,m,q,w,p;this.init=function(t,z,r,u){var x=l("<div/>",{id:z+"_rs"})[0];x.className+="gx-popup-resize";x.innerHTML='<img src="'+r+'" width="7px" height="7px" alt="'+gx.getMessage("GXM_resize")+'">';x.rsEnable=!0;x.style.cursor="se-resize";x.cid=z;u.appendChild(x);q=t;x.firstChild.addEventListener("dragstart",function(E){gx.evt.cancel(E,!0)},!0);w=this.onMouseup.closure(this);p=this.onMousemove.closure(this);x.addEventListener("mousedown",this.onMousedown.closure(this));document.addEventListener("mouseup",
w);document.addEventListener("mousemove",p);b=!0};this.deinit=function(){b&&(document.removeEventListener("mouseup",w),document.removeEventListener("mousemove",p),b=q=null)};this.onMousemove=function(t){if(f){var z=l(q).find("iframe");l("iframe").css("pointer-events","none");var r=l(q).hasClass("gx-popup-centered")?2:1,u=t.clientX-k,x=t.clientY-m;u=l(z).width()+u*r;r=l(z).height()+x*r;l(z).css({width:u,height:r});k=t.clientX;m=t.clientY}};this.onMousedown=function(t){k=t.clientX;m=t.clientY;f=!0};
this.onMouseup=function(){f&&(l("iframe").css("pointer-events",""),f=!1)};this.init(c,d,g,a)},draggable:function(c,d){var g,a=!1,b,f,k=0,m=0,q,w,p,t,z;this.init=function(r,u){q=r;w=u;z=this.onMousedown.closure(this);t=this.onMousemove.closure(this);p=this.onMouseup.closure(this);q.addEventListener("mousedown",z);q.addEventListener("mouseup",p);document.addEventListener("mousemove",t);g=!0};this.deinit=function(){g&&(q.removeEventListener("mousedown",z),q.removeEventListener("mouseup",p),document.removeEventListener("mousemove",
t),g=q=w=null)};this.onMousemove=function(r){if(a){l("iframe").css("pointer-events","none");var u=r.clientY-f;q.style.left=k+(r.clientX-b)+"px";q.style.top=m+u+"px"}};this.onMousedown=function(r){if(r.target===w){var u=l(q);k=u.position().left;m=u.position().top;u.css({left:k,top:m}).toggleClass("gx-popup-centered gx-popup-horizontal-center",!1);b=r.clientX;f=r.clientY;a=!0}};this.onMouseup=function(){a&&(l("iframe").css("pointer-events",""),a=!1,k=parseInt(q.style.left,10)||0,m=parseInt(q.style.top,
10)||0)};this.init(c,d)},window_compat:function(c,d,g,a,b,f,k,m,q,w,p,t,z,r,u,x,E,F,G,n,v,y,B,C,I,L,M,N){I=void 0!==I?I:gx.popup.showParentPopups;t=c.id;this.win||(this.win=window);this.doc||(this.doc=this.win.document);z=this.win.gx.dom.byId.closure(this.win.gx.dom);b=Math.max(b,100);f=Math.max(f,80);d=new this.subBox(b-8,f-8,7,7,"",t+"_rs");E&&(d.className+="gx-popup-resize",d.innerHTML='<img src="'+G+'" width="7px" height="7px" alt="'+gx.getMessage("GXM_resize")+'" style="box-sizing:content-box">',
d.style.cursor="se-resize");d.rsEnable=E;g=new this.subBox(g,a,b,f,p,t+"_b");g.className=B;g.style.display="block";g.style.boxSizing="content-box";g.style.zIndex=++this.zdx;u||(g.style.visibility="hidden");w=new this.subBox(2,2,b-5,20,w,t+"_t");w.style.overflow="hidden";w.style.boxSizing="content-box";w.className=n;w.innerHTML='<span id="'+t+'_gxtitle" class="PopupTitle" style="box-sizing:border-box;white-space:nowrap;position:absolute;padding:2px;">'+q+'</span><span class="'+v+'" style="z-index:'+
++this.zdx+';" id="'+t+'_cls"></span>';b=new this.subBox(2,24,b-13,f-36,m,t+"_c");b.className=y;"string"==typeof k?b.innerHTML=k:b.appendChild(k);b.style.overflow="hidden";b.style.boxSizing="content-box";u||(g.style.visibility="hidden",w.style.visibility="hidden",b.style.visibility="hidden");g.appendChild(w);g.appendChild(b);g.appendChild(d);N=gx.dom.byId(N)||this.doc.body;N.appendChild(g);u||this.hide(t);var R=z(t+"_b");R.cid=t;R.isExt=F?!0:!1;var P=z(t+"_t");P.cid=t;E&&(k=z(t+"_rs"),k.cid=t,k.style.boxSizing=
"content-box",gx.evt.attach(k,"mousedown",this.startRS.closure(this,[k],!0)),gx.evt.attach(k,"mouseup",this.stopRS.closure(this,[k],!0)));k=z(t+"_cls");gx.evt.attach(k,"click",M.close||this.close.closure(this,[c,M.beforeClose]));x&&(gx.evt.attach(P,"mousedown",function(X){this.grab_id(X,P);gx.evt.attach(R,"mouseup",this.stopdrag.closure(this,[P],!0),this,{single:!0})},this),E&&gx.evt.attach(d.firstChild,"dragstart",function(X){gx.evt.cancel(X,!0)},!0));(r||I)&&this.initmodal(c,I,L)},popUp:function(c,
d,g,a,b,f,k,m,q,w,p,t,z,r,u,x,E,F,G,n,v,y,B,C,I,L,M,N,R,P,X,W,aa,ba,ha){p=gx.popup.ext;null!=c.parentPopup?(t=c.parentPopup.window,p=t.gx.popup.ext,p.win=t,p.doc=t.document,gx.popup.ext=p):(p.win=window,p.doc=p.win.document);p.win.gx.popup.setPopup(c);c.window=p.win;c.document=p.doc;p.win.gx.popup.lvl++;m+=p.win.gx.popup.lvl;c.id=m;c.IsPrompt||gx.util.sameAppUrl(q)?(q+=gx.http.urlParameterPrefix(q),q+=encodeURIComponent("gxPopupLevel="+p.win.gx.popup.lvl+";"),g=gx.util.getFileName(q),g=g.charAt(0).toUpperCase()+
g.slice(1),gx.popup.ext.compatMode()?(t=gx.HTML5?"auto":"100%",q='<iframe id="'+m+'_ifrm" src="'+q+'" width="'+t+'" height="'+t+'" frameborder="0" style="overflow:auto;" title="'+g+'" data-gx-popup-ct=""></iframe>'):(t=!d&&0<f?f:gx.dom.fixes.getPopupMinWidth(),q=l("<iframe/>",{id:m+"_ifrm",src:q,title:g,style:"width:"+gx.dom.addUnits(t)}),q.attr("data-gx-popup-ct",""),q=q[0].outerHTML,gx.util.browser.isIPad()&&(q='<div class="iframe-container">'+q+"</div>")),g={close:c.close.closure(c,[null,{ignoreCmds:gx.config.popup.ignoreCmdsOnCancel}])},
p.window(c,d,a,b,f,k,q,w,z,r,x,E,F,G,n,v,y,C,R,P,X,W,aa,ba,ha,!0,g),d=p.win.gx.dom.byId(m+"_ifrm"),p.iFrame=d,gx.lang.doCallTimeout(p.showIfLoaded,p,[c,d,1],50)):(gx.popup.setPopup(null),c=new Date,c=c.getTime(),m="",1==g&&(m="left="+a+",top="+b),a="",d||(a=",width="+f+",height="+k),window.open(C?q:"","gx"+c,"status=no,menubar=no"+a+",resizable="+(y?"yes":"no")+",scrollbars=yes,"+m))},initmodal:function(c,d,g){c.showParentPopups=d;null==c.parentPopup?gx.ajax.disableForm(g,!0):d||this.hide(c.parentPopup.id)},
deinitmodal:function(c){if(null==c.parentPopup)gx.ajax.enableForm();else{this.show(c.parentPopup.id);var d=c.parentPopup.frameWindow;d&&d.gx&&c.parentPopup.frameWindow.gx.ajax.enableForm()}},getDocumentContentType:function(c){return c.contentType||l(c.querySelector('meta[http-equiv="content-type"]')).attr("content")},isPDFPopup:function(c,d){if(void 0===d.isPdf){var g=c.src;if(gx.util.getContentTypeFromExt(g)==gx.util.contentTypes.pdf)return d.isPdf=!0;var a=gx.util.contentTypes.html;try{var b=c.contentDocument;
b=c.contentWindow.document;a=this.getDocumentContentType(b);if(a==gx.util.contentTypes.pdf)return d.isPdf=!0}catch(k){a=null}if(gx.lang.emptyObject(a)){var f;c={};c.url=g;c.method="HEAD";c.sync=!0;c.ajaxHeader=!1;c.handler=function(k,m,q){f=q.getResponseHeader("Content-Type")};c.obj=!0;gx.http.doCall(c);if(f&&0<=f.indexOf(gx.util.contentTypes.pdf))return d.isPdf=!0}return!1}return d.isPdf},showIfLoaded:function(c,d,g){try{if(c.isActive()&&(this.docReady(d,g)||10<g&&this.isPDFPopup(d,c))){var a=gx.dom.iFrameDoc(d),
b=!1;try{b=a&&"about:blank"!=a.URL}catch(k){}var f=this.isPDFPopup(d,c);if(b||f){c.state="opened";this.autofit(c,a,!0);return}}}catch(k){gx.dbg.logEx(k,"gxpopup.js","showIfLoaded")}g++;gx.lang.doCallTimeout(gx.popup.ext.showIfLoaded,gx.popup.ext,[c,d,g],50*g)},docReady:function(c,d){if("complete"==c.readyState)return!0;if(c=gx.dom.iFrameDoc(c)){try{var g="undefined"!=typeof c.gxReadyState?c.gxReadyState:c.readyState}catch(a){return!0}if("complete"==g)return!0}return!gx.util.browser.isIE()&&50<=d&&
c&&c.body&&0!==c.body.childNodes.length?!0:!1},resizePopupContentLegacy:function(c,d){var g=gx.dom.iFrameDoc(this.iFrame);d=0<d?d:"100%";c=0<c?c:"100%";var a=l(this.iFrame);g&&(c=d="100%");a.width(c);void 0===d&&(d=Math.max(Math.max(g.body.scrollHeight,g.documentElement.scrollHeight),Math.max(g.body.offsetHeight,g.documentElement.offsetHeight)));a.height(d)},resizePopupContent:function(c,d){gx.HTML5&&this.iFrame&&(gx.popup.ext.compatMode()?this.resizePopupContentLegacy(c,d):this.resizePopupContentImpl(c,
d))},resizePopupContentImpl:function(c,d){var g=gx.dom.iFrameDoc(this.iFrame),a=l(this.iFrame);if(0<c&&0<d)a.width(c),a.height(d);else if(g){try{var b=a[0].contentWindow.gx&&a[0].contentWindow.gx.runtimeTemplates}catch(k){}b||a.width(50);c=Math.max(g.body.scrollWidth,g.body.getBoundingClientRect().width,g.documentElement.scrollWidth,g.documentElement.getBoundingClientRect().width);try{var f=a[0].scrollWidth-a[0].contentDocument.scrollingElement.offsetWidth;c+=a.height()<g.body.offsetHeight?f:0}catch(k){}1<
Math.abs(a.width()-c)&&a.width(c);g=Math.max(g.body.scrollHeight,g.body.getBoundingClientRect().height,g.documentElement.scrollHeight,g.documentElement.getBoundingClientRect().height);a.height(g)}},autofit:function(){gx.popup.ext.compatMode()?this.autofit_comp.apply(this,arguments):this.autofit_responsive.apply(this,arguments)},autofit_responsive:function(c,d,g){if(!gx.lang.emptyObject(c)){var a=c.id,b=c.isPdf,f=l("#"+a+"_c");this.doc||(this.doc=c.document);var k=this.doc;var m=k.getElementById(a+
"_ifrm"),q=l(k.getElementById(a+"_gxtitle"));!d&&gx.popup.ispopup()&&(d=gx.dom.iFrameDoc(m));this.iFrame=this.iFrame||m;q.text(d&&!b?d.title:"");c.frameDocument=d;c.frameWindow=m.contentWindow;d&&!b&&(d.gxPopup=c);gx.util.browser.isIPad()&&(f.css("overflow-y","auto"),f.css("-webkit-overflow-scrolling","touch"));if(window.self!==window.top){var w=this.getiFrameSizeInfo(k);w.accessParentFrame&&(q=w.scrollTop,m=w.maxHeight+Math.min(window.top.document.body.scrollTop-w.y,0)-50,f.css("max-height",m).parent().css("margin-top",
"0px"),this.move(a,void 0,Math.max(window.top.document.body.scrollTop-w.y,0)+q+(m-Math.min(d.body.offsetHeight,m))/2))}if(b){f.addClass("gx-popup-pdf");var p=.5*k.body.clientWidth;var t=.85*k.body.clientHeight}c.autoresize||(p=c.width,t=c.height);this.resizePopupContent(p,t);g&&(c.position&&(d=parseInt(c.top,0),c=parseInt(c.left,0),this.move(a,c,d)),this.show(a))}},autofit_comp:function(c,d,g){if(!gx.lang.emptyObject(c)){var a=document;c.zindex=null!=a.gxPopup?this.zdx+a.gxPopup.zindex:this.zdx;var b=
c.id,f=c.isPdf;this.doc||(this.doc=c.document);a=this.doc;var k=a.getElementById(b+"_ifrm");!d&&gx.popup.ispopup()&&(d=gx.dom.iFrameDoc(k));c.frameDocument=d;c.frameWindow=k.contentWindow;d&&!f&&(d.gxPopup=c);k=a.getElementById(b+"_rs");var m=a.getElementById(b+"_t"),q=a.getElementById(b+"_b"),w=a.getElementById(b+"_c"),p=a.getElementById(b+"_gxtitle");p.innerHTML=d&&!f?d.title:"";p.style.width="auto";var t=gx.dom.getComputedStyle(w),z=gx.dom.getComputedStyle(m),r=gx.dom.getComputedStyle(q),u=gx.dom.getComputedStyle(k),
x=parseInt(t.height,0),E=parseInt(t.width,0),F=this.getiFrameSizeInfo(a),G=F.maxWidth,n=F.maxHeight,v=F.scrollTop,y=F.scrollLeft,B=F.x;F=F.y;var C=gx.dom.dimensions(q);c.autoresize||(x=c.height-x+C.h,E=c.width-E+C.w);var I=c.width-E,L=c.height-x;c.autoresize&&(!f&&d?(d=gx.HTML5?d.documentElement||d.body:d.body,a=g&&gx.util.browser.isEdge()?l.position.scrollbarWidth():0,d?(d.gxwidth||(d.gxwidth=d.scrollWidth),I=d.gxwidth+a,a=d.gxwidth+30-G,L=d.scrollHeight+30-n,I=Math.max(I,p.clientWidth+15)-E-(0<
a?a:0),L=d.scrollHeight-x-(0<L?L:0)):gx.util.browser.isIE()&&(0>I&&(I=0),0>L&&(L=0))):f&&(I=a.body.clientWidth/2,L=a.body.clientHeight/2));p=parseInt(c.top,0);x=parseInt(c.left,0);c.position||(p=(n-L)/2-C.h/2+v-F,x=(G-I)/2-C.w/2+y-B,0>p&&(p=5,L-=5),0>x&&(x=5,I-=5));q.style.top=parseInt(p,0)+"px";q.style.left=parseInt(x,0)+"px";c.autoresize?(c=function(M,N){N=parseInt(M,0)+N;return 0<N?N:M},m.style.width=c(z.width,I)+"px",q.style.height=c(r.height,L)+"px",q.style.width=c(r.width,I)+"px",w.style.height=
c(t.height,L)+"px",w.style.width=c(t.width,I)+"px",c=gx.util.browser.isIE()?4:2,k.style.top=parseInt(r.height,0)-parseInt(u.height,0)-c+"px",k.style.left=parseInt(r.width,0)-parseInt(u.width,0)-c+"px"):(x=c.height,E=c.width,k.style.left=Math.max(E,92)+"px",k.style.top=Math.max(x,72)+"px",q.style.width=Math.max(E+8,100)+"px",q.style.height=Math.max(x+8,80)+"px",m.style.width=Math.max(E+3,92)+"px",w.style.width=Math.max(E-5,87)+"px",w.style.height=Math.max(x-28,44)+"px");gx.util.browser.isIPad()||gx.util.browser.isIPhone()?
(w.style["overflow-y"]="auto",w.style["-webkit-overflow-scrolling"]="touch"):w.style.overflow="hidden";f&&gx.util.browser.isIE()?this.resizePopupContent("100%","100%"):this.resizePopupContent(parseInt(w.offsetWidth,10),parseInt(w.offsetHeight,10));g&&this.show(b)}},getiFrameSizeInfo:function(c){var d=gx.util.getWindowInfo().canAccessFrame,g={x:0,y:0,accessParentFrame:d};!d||window==window.top||gx.lang.emptyObject(window.top)?(g.maxWidth=window.innerWidth||c.documentElement.clientWidth||c.body.offsetWidth,
g.maxHeight=window.innerHeight||c.documentElement.clientHeight||c.body.offsetHeight,g.scrollTop=gx.dom.documentScroll(c).scrollTop,g.scrollLeft=gx.dom.documentScroll(c).scrollLeft):(d=gx.dom.position(window.frameElement),window.top.document.body.clientHeight>c.body.clientHeight?g.maxHeight=c.body.clientHeight:(g.maxHeight=window.top.document.body.clientHeight,g.y=d.y),g.scrollTop=c.body.scrollTop,g.scrollLeft=c.body.scrollLeft,g.maxWidth=Math.min(window.top.document.body.clientWidth,c.body.clientWidth),
window.top.document.body.clientWidth>c.body.clientWidth?g.maxWidth=c.body.clientWidth:(g.maxWidth=window.top.document.body.clientWidth,g.x=d.x));return g},_init:function(){}},_init:function(){gx.lang.inherits(this.Popup,this.Dialog);this.ext._init();var c=this.getPopup();if(c){try{c.frameDocument&&(gx.util.browser.isIE()?c.frameDocument=c.frameWindow.document:c.frameDocument.gxPopup=c)}catch(d){c.frameDocument=c.frameWindow.document,gx.dbg.logEx(d,"gxpopup.js","_init")}c=c.window.gx.popup;gx.fx.obs.addObserver("gx.onload",
c,function(){this.autofit()}.closure(c));gx.fx.obs.addObserver("grid.onafterrefresh",c,function(d,g,a){g<a&&this.autofit()}.closure(c));gx.fx.obs.addObserver("gx.onafterevent",c,function(){this.autofit()}.closure(c))}}}}(gx.$);
gx.ajax=function(l){function c(a,b,f){0<a&&(f=f||gx.O,gx.fn.setCurrentGridRow(a,b),(a=f.getGridById(a))&&a.instanciateRow(b))}var d=/\?(.*)/,g=function(a,b,f){gx.dbg.logMsg("Unable to execute external object "+a+" - "+b+"("+f+")")};return{reqHeader:"GxAjaxRequest",dfTimer:null,resolveParmKey:function(a){var b=!1;a.av?b=a.av:a.ctrl&&a.prop?b=a.ctrl+a.prop:a.ctrl&&(b=a.ctrl);return b},serviceUrl:function(a){var b=gx.ajax.selfUrl();a&&(b=d.test(b)?b.replace(d,"?"+a+gx.http.urlParameterSeparator(b)+"$1"):
b+("?"+a));return b},validationMessage:function(a,b,f,k,m,q){a=new gx.ajax.message(a,b,f,k,m,q);return gx.lang.apply(a,{isValidation:!0,beforeCall:gx.emptyFn,beforeAjaxCall:function(w){w.warnOnTimeout=!0;w.beforeSend=function(p){p.setRequestHeader("X-FULL-AJAX-REQUEST","1")}},beforeProcesResponse:function(w){var p,t=[],z=this.getParmsMetadata("input");for(p=0;p<z.length;p++)z[p].av&&t.push(z[p].av);w.isValidation=!0;w.validationInput=t}})},message:function(a,b,f,k,m,q){var w;return{disableForm:q,
gxO:b,grid:f,row:k,methods:[a],isValidation:!1,addMethod:function(p){this.methods.push(p)},gridsData:function(){var p=this.gxO.getGridById(this.grid,this.row),t={},z=function(u,x){x[u.gridName]={id:u.gridId,lastRow:Math.max(0,Number(u.lastRowId)),pRow:u.parentRow?u.parentRow.gxId:""}};if(p){var r=function(u,x){if(u){z(u,x);var E=gx.fn.currentGridRowImpl(u.gridId);E&&(x[u.gridName].lastRow=Math.max(0,Number(E.substr(-4,4))-1));r(u.parentGrid,x)}};(function(u,x,E,F){var G=function(n,v){return n?v.parentGrid===
n&&gx.text.startsWith(v.parentRow.gxId,F)?v:G(n.parentGrid,v):null};E=l.map(gx.O.Grids,function(n){return G(u,n)});l.each(E,function(n,v){z(v,x)})})(p,t,this.gxO,this.row);r(p,t)}else l.each(this.gxO.Grids,function(u,x){z(x,t)});return t},to_json:function(){var p={MPage:this.gxO.IsMasterPage,cmpCtx:this.gxO.CmpContext,parms:this.parms,hsh:this.hashedParms,objClass:this.gxO.ServerClass,pkgName:this.gxO.PackageName||"",events:this.methods};this.fullPost&&(p.fullPost=this.fullPost);this.addGXStateParms(p);
this.grid&&(p.grid=this.grid);p.grids=this.gridsData();this.row&&(p.row=this.row.substring(0,4),p.pRow=this.row.substring(4));return gx.json.serializeJson(p)},getParmsMetadata:function(p){for(var t=[],z={},r=0,u=this.methods.length;r<u;r++){var x=this.methods[r];if(this.gxO.EvtParms[x]){x=this.gxO.EvtParms[x]["input"==p?0:1];for(var E=0;E<x.length;E++)if(x[E].postForm||x[E].sPrefix||x[E].sSFPrefix||x[E].sCompEvt)t.push(x[E]);else{var F=gx.ajax.resolveParmKey(x[E]);F&&(void 0===z[F]?(z[F]=t.length,
t.push(x[E])):void 0===t[z[F]].grid&&void 0!==x[E].grid&&(t[z[F]]=x[E]))}}}return t},parmFromHidden:function(p,t){var z=gx.O;gx.setGxO(t);if(!gx.lang.emptyObject(p)&&!gx.lang.emptyObject(t)&&p.v2v){var r=gx.fn.getHidden(this.gxO.IsMasterPage?p.fld+"_MPAGE":gx.O.CmpContext+p.fld);p.v2v(r);r=t[p.gxvar]}gx.setGxO(z);return r},getInputParms:function(){for(var p=this,t=this.getParmsMetadata("input"),z=this.gxO.CmpContext,r=[],u=[],x,E,F,G,n,v,y=0,B=t.length;y<B;y++)if(E=F=void 0,v="",x=t[y],x.postForm){G=
{};G.formNode=this.gxO.getContainer()||gx.dom.form();this.fullPost=gx.http.getPostData(G,gx.http.postDataFormat.JSON);for(var C in gx.http.viewState)this.fullPost[C]||void 0===gx.http.viewState[C]||(this.fullPost[C]=gx.http.viewState[C])}else if(this.gxO.isTransaction()&&0<this.grid&&this.row&&"Gx_mode"===x.av&&"vMODE"===x.fld)r.push(gx.fn.getGridRowModeImpl(gx.fn.gridLvl(this.grid),this.grid,this.row));else if("Referrer"==x.prop)r.push(gx.referrer?gx.referrer:document.referrer);else if(x.sPrefix)r.push(this.gxO.sPrefix());
else if(x.sSFPrefix)r.push("");else if(x.sCompEvt)r.push(gx.fn.getHidden("_EventName").replace(this.gxO.sPrefix(),""));else{if(x.ctrl)if(x.prop)"GridRC"==x.prop?(G=(G=gx.parentGridRow(x.grid,this.gxO))?"_"+G:"",E={gridRC:gx.fn.getHidden(this.gxO.sPrefix()+x.av+G),rowSuffix:G,grid:x.grid}):E="GridCurrRow"==x.prop?gx.fn.currentGridRowImpl(x.grid):this.gxO.getCtrlPropertyValue(this.gxO.sPrefix()+x.ctrl,x.prop);else{if(F=this.gxO.getValidStructFld(x.ctrl))G=gx.fn.getControlGridRef(F.fld,F.grid),gx.html.controls.isMultiSelection(F.ctrltype)?
v=gx.dom.comboBoxToObj(G,E):"radio"===F.ctrltype&&(v=gx.dom.radioToObj(G,E)),v&&(E=v)}else if(G=function(M){M.forEach(function(N){if(N&&"function"==typeof N.c2v&&"function"==typeof N.val){var R=N.grid===p.grid?p.row:gx.fn.currentGridRowImpl(N.grid);void 0!==N.val(R)&&N.c2v(R);gx.fn.call_v2bc(N,gx.O)}N&&!0===N.isuc&&(n=p.row||(N&&N.grid?gx.fn.currentGridRowImpl(N.grid):void 0),(N.getUCInstance(n)||N.uc).execC2VFunctions())})},v=this.getParmVarVStruct(x),F=v[0],G(v),F||(v=this.getParmVarVStructGrid(x,
gx.O),G(v)),E="function"==typeof this.gxO[x.av]?this.gxO[x.av](this.row):void 0===this.gxO[x.av]?x.fld?gx.fn.getControlValue(x.fld):"":this.gxO[x.av],G=gx.fn.vStructForOld(x.av),!G||"date"!=G.type&&"dtime"!=G.type||"string"===typeof E&&(E=new gx.date.gxdate(E)),this.isValidation&&E instanceof gx.date.gxdate&&!E.HasDatePart&&(G=new gx.date.gxdate(""),G.assign_date(E),G.JsonNullFormat=gx.date.jsonNullFormat.YearOne,E=G),void 0!==x.grid){var I=E,L=[];l.each(this.gxO.Grids,function(M,N){if(N.gridId===
x.grid){M=N.parentRow?N.parentRow.gxId:"";if(F){E={pRow:M,c:[],hc:[],hsh:[],v:I};for(var R=1;R<=N.lastRowId;R++){n=gx.grid.getPaddedRowId(R);var P=F.isuc?gx.fn.getControlValue(F.fld+"_"+n+M):F.val(n+M);E.c.push(P);x.hsh&&E.hsh.push(gx.fn.getHash(z,F.fld,n+M));gx.lang.emptyObject(F.hc)||E.hc.push(gx.fn.getControlValue("GXHC"+F.fld+"_"+n+M))}}else gx.lang.isArray(E)&&(E={pRow:M,c:E,v:E[Number(gx.fn.currentGridRowImpl(x.grid))-1]});L.push(E)}});E=L}else x.hsh&&(F&&F.grid?(n=gx.fn.currentGridRowImpl(F.grid)||
"",""===n&&(E=this.parmFromHidden(F,this.gxO))):n="",u.push({hsh:gx.fn.getHash(this.gxO.CmpContext,x.fld,n),row:n}));r.push(void 0!==E?E:null)}return{input:r,hashed:u}},refreshOutputParms:function(){for(var p=this.getParmsMetadata("output"),t,z,r=0,u=p.length;r<u;r++)t=p[r],(t=this.getParmVarVStruct(t)[0])&&t.grid&&"function"==typeof t.c2v&&"function"==typeof t.val&&(z=gx.fn.currentGridRowImpl(t.grid),void 0!==t.val(z)&&t.v2c(z))},getParmVarVStructGrid:function(p,t){var z=[];(p=t.getAllGridsForColl(p.av))&&
p.forEach(function(r){var u=r.gridId;t.GXValidFnc.filter(function(x){return x.grid===u}).forEach(function(x){(vStruct=t.getValidStructFld(x.fld))&&vStruct.gxvar&&z.push(vStruct)})});return z},getParmVarVStruct:function(p){var t,z=[];p.av&&(t=gx.O.getFormBCForVar(p.av));t?z=Object.values(t).filter(function(r){return r.ctrltype}):void 0!==p.fld?z.push(p.fld?this.gxO.getValidStructFld(p.fld):null):this.grid&&this.row&&(t=this.gxO.getGridById(this.grid,this.row))&&(p=t.grid.getColumnForVar(p.av))&&z.push(this.gxO.getValidStruct(p.gxId));
return z},addGXStateParms:function(p){var t={};gx.notifications&&gx.notifications.webSocket.initialized&&gx.fn.getHidden("GX_WEBSOCKET_ID")&&(t.GX_WEBSOCKET_ID=gx.fn.getHidden("GX_WEBSOCKET_ID"));gx.lang.emptyObj(t)||(p.gxstate=t)},beforeCall:function(){m&&gx.fn.objectOnpost()},call:function(){w=l.Deferred();var p=gx.O;gx.setGxO(this.gxO);if(this.grid&&this.row){var t=gx.fn.currentGridRowImpl(this.grid);gx.fn.setCurrentGridRow(this.grid,this.row)}this.beforeCall();var z=this.getInputParms();m?(this.parms=
z.input,this.hashedParms=z.hashed,this.doAjaxCall(!1,this.disableForm)):(this.doClientSideCall(),this.refreshOutputParms());this.grid&&this.row&&gx.fn.setCurrentGridRow(this.grid,t);gx.setGxO(p);return w.promise()},doAjaxCall:function(p,t){var z=this.to_json();gx.evt.setProcessing({status:!0,ctx:"doAjaxCall"});!1!==t&&this.startFeedback();gx.fx.obs.notify("gx.onbeforeevent",[z,p]);p=gx.ajax.getPostInfo(this.gxO,z,p);p.handler=this.ajaxCallHandler.closure(this);p.error=this.ajaxCallError.closure(this);
p.handleAllStatusCodes=!0;p.url=gx.ajax.serviceUrl((gx.http.useNamedParameters(gx.ajax.selfUrl())?"gxevent=":"")+gx.ajax.encryptParms(this.gxO,"gxfullajaxEvt"));p.reqData=z;p.always=this.callback;p.contentType="application/json";this.beforeAjaxCall(p);gx.http.doCall(p)},beforeAjaxCall:gx.emptyFn,doClientSideCall:function(){var p=this.callback();w.resolve(p)},ajaxCallError:function(){w.resolve(!1);b.endFeedback()},afterAjaxCallHandler:function(p,t,z){z=z||gx.O;gx.evt.setProcessing({status:!1,ctx:"afterAjaxCallHandler"});
w.resolve(!p);p&&(z.endFeedback(),gx.fx.obs.notify("gx.onafterevent",[t]))},ajaxCallHandler:function(p,t,z){gx.evt.enter=!1;gx.csv.lastEvtResponse=null;gx.http.lastStatus=z.status;p=!1;if(z.status==gx.http.STATUS_FORBIDDEN)gx.util.alert.showError(gx.getMessage("GXM_runtimeappsrv")+" ("+z.status+" "+z.statusText+")"),p=!0;else if(gx.http.checkResponseStatus(z,this.isValidation))p=!0;else if(200>z.status||299<z.status)gx.dom.writeError(z.responseText,gx.getMessage("GXM_runtimeappsrv"),z.status),p=!0;
else if(gx.http.validJsonResponse(z,t)){var r=gx.json.evalJSON(t);null==r?gx.dom.writeError(t.toString(),gx.getMessage("GXM_runtimeappsrv"),z.status):(gx.csv.lastEvtResponse=r,t={response:r,isPostBack:!0,context:{fullAjaxCall:!0},gxObject:this.gxO,gridId:this.grid,row:this.row},this.beforeProcesResponse(t),gx.ajax.setJsonResponse(t).done(function(){gx.fx.obs.notify("gx.onafterevent",[r])}))}else p=!0;this.afterAjaxCallHandler(p,r,this.gxO)},beforeProcesResponse:gx.emptyFn,startFeedback:function(){this.gxO.startFeedback(!1,
this.isValidation)}}},maxGETLength:function(a){return a.AjaxSecurity?600:1350},getImageUrl:function(a,b){var f=a[b];if(gx.lang.emptyObject(f))return"";"object"==typeof f&&(a[b]=gx.ajax.resolveImageUrl(f));return gx.util.resourceUrl(gx.basePath+gx.staticDirectory+a[b],!0)},resolveImageUrl:function(a){var b;for(b=0;b<a.length;b++){var f=a[b];if(f.l==gx.languageCode&&f.t==gx.theme)return(f.i?"Resources/":"")+f.p}},encryptParms:function(a,b){return a.AjaxSecurity?gx.sec.encrypt(b):b},doPost:function(a,
b,f,k,m,q,w,p){!1!==f&&w.startFeedback();gx.fx.obs.notify("gx.onbeforeevent",[a,b]);gx.fn.objectOnpost();gx.fn.forceEnableControls(!1);var t=this.getPostInfo(w,a,b);t.rowId=m;t.gridId=k;t.url=gx.ajax.serviceUrl(a);t.evt=p;t.always=function(){!1!==f&&w.endFeedback();q&&q()};fnc=function(){p&&gx.fn.setHidden("_EventName",p);gx.evt.setGridEvt(k,m,w);gx.http.saveState();gx.http.doCall(t)};b?gx.lang.doCallTimeout(fnc,this,[],gx.evt.oldDoPostDelay):fnc.bind(this)()},getPostInfo:function(a,b,f){b={};b.formNode=
gx.dom.form();b.method="POST";b.encoding="UTF-8";b.useCash=!1;b.gxO=a;!0===f&&(b.sync=!0);b.handler=gx.http.postHandler;this.multipartInfo(b);return b},multipartInfo:function(a){gx.dom.hasSelectedFile()&&(a.multipart=!0,a.mimetype="text/html",a.formNode.encoding="multipart/form-data")},dispatchRefreshCommand:function(a,b){var f=void 0!==a.refresh_form;a=a.refresh||a.refresh_form;gx.util.balloon.clearAll();if("GET"==a)gx.http.reload(!0);else return a="RFR",b.IsMasterPage&&(a+="_MPAGE"),b=f||!gx.pO.fullAjax?
gx.pO:b,f=b.fullAjax,b.executeServerEvent(a,!gx.pO.fullAjax,null,!0,f);return l.Deferred().resolve()},doRefresh:function(a){var b=a.IsMasterPage?"RFR_MPAGE":"RFR";a=gx.pO.fullAjax?a:gx.pO;a.executeServerEvent(b,!0,null,!0,a.fullAjax)},dispatchCommands:function(a,b,f,k){f=f||{};var m,q=f.ignoreCmds||[];k=void 0===k?0:k;b=b||gx.O;if(a&&0<a.length){for(var w=a.length,p=k;p<w;p++){k=a[p];var t=Object.keys?Object.keys(k)[0]:"";if(!gx.util.inArray(t,q)){k.set_focus&&gx.fn.usrSetFocus(k.set_focus);k.print&&
gx.printing.print(k.print);k.close&&(t=[],k.close.values instanceof Array&&(t=k.close.values),gx.fn.closeWindow(t,{parmsMetadata:k.close.metadata,updateParms:f.updateParms},b));if(void 0!==k.refresh||void 0!==k.refresh_form||""===k.cmp_refresh){gx.ajax.dispatchRefreshCommand(k,b).then(function(){gx.ajax.dispatchCommands(a,b,f,p+1)});return}k.redirect&&(t=k.redirect,t.url=gx.ajax.removeGXParms(t.url),gx.http.redirect(t.url,1===t.forceDisableFrm,2===t.forceDisableFrm,b,!1));k.calltarget&&gx.nav.callFromServerRedirect(k.calltarget.url,
k.calltarget.target);k.callback&&k.callback.apply(k.callback.scope,k.args||[]);k.cmp_refresh&&(t=gx.pO.getWebComponent(k.cmp_refresh),gx.evt.dispatcher.dispatch("REFRESH",t));if(k.popup){a.length>p+1&&(gx.lang.isArray(k.popup)?k.popup[7]=a.slice(p+1):k.popup.OncloseCmds=a.slice(p+1));gx.popup.open(k.popup,b);break}if(k.ucmethod&&(m=gx.getObj(k.ucmethod.CmpContext,k.ucmethod.IsMasterPage))){t=gx.O;gx.setGxO(m);if((m=gx.O.getUserControl(k.ucmethod.Control))&&"function"==typeof m[k.ucmethod.Method])try{m[k.ucmethod.Method].apply(m,
k.ucmethod.Parms);var z=!0}catch(r){gx.dbg.logEx(r,"gxcallrpc.js","Failed to execute usercontrol method: "+k.ucmethod.Method)}gx.setGxO(t)}k.exomethod&&(gx.ajax.dispatchExoMethod(k.exomethod),z=!0);k.exoprop&&gx.ajax.dispatchExoProperty(k.exoprop)}}z&&b.showMessages(!0)}gx.fn.usrSetFocus_commit()},resolveExoObject:function(a,b){a=a[b];var f;if(!a){b=b.split(".");a=window;var k=0;for(f=b.length;k<f;k++)if(a=a[b[k]],void 0===a)return}return a},dispatchExoMethod:function(a){var b=gx.getObj(a.CmpContext,
a.IsMasterPage),f,k;if(b){var m=gx.O;gx.setGxO(b);try{(f=this.resolveExoObject(b,a.ObjectName))&&"GlobalEvents"===a.ObjectName?f.executeMethod(a.Method,a.Parms):a.IsEvent?gx.fx.obs.notify(a.Method,a.Parms):f?(k=f[a.Method])?k.apply(f,a.Parms):g("method","Method not found",a.Method):g("method","Object not found",a.ObjectName)}catch(q){gx.dbg.logEx(q,"gxcallrpc.js","dispatchCommands")}finally{gx.setGxO(m)}}},dispatchExoProperty:function(a){var b=gx.getObj(a.CmpContext,a.IsMasterPage),f;if(b){var k=
gx.O;gx.setGxO(b);try{(f=this.resolveExoObject(b,a.ObjectName))?f[a.PropertyName]=a.Value:g("property","Object not found",a.ObjectName)}catch(m){gx.dbg.logEx(m,"gxcallrpc.js","dispatchCommands")}finally{gx.setGxO(k)}}},ROW_ID_REGEXP:/[0-9]{4}$/,dispatchPreCommands:function(a,b,f,k,m,q,w,p){b=b||gx.O;if(a&&0<a.length)for(f=a.length,q=0;q<f;q++){var t=a[q];if(t.load){if(k=b.getGridById(t.load.grid,p))t.load.props.values=t.load.values,k.loadNewRows(t.load.props)}else t.addlines&&(gx.lang.doCall(gx.fn.setJsonValues,
m),gx.lang.doCall(gx.fn.setJsonProperties,w,p),(k=b.getGridById(t.addlines.grid,p))&&k.getNewRows(t.addlines.count))}},willLeavePage:function(a){if(a)for(var b=a.length,f=0;f<b;f++)if(a[f].close)return!0;return!1},getRedirectCommand:function(a){if(a)for(var b=a.length,f=0;f<b;f++){var k=a[f];if(k.popup)break;if(k.redirect)return k}return null},saveJsonResponse:function(a){this.lastJsonResponse=JSON.parse(gx.lang.htmlDecode(a))},clearJsonResponse:function(){delete this.lastJsonResponse},getJsonResponse:function(){this.lastJsonResponse&&
delete this.lastJsonResponse.gxCommands;return this.lastJsonResponse},setPostResponse:function(a,b,f){return this.setJsonResponse({gridId:a.gridId,row:a.rowId,response:a,isPostBack:!0,gxObject:b||gx.O,context:f})},setJsonResponse:function(a){var b=l.Deferred(),f=a.response,k,m=a.isPostBack,q=a.afterCmpLoaded,w=a.gxObject,p=a.gridId,t=a.row,z=a.context||{},r=!!a.isValidation,u=gx.fn,x=gx.lang.doCall,E=this.willLeavePage(f.gxCommands),F=this.getShouldUpdatePropertyFunction(f);if(w){var G=gx.O;gx.O=
w}if(p&&t){var n=gx.fn.currentGridRow(p);gx.fn.setCurrentGridRow(p,t)}if(gx.evt.srvCommand)gx.evt.srvCommand=!1,x(gx.ajax.dispatchCommands,f.gxCommands,w),b.resolve(E);else{var v=this.getRedirectCommand(f.gxCommands);if(v&&1===v.redirect.forceDisableFrm)x(gx.ajax.dispatchCommands,f.gxCommands,w,{ignoreCmds:["refresh","cmp_refresh"]}),b.resolve(E);else if(E)x(gx.ajax.dispatchCommands,f.gxCommands,w),b.resolve(E);else{x(gx.ajax.dispatchPreCommands,f.gxCommands,w,f.gxComponents,f.gxHiddens,f.gxValues,
f.gxGrids,f.gxProps,t);x(u.clearCompontHiddens,f.gxComponents);var y=x(u.setJsonHiddens,w,f.gxHiddens);x(u.setJsonComponents,f.gxComponents,f.DynComponentMap,f.gxHiddens,function(B){gx.http.loadStyles();gx.updateTheme();m&&gx.fn.installComponents(!1);"function"==typeof q&&q();G&&(gx.O=G);var C=[],I=x(u.setJsonValues,f.gxValues,r,p,t,F),L=x(u.setJsonProperties,f.gxProps,t),M=l.map(B,function(X){X=u.cmpContextFromCtrl(X);if(X=gx.pO.WebComponents[X])return gx.lang.objToArray(X.UserControls).concat(X.getUserControlGrids())});
r||!w.isTransaction()&&w.fullAjax||gx.util.balloon.clearAll();u.enableDisableDelete(w);m&&(k=x(u.loadJsonGrids,f.gxGrids,m,C));r&&gx.ajax.transformValidationMessages(a,w,f.gxMessages);x(u.setErrorViewer,f.gxMessages);var N=function(X){X=X||[];var W;gx.pO.supportAjaxEvents&&(W=gx.lang.arrayUnique(L.concat(I,M,X,y),function(aa,ba){return aa.ControlName===ba.ControlName}));u.objectPostback(W,B);r||u.setFocusAfterLoad(!0);return l.Deferred().resolve()}.closure(this),R=function(){!z.fullAjaxCall||z.autoRefreshing||
!m&&gx.popup.currentPopup||w.endFeedback();x(gx.ajax.dispatchCommands,f.gxCommands,w);n&&gx.fn.setCurrentGridRowSafe(p,n);b.resolve(E)}.closure(this),P=[];m&&(w.execV2CFunctions(!0,C,!1),k&&P.push(k.done(N)),B&&B.length&&P.push(N.apply(this,[])));l.when.apply(l,P).done(R)},m)}}return b.promise()},getShouldUpdatePropertyFunction:function(a){var b,f,k,m={};if(a.gxGrids)for(b=0;b<a.gxGrids.length;b++){var q=a.gxGrids[b];for(f=0;f<q.Count;f++)for(k=0;k<q[f].Props.length;k++)m[q[f].Props[k][0]]=!0}return function(w){return!m[w]}},
transformValidationMessages:function(a,b,f){b=b.cmpCtx||"MAIN";"undefined"!=typeof f[b]&&(f[b]={fields:a.validationInput,msgs:f[b]})},disableForm:function(a,b){gx.pO.startFeedback(b,void 0===a||a)},enableForm:function(a){a=a||gx.O;gx.pO&&gx.pO.endFeedback();a!=gx.pO&&a.endFeedback()},isFormEnabled:function(){var a=gx.getActiveContext();return a==top&&null!=gx.popup.getPopup()?!0:gx.pO?!a.gx.pO.isFeedbackOn()&&!a.gx.O.isFeedbackOn():!0},saveFormForAutoComplete:function(){if(!(!gx.ajax.formAutocomplete||
gx.grid.drawAtServer||gx.util.browser.isIE()&&(gx.util.browser.isCompatMode()||7>=document.documentMode||7>=gx.util.browser.ieVersion()))){var a=gx.dom.form(),b=document.createElement("iframe");b.id="gx_iframe_force_ajax_autocomplete";b.name="gx_iframe_force_ajax_autocomplete";b.style.cssText="display: none";b.src="/content/blank";document.body.appendChild(b);var f=document.createElement("input");f.type="submit";f.style.cssText="display: none";a.appendChild(f);var k=a.target,m=a.action;a.target=b.name;
a.action=b.src;var q=l(f);gx.evt.attach(f,"click",function(w){w.stopPropagation();return!0});q.trigger("click");setTimeout(function(){a.target=k;a.action=m;a.removeChild(f);document.body.removeChild(b)})}},suggest:function(a,b,f,k,m,q,w){a=new gx.fx.suggestProvider(a,b,f,k);return new gx.fx.autoSuggestControl(gx.fn.screen_CtrlRef(f),a,f,m,q,w)},hideCode:function(a,b,f){var k=this.objectUrl()+"?";b="gxajaxHideCode_"+b;for(var m=a.length,q=0;q<m;q++)b+=","+encodeURIComponent(eval(a[q]));k+=gx.ajax.encryptParms(gx.O,
b);gx.http.callBackend_impl(function(w){gx.fn.setVarValues(f,w)},k,!0,gx.http.modes.retval);return this.lastStatus},callCrl:function(a,b,f){var k=f?gx.fn.setGridComboValues:gx.fn.setComboValues,m=f?b:gx.fn.screen_CtrlRef(b).name;f=this.objectUrl()+"?";a="gxajaxCallCrl_"+b+","+this.arrayToUrl(a);f+=gx.ajax.encryptParms(gx.O,a);gx.http.callBackend_impl(function(q){k(m,q)},f,!0,gx.http.modes.retval)},refreshGrid:function(a,b){var f=gx.O;gx.setGxO(a.parentObject);var k="GET",m=gx.ajax.gxObjectUrl(a.parentObject)+
"?",q="gxajaxGridRefresh_"+a.gridName+","+b;gx.fx.obs.notify("grid.onbeforerefresh",[a]);a.autoRefreshing=!0;gx.csv.autoRefreshing=a;var w=a.grid.rows.length;a.setPagingVars(0,0);if(q.length>gx.ajax.maxGETLength(gx.O)){k="POST";var p=["GXEvent="+gx.ajax.encryptParms(gx.O,"gxajaxGridRefresh_"+a.gridName)];b=b.split(",");q=0;for(var t=b.length;q<t;q++)p.push("GXParm"+q+"="+b[q])}else m+=gx.ajax.encryptParms(gx.O,q);a.grid.mask();gx.http.doCall({method:k,url:m,reqData:p,handler:function(z,r,u){gx.http.postHandler(z,
r,u,{autoRefreshing:!0});gx.fx.obs.notify("grid.onafterrefresh",[a,w,a.grid.rows.length])},always:function(){gx.csv.autoRefreshing=null;a.autoRefreshing=!1;a.grid.unmask();gx.setGxO(f)}})},newRows:function(a,b,f,k,m,q,w,p){var t=this.objectUrl()+"?",z=[],r=gx.O;a=gx.fn.gridObj(a,w?f+"_"+w:f,b);b="GET";f="gxajaxNewRow_"+f;z.push(f);z.push(k);z.push(m);z.push(q);(r.IsComponent||r.IsTypeComponent)&&z.push(r.CmpContext);z=z.concat(a.getParmsValues(!1,a.postingVariables,!1));k=z.join(",");if(k.length>
gx.ajax.maxGETLength(r)){b="POST";r=["GXEvent="+gx.ajax.encryptParms(r,f)];k=1;for(m=z.length;k<m;k++)r.push("GXParm"+(k-1)+"="+z[k]);k=r.join("&")}else t+=gx.ajax.encryptParms(r,k),k=null;gx.http.callBackend_simple(t,!0,null,b,k);if(t=gx.http.lastResponse)t=gx.json.evalJSON(t),p.call(a,t),gx.dom.indexElements(),gx.fx.obs.notify("gx.onafterevent",[t])},loadCrl:function(a,b,f){if("1"==gx.fn.getControlValue("IsConfirmed"))this.lastStatus=0;else{var k=this.objectUrl()+"?";a="gxajaxExecAct_"+a+","+this.arrayToUrl(b);
k+=gx.ajax.encryptParms(gx.O,a);gx.http.callBackend_impl(function(m){gx.fn.setVarValues(f,m)},k,!0,gx.http.modes.retval)}},udp:function(a,b,f){var k=this.objectUrl()+"?";a=a+","+this.arrayToUrl(b);k+=gx.ajax.encryptParms(gx.O,a);gx.http.callBackend_impl(function(m){gx.fn.setVarValues(f,m)},k,!0,gx.http.modes.retval)},srvEvt:function(a,b,f,k){var m=this.objectUrl()+"?";a=a+","+b+","+this.arrayToUrl(f);m+=gx.ajax.encryptParms(gx.O,a);gx.http.callBackend_impl(function(q){gx.fn.setVarValues(k,q)},m,!0,
gx.http.modes.full)},validSrvEvt:function(a,b,f){var k=gx.fn.currentGridRowImpl(b);if(0<b){var m=gx.fn.currentGridRowImpl(b);c(b,k,f)}if(gx.fx.delayedValidation){var q=l.Deferred(),w=arguments;gx.fx.obs.addObserver("gx.validation",this,function(){return this.validSrvEvt_impl.apply(this,w).then(function(p){q.resolve(p);c(b,m,f)})},{single:!0,async:!0});return q.promise()}return this.validSrvEvt_impl.apply(this,arguments).then(function(p){c(b,m,f);return p})},validCliEvt:function(a,b,f,k){k=k||gx.O;
return gx.evt.dispatcher.dispatch({eventName:a,fn:f},k,b,gx.fn.currentGridRowImpl(b),!1,void 0,void 0,gx.evt.dispatcher.types.validation)},validSrvEvt_impl:function(a,b,f){f=f||gx.O;var k=gx.fn.currentGridRowImpl(b);return gx.evt.dispatcher.dispatch(a,f,b,k,!0,void 0,void 0,gx.evt.dispatcher.types.validation).then(function(m){f.refreshOlds();return m})},getParmsPostData:function(a){for(var b="",f=0;f<a.length;f++)0<f&&(b+="&"),b+="GXParm"+f+"="+this.parmToUrl(a[f],!0);return b},getCallerUrl:function(a){if(gx.stackSupported()){a=
(a=gx.call_stack_storage.get(gx.stackId(a)))||[];var b=1==a.length&&a[0]!=gx.ajax.selfUrl()?a[0]:"";return b=1<a.length?a[a.length-2]:b}return gx.fn.getHidden("sCallerURL")},pushReferer:function(a,b){b="undefined"==typeof b?location.href:gx.absoluteurl(b);if(gx.stackSupported()){"undefined"==typeof a&&(a=gx.popup.popuplvl());var f=gx.call_stack_storage.get(gx.stackId(a));f=f||[];b!=gx.util.lastArray(f)&&f.push(b);gx.call_stack_storage.set(gx.stackId(a),f)}else a=this.objectUrl()+"?",b="dyncall,PushReferer,"+
encodeURIComponent(b),a+=gx.ajax.encryptParms(gx.O,b),gx.http.callBackend_simple(a,!0,!0)},windowClosed:function(a){if(gx.stackSupported())if(-1==a){a=gx.stackId(gx.popup.popuplvl());var b=gx.call_stack_storage.get(a);b=b||[];b.pop();gx.call_stack_storage.set(a,b)}else gx.call_stack_storage.remove(gx.stackId(a));else a=-1==a?",PopReferer":",DeleteReferer,"+a.toString(),b=this.objectUrl()+"?",b+=gx.ajax.encryptParms(gx.O,"dyncall"+a),gx.http.callBackend_simple(b,!0,!0)},aggSel:function(a,b,f){var k=
this.objectUrl()+"?";a="gxajaxAggSel"+b+"_"+a+","+this.arrayToUrl(f);k+=gx.ajax.encryptParms(gx.O,a);return gx.http.callBackend_impl(null,k,!1,gx.http.modes.retval)[0]},aggSelDecimal:function(a,b,f,k,m){return gx.num.parseFloat(this.aggSel(a,b,m),f,k)},aggSelInteger:function(a,b,f){return parseInt(this.aggSel(a,b,f),10)},dynComponent:function(a,b,f,k){var m=l.Deferred();a=gx.util.removeBaseUrl(a).toLowerCase();gx.gen.isDotNet()&&(a+=".aspx");a=gx.ajax.objectUrl(a);f="GXEvent="+gx.ajax.encryptParms(gx.O,
"dyncomponent")+"&GXAction="+encodeURIComponent(f)+"&GXParm0="+encodeURIComponent(k);for(k=0;k<b.length;k++)f+="&GXParm"+(k+1).toString()+"="+encodeURIComponent("function"==typeof b[k].getUrlVal?b[k].getUrlVal():b[k]);gx.http.doCall({method:"POST",url:a,reqData:f,handler:function(q,w){m.resolve(gx.json.evalJSON(w))},error:function(){m.reject()}});return m.promise()},selfUrl:function(){return location.href.replace(/#[\s\S]*$/,"")},removeGXParms:function(a){return a.replace(/\?gxajaxEvt,?|\?gxportlet,?/,
"?")},getSecurityToken:function(a){if(a&&a.ajaxSecurityToken){var b="GX_AUTH_"+(a.CmpContext?a.CmpContext:"")+a.ServerClass;b=b.toUpperCase();a=gx.fn.getHidden(b)||a.InternalParms[b];return{id:b,value:a}}},arrayToUrl:function(a,b){for(var f="",k=a.length,m=0;m<k;m++)f+=this.parmToUrl(a[m],b)+",";return f},ControlValuesObject:function(a,b){a=gx.fn.vStructForVar(gx.unprefixVar(a));return null!=a&&gx.html.controls.isMultiSelection(a.ctrltype)?(a=gx.fn.getControlGridRef(a.fld,a.grid),gx.dom.comboBoxToObj(a,
b)):null},parmToUrl:function(a,b){var f=eval(a);if(f instanceof Array&&2==f.length&&"string"==typeof f[0]&&"string"==typeof f[1]){var k=gx.fn.vStructForVar(f[0]);null!=k&&(f=gx.fn.getGridCtrlProperty(k.grid,k.fld,f[1]))}b&&(b=gx.ajax.ControlValuesObject(a,f))&&(f=b);"object"==typeof f&&(f=gx.json.serializeJson(f));if("undefined"==typeof f||null==f)b=!1,a&&0===a.indexOf("gx.O.")&&(a=gx.unprefixVar(a),a=gx.fn.getHidden(gx.O.CmpContext+a),null!=a&&"undefined"!=typeof a&&(f=a,b=!0)),b||(f="");return encodeURIComponent(f)},
gxObjectUrl:function(a){return this.objectUrl(a.serviceUrl,a&&a.fullAjax?a.CmpContext:void 0)},objectUrl:function(a,b){b=void 0!==b?b:gx.csv.cmpCtx;a||(a=b?gx.fn.getControlValue(b+"_CMPPGM"):gx.ajax.selfUrl(),null!=a&&(a=a.replace(/\?.*/,""),a=a.replace(/#[\s\S]*$/,"")),a=this.objnameFromUrl(a));return gx.absoluteurl(this.objToRelativeUrl(a))},objToRelativeUrl:function(a){return null==a||gx.isabsoluteurl(a)?a:""===gx.servletBasePath?a:gx.servletBasePath+"/"+a},objnameFromUrl:function(a){0<=a.indexOf("?")&&
(a=a.split("?")[0]);var b=a.split("/"),f=b.length;return 0===f?a:b[f-1]},_init:function(){if(gx.stackSupported()){var a=gx.json.evalJSON(gx.fn.getHidden("GX_NAV"));if(a)for(var b=0;b<a.length;b++)gx.ajax.pushReferer(gx.popup.popuplvl(),a[b]);gx.ajax.pushReferer(gx.popup.popuplvl(),window.location.toString())}}}}(gx.$);
gx.util.balloon={balloons:{},timerOn:!1,lastLbl:null,impl:function(){function l(c,d){var g=$("#"+c.id+"_dp_trigger");if(0<g.length)return g.get(0);if(d&&0<d.length&&(g=$("[data-gx-attached-ctrl~='"+c.id+"']"),0<g.length))return g.parent().get(0)}this.init=function(c,d){this.id=c;this.balloonid=c+"_Balloon";this.hasMessage=!1;this.messageWar=this.messageErr="";this.isError=!1;this.active=!0;this.errorValue=null;this.sourceElements=d||[]};this.clear=function(){this.hasMessage=!1;this.messageWar=this.messageErr=
"";this.active=!1;this.errorValue=null;gx.util.balloon.lastLbl=null};this.setMessage=function(c){this.hasMessage||(this.messageWar=c,this.hasMessage=!0)};this.setAsFormatError=function(){this.isFormatError=!0;gx.csv.setFormatError(this.id,!1)};this.setError=function(c){this.hasMessage||(this.messageErr=c,this.hasMessage=this.isError=!0,this.isFormatError&&gx.csv.setFormatError(this.id))};this.create=function(c,d,g,a){var b=document.createElement("span");b.id=c;b.className=g;c=document.createElement("div");
c.style.position="absolute";c.style.zIndex=100;c.style.display="none";c.classList.add("gx-error__message-container");a=document.createTextNode(a);b.appendChild(a);c.appendChild(b);"right"==gx.csv.messagePosition||"bottom"==gx.csv.messagePosition?(a=$(d).closest(".gx-attribute"),!0===gx.csv.overlap&&gx.runtimeTemplates&&0<a.length?a.append(c):(a=l(d))?0<=a.id.indexOf("_dp_trigger")?$(a).closest(".dp_container").append(c):$(a).after(c):$(d).after(c)):!0===gx.csv.overlap?$(d).after(c):$(d).before(c);
!0===gx.csv.overlap?(b.style.position="static",b.style.zIndex="1"):(c.style.position="relative",b.style.position="relative");return b};this.getControlValue=function(){for(var c=[gx.fn.getControlValue(this.id)],d=0,g=this.sourceElements.length;d<g;d++)c.push(gx.fn.getControlValue(this.sourceElements[d]));return c.join(";")};this.groupControl=function(c){(c=gx.dom.el(c))&&"INPUT"===c.nodeName&&"radio"===c.type&&(c=c.parentNode&&"SPAN"==c.parentNode.tagName?c.parentNode:gx.dom.findParentByTagName(c,
"table"));return c};this.hideBalloon=function(c){c=c.parentNode;try{c&&(c.style.display="none")}catch(d){gx.dbg.logEx(d,"gxballoon.js","hideBalloon")}};this.showBalloon=function(c){try{var d=gx.csv.messagePosition,g=gx.dom.el(this.id),a=c.parentNode,b=$(a),f,k,m=gx.popup.ispopup()?"flipfit":"none",q=g,w=l(g,this.sourceElements);gx.lang.requestAnimationFrame(function(){if(this.active)if(!0===gx.csv.overlap){switch(d){case "top":f="left bottom";k="left top";break;case "right":f="left center";k="right center";
q=w||q;break;case "bottom":f="left top";k="left bottom";break;case "left":f="right center",k="left center"}b.fadeIn({queue:!1}).css("display","block");b.position({my:f,at:k,of:q,collision:m})}else a.style.display="top"!=d&&"bottom"!=d||!1!==gx.csv.overlap?"inline":"block"},this)}catch(p){gx.dbg.logEx(p,"gxballoon.js","showBalloon")}};this.show=function(c){var d,g,a;if(void 0===document.readyState||"complete"==document.readyState){try{if(!1===this.hasMessage)return!0;var b=gx.dom.el(this.id);null===
b&&null!==gx.csv.validatingUC&&(b=gx.csv.validatingUC.getContainerControl());if("hidden"==b.type){var f=gx.dom.byId("span_"+this.id);null!==f&&(b=f)}else if("INPUT"===b.nodeName&&"radio"===b.type){var k=gx.dom.byName(gx.dom.id(b));b=gx.dom.findRadioContainer(b)}if(k){f=[];var m=0;for(a=k.length;m<a;m++)f.push(k[m]);k=f}else for(k=[b],m=0,a=this.sourceElements.length;m<a;m++)k.push(gx.dom.el(this.sourceElements[m]));this.active=d=!0;if(0<this.messageErr.length){var q="Error";var w=this.messageErr}else 0<
this.messageWar.length&&(q="Warning",w=gx.html.encode(this.messageWar));""!==q&&(f=q+"Messages",gx.dom.addPrefixClass(b,q),(g=gx.dom.byId(this.balloonid))?(g.innerHTML=w,g.className=f,d=!1):g=this.create(this.balloonid,b,f,w));gx.util.balloon.lastLbl&&gx.csv.oneAtAtime&&this.hideBalloon(gx.util.balloon.lastLbl);gx.util.balloon.lastLbl=g;!0===c?gx.csv.oneAtAtime||this.showBalloon(g):this.showBalloon(g);if(!1===gx.util.balloon.timerOn&&0<gx.csv.dismissSeconds)gx.util.balloon.timerOn=!0,this.timerId=
setTimeout(function(){gx.util.balloon.clearAll()},1E3*gx.csv.dismissSeconds);else if(d)for(gx.csv.oneAtAtime&&(gx.evt.attach(b,"mouseout",gx.util.balloon.cvsMouseOutHandler.closure(this)),gx.evt.attach(b,"mouseover",gx.util.balloon.cvsMouseOverHandler.closure(this))),a=k.length,m=0;m<a;m++)"INPUT"===k[m].nodeName&&"radio"===k[m].type?gx.evt.attach(k[m],"change",gx.util.balloon.cvsHide,this):gx.evt.attach(k[m],"blur",gx.util.balloon.cvsHide,this);this.errorValue=this.getControlValue()}catch(p){gx.dbg.logEx(p,
"gxballoon.js","show")}return!this.isError}}},cvsHide:function(){try{var l=this.groupControl(this.id);var c=this.getControlValue();if(c!=this.errorValue){this.errorValue=c;var d=gx.dom.byId(this.balloonid);null!=d&&(l&&(gx.dom.removePrefixClass(l,"Error"),gx.dom.removePrefixClass(l,"Warning")),this.hideBalloon(d),this.active=!1)}}catch(g){}},cvsMouseOutHandler:function(){if(this.active){var l=gx.dom.byId(this.balloonid);null!=l&&(gx.util.balloon.lastLbl?gx.util.balloon.lastLbl.id!=l.id&&this.hideBalloon(l):
this.hideBalloon(l))}},cvsMouseOverHandler:function(){if(this.active){var l=gx.dom.byId(this.balloonid);null!=l&&this.showBalloon(l)}},clearAll:function(){var l;this.timerOn=!1;for(l in this.balloons){var c=this.balloons[l];var d=gx.util.balloon.cvsHide.closure(c);c.clear();d()}},clear:function(l){try{var c=gx.csv.ctxControlId(l);if(this.balloons[c]){var d=this.balloons[c];var g=gx.util.balloon.cvsHide.closure(d);d.clear();g()}}catch(a){gx.dbg.logEx(a,"gxballoon.js","clear")}},getNew:function(l,c,
d){d=d||[];var g,a=d.length;"undefined"!=typeof c&&(l=l+"_"+c);try{var b=gx.fn.screen_CtrlRef(l);"INPUT"===b.nodeName&&"radio"===b.type&&(gx.dom.byName(gx.dom.id(b)),b=gx.dom.findRadioContainer(b),b.id||b.setAttribute("id","BallonAnchor_"+l));var f=gx.dom.id(b);l=gx.csv.ctxControlId(f);for(g=0;g<a;g++)b=gx.fn.screen_CtrlRef(d[g]),f=gx.dom.id(b),d[g]=gx.csv.ctxControlId(f)}catch(k){gx.dbg.logEx(k,"gxballoon.js","getNew")}this.balloons[l]?(c=this.balloons[l],c.sourceElements=d||[],c.clear()):(c=new this.impl,
this.balloons[l]=c,c.init(l,d));return c}};
(function(l){var c=function(){var d={"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":"Asia/Amman Asia/Jerusalem Europe/Helsinki Asia/Damascus Africa/Cairo Asia/Gaza Europe/Minsk".split(" "),"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],
"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk",
"Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]},g=function(w){w=-w.getTimezoneOffset();return null!==w?w:0},a=function(){var w=g(new Date(2014,0,2)),p=g(new Date(2014,5,2)),t=w-p;return 0>t?w+",1":0<t?p+",1,s":w+",0"},b=function(){var w;if("undefined"!==typeof Intl&&"undefined"!==typeof Intl.DateTimeFormat&&(w=Intl.DateTimeFormat(),"undefined"!==typeof w&&"undefined"!==typeof w.resolvedOptions)&&(w=w.resolvedOptions().timeZone)&&(-1<w.indexOf("/")||
"UTC"===w))return w},f=function r(p,t,z){"undefined"===typeof t&&(t=864E5,z=36E5);var u=(new Date(p.getTime()-t)).getTime();p=p.getTime()+t;for(var x=(new Date(u)).getTimezoneOffset(),E=null;u<p-z;){var F=new Date(u);if(F.getTimezoneOffset()!==x){E=F;break}u+=z}return 864E5===t?r(E,36E5,6E4):36E5===t?r(E,6E4,1E3):E},k=function(p,t,z,r){if("N/A"!==z)return z;if("Asia/Beirut"===t){if("Africa/Cairo"===r.name&&13983768E5===p[6].s&&14116788E5===p[6].e||"Asia/Jerusalem"===r.name&&13959648E5===p[6].s&&14118588E5===
p[6].e)return 0}else if("America/Santiago"===t){if("America/Asuncion"===r.name&&14124816E5===p[6].s&&1397358E6===p[6].e||"America/Campo_Grande"===r.name&&14136912E5===p[6].s&&13925196E5===p[6].e)return 0}else if("America/Montevideo"===t){if("America/Sao_Paulo"===r.name&&14136876E5===p[6].s&&1392516E6===p[6].e)return 0}else if("Pacific/Auckland"===t&&"Pacific/Fiji"===r.name&&14142456E5===p[6].s&&13961016E5===p[6].e)return 0;return z},m=function(p,t){for(var z={},r=c.olson.dst_rules.zones,u=r.length,
x=d[t],E=0;E<u;E++){var F=r[E];var G=r[E];for(var n=0,v=0;v<p.length;v++)if(G.rules[v]&&p[v]){if(p[v].s>=G.rules[v].s&&p[v].e<=G.rules[v].e)n=0,n+=Math.abs(p[v].s-G.rules[v].s),n+=Math.abs(G.rules[v].e-p[v].e);else{n="N/A";break}if(864E6<n){n="N/A";break}}G=k(p,t,n,G);"N/A"!==G&&(z[F.name]=G)}for(var y in z)if(z.hasOwnProperty(y))for(r=0;r<x.length;r++)if(x[r]===y)return y;return t},q=function(p){var t=function(){for(var z=[],r=0;r<c.olson.dst_rules.years.length;r++){var u=c.olson.dst_rules.years[r];
var x=(new Date(u,0,1,0,0,1,0)).getTime();u=(new Date(u,12,31,23,59,59)).getTime();for(var E=(new Date(x)).getTimezoneOffset(),F=null,G=null;x<u-864E5;){var n=new Date(x),v=n.getTimezoneOffset();v!==E&&(v<E&&(F=n),v>E&&(G=n),E=v);x+=864E5}u=F&&G?{s:f(F).getTime(),e:f(G).getTime()}:!1;z.push(u)}return z}();return function(z){for(var r=0;r<z.length;r++)if(!1!==z[r])return!0;return!1}(t)?m(t,p):p};return{determine:function(){var p=navigator.userAgent.toLowerCase(),t=b();t||(-1!=p.indexOf("firefox")&&
"undefined"!==typeof Intl&&"undefined"!==typeof Intl.DateTimeFormat&&(p=Intl.DateTimeFormat(void 0,{timeZoneName:"long"}).format(new Date).toLowerCase(),-1!=p.indexOf("montevideo")||-1!=p.indexOf("uruguay"))&&(t="America/Montevideo"),t||(t=c.olson.timezones[a()]),"undefined"!==typeof d[t]&&(t=q(t)));return{name:function(){return t}}}}}();c.olson=c.olson||{};c.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu",
"-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab",
"-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg",
"300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe",
"660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"};c.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572E5,s:12090744E5},{e:1250802E6,s:1240524E6},{e:12858804E5,s:12840696E5},!1,!1,!1,{e:14116788E5,s:1406844E6}]},{name:"Africa/Casablanca",rules:[{e:12202236E5,
s:12122784E5},{e:12508092E5,s:12438144E5},{e:1281222E6,s:12727584E5},{e:13120668E5,s:13017888E5},{e:13489704E5,s:1345428E6},{e:13828392E5,s:13761E8},{e:14142888E5,s:14069448E5}]},{name:"America/Asuncion",rules:[{e:12050316E5,s:12243888E5},{e:12364812E5,s:12558384E5},{e:12709548E5,s:12860784E5},{e:13024044E5,s:1317528E6},{e:1333854E6,s:13495824E5},{e:1364094E6,s:1381032E6},{e:13955436E5,s:14124816E5}]},{name:"America/Campo_Grande",rules:[{e:12032172E5,s:12243888E5},{e:12346668E5,s:12558384E5},{e:12667212E5,
s:1287288E6},{e:12981708E5,s:13187376E5},{e:13302252E5,s:1350792E6},{e:136107E7,s:13822416E5},{e:13925196E5,s:14136912E5}]},{name:"America/Goose_Bay",rules:[{e:122559486E4,s:120503526E4},{e:125704446E4,s:123648486E4},{e:128909886E4,s:126853926E4},{e:13205556E5,s:129998886E4},{e:13520052E5,s:13314456E5},{e:13834548E5,s:13628952E5},{e:14149044E5,s:13943448E5}]},{name:"America/Havana",rules:[{e:12249972E5,s:12056436E5},{e:12564468E5,s:12364884E5},{e:12885012E5,s:12685428E5},{e:13211604E5,s:13005972E5},
{e:13520052E5,s:13332564E5},{e:13834548E5,s:13628916E5},{e:14149044E5,s:13943412E5}]},{name:"America/Mazatlan",rules:[{e:1225008E6,s:12074724E5},{e:12564576E5,s:1238922E6},{e:1288512E6,s:12703716E5},{e:13199616E5,s:13018212E5},{e:13514112E5,s:13332708E5},{e:13828608E5,s:13653252E5},{e:14143104E5,s:13967748E5}]},{name:"America/Mexico_City",rules:[{e:12250044E5,s:12074688E5},{e:1256454E6,s:12389184E5},{e:12885084E5,s:1270368E6},{e:1319958E6,s:13018176E5},{e:13514076E5,s:13332672E5},{e:13828572E5,s:13653216E5},
{e:14143068E5,s:13967712E5}]},{name:"America/Miquelon",rules:[{e:12255984E5,s:12050388E5},{e:1257048E6,s:12364884E5},{e:12891024E5,s:12685428E5},{e:1320552E6,s:12999924E5},{e:13520016E5,s:1331442E6},{e:13834512E5,s:13628916E5},{e:14149008E5,s:13943412E5}]},{name:"America/Santa_Isabel",rules:[{e:12250116E5,s:1207476E6},{e:12564612E5,s:12389256E5},{e:12885156E5,s:12703752E5},{e:13199652E5,s:13018248E5},{e:13514148E5,s:13332744E5},{e:13828644E5,s:13653288E5},{e:1414314E6,s:13967784E5}]},{name:"America/Santiago",
rules:[{e:1206846E6,s:1223784E6},{e:1237086E6,s:12552336E5},{e:127035E7,s:12866832E5},{e:13048236E5,s:13138992E5},{e:13356684E5,s:13465584E5},{e:1367118E6,s:13786128E5},{e:13985676E5,s:14100624E5}]},{name:"America/Sao_Paulo",rules:[{e:12032136E5,s:12243852E5},{e:12346632E5,s:12558348E5},{e:12667176E5,s:12872844E5},{e:12981672E5,s:1318734E6},{e:13302216E5,s:13507884E5},{e:13610664E5,s:1382238E6},{e:1392516E6,s:14136876E5}]},{name:"Asia/Amman",rules:[{e:1225404E6,s:12066552E5},{e:12568536E5,s:12381048E5},
{e:12883032E5,s:12695544E5},{e:13197528E5,s:13016088E5},!1,!1,{e:14147064E5,s:13959576E5}]},{name:"Asia/Damascus",rules:[{e:12254868E5,s:120726E7},{e:125685E7,s:12381048E5},{e:12882996E5,s:12701592E5},{e:13197492E5,s:13016088E5},{e:13511988E5,s:13330584E5},{e:13826484E5,s:1364508E6},{e:14147028E5,s:13959576E5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572E5,s:12066552E5},{e:12520152E5,s:12381048E5},{e:1281474E6,s:126964086E4},{e:1312146E6,s:130160886E4},{e:13481784E5,
s:13330584E5},{e:13802292E5,s:1364508E6},{e:1414098E6,s:13959576E5}]},{name:"Asia/Irkutsk",rules:[{e:12249576E5,s:12068136E5},{e:12564072E5,s:12382632E5},{e:12884616E5,s:12697128E5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612E5,s:12066624E5},{e:1254006E6,s:1238112E6},{e:1284246E6,s:12695616E5},{e:131751E7,s:1301616E6},{e:13483548E5,s:13330656E5},{e:13828284E5,s:13645152E5},{e:1414278E6,s:13959648E5}]},{name:"Asia/Kamchatka",rules:[{e:12249432E5,s:12067992E5},{e:12563928E5,s:12382488E5},
{e:12884508E5,s:12696984E5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612E5,s:12068172E5},{e:12564108E5,s:12382668E5},{e:12884652E5,s:12697164E5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648E5,s:12068208E5},{e:12564144E5,s:12382704E5},{e:12884688E5,s:126972E7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504E5,s:12068064E5},{e:12564E8,s:1238256E6},{e:12884544E5,s:12697056E5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954E6,s:120681E7},{e:12564036E5,s:12382596E5},{e:1288458E6,
s:12697092E5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684E5,s:12068244E5},{e:1256418E6,s:1238274E6},{e:12884724E5,s:12697236E5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972E6,s:1206828E6},{e:12564216E5,s:12382776E5},{e:1288476E6,s:12697272E5},{e:13199256E5,s:13011768E5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076E5,s:12231342E5},{e:12388572E5,s:12545838E5},{e:12703068E5,s:12860334E5},{e:13017564E5,s:1317483E6},{e:1333206E6,s:13495374E5},{e:13652604E5,s:1380987E6},
{e:139671E7,s:14124366E5}]},{name:"Australia/Perth",rules:[{e:12068136E5,s:12249576E5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828E5,s:12068388E5},{e:12564324E5,s:12382884E5},{e:12884868E5,s:1269738E6},{e:13199364E5,s:13011876E5},{e:1351386E6,s:13326372E5},{e:13828356E5,s:13646916E5},{e:14142852E5,s:13961412E5}]},{name:"Europe/Minsk",rules:[{e:12249792E5,s:12068352E5},{e:12564288E5,s:12382848E5},{e:12884832E5,s:12697344E5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756E5,
s:12068316E5},{e:12564252E5,s:12382812E5},{e:12884796E5,s:12697308E5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528E5,s:13168728E5},{e:13332024E5,s:13489272E5},{e:13652568E5,s:13803768E5},{e:13967064E5,s:14118264E5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984E5,s:12878424E5},{e:13271544E5,s:1319292E6},{e:1358604E6,s:13507416E5},{e:139005E7,s:1382796E6},{e:14215032E5,s:14148504E5}]},{name:"Europe/London",rules:[{e:12249828E5,s:12068388E5},{e:12564324E5,s:12382884E5},{e:12884868E5,
s:1269738E6},{e:13199364E5,s:13011876E5},{e:1351386E6,s:13326372E5},{e:13828356E5,s:13646916E5},{e:14142852E5,s:13961412E5}]}]};"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports=c:"undefined"!==typeof define&&null!==define&&null!=define.amd?define([],function(){return c}):"undefined"===typeof l?window.jstz=c:l.jstz=c})();gx.livePrev=function(l){gx.ajax.getPostInfo("",!1);postInfo=gx.ajax.getPostInfo("",!1);return{}}(gx.$);
gx.livePrevWS={FIRST_PORT:30100,LAST_PORT:30120,MAX_RETRY:3,retry_count:0,onError:function(){gx.livePrevWS.IPNamesIdx<gx.livePrevWS.IPNames.length-1?(gx.livePrevWS.IPNamesIdx+=1,gx.livePrevWS.host=gx.livePrevWS.IPNames[gx.livePrevWS.IPNamesIdx],gx.livePrev.port=gx.livePrevWS.FIRST_PORT,gx.livePrevWS.Connect()):gx.livePrev.port<gx.livePrevWS.LAST_PORT?(gx.livePrevWS.IPNamesIdx=0,gx.livePrev.port+=1,gx.livePrevWS.Connect()):gx.util.alert.showMessage("Can not Connect to LivePreview",{dismissmitAt:5E3})},
onMessage:function(l){var c=function(b){var f=$.map(document.styleSheets,function(k){return k.href==b?k:null});return 0<f.length?f[0]:void 0},d=function(b,f,k){return k((b||"").replace(/(\r\n|\r|\n| )/gm,"").toLowerCase(),(f||"").replace(/(\r\n|\r|\n| )/gm,"").toLowerCase())},g=function(b,f,k){var m=b.cssRules,q=m.length,w=!1,p=!1;$.each(m,function(t,z){z&&z.selectorText&&d(z.selectorText,f.replace(":","::"),function(r,u){return r==u})&&(b.deleteRule(t),q=t,w=!0)});w||$.each(m,function(t,z){z&&z.selectorText&&
d(z.selectorText,f.replace(":","::")+",",function(r,u){return 0==r.indexOf(u)})&&(b.deleteRule(t),q=t,b.insertRule(z.selectorText+k.replace(/.*{/,"{"),q),p=!0)});p||b.insertRule(k,q)},a=function(b){var f=gx.getThemeElement();if(f=c(f.href))for(var k=0==b.indexOf("@media",0),m=b.split(/{|}/),q=0;q<m.length-1;q+=2){var w=m[q].replace(/(\r\n|\r|\n| *$)/gm,"");gx.lang.emptyObject(w)||(k?$.each(f.cssRules,function(p,t){k&&!t.selectorText&&(p=t.cssText.split(/{/)[0],d(p.replace(/ all and/gm,""),w)&&(w=
m[q+1].replace(/(\r\n|\r|\n| )/gm,""),g(t,w,w+" {"+m[q+2]+"}")))}):g(f,w,w+" {"+m[q+1]+"}"))}};l=gx.json.evalJSON(l);if("KBOK"===l.Type)gx.util.alert.showMessage("Connected to LivePreview at "+gx.livePrevWS.host+" on port "+gx.livePrev.port,{dismissmitAt:2E3});else if("KBDoesNotMatchGUID"===l.Type)gx.livePrevWS.onError();else"ThemeStyleChanged"===l.Type&&a(l.Data)},onOpen:function(){gx.livePrevWS.timeOutHdlr&&clearTimeout(gx.livePrevWS.timeOutHdlr);gx.livePrevWS.retry_count=0;gx.livePrevWS.SocketConnect()},
onTimeout:function(){gx.livePrevWS.webSocket.close();gx.livePrevWS.onError()},SocketConnect:function(){objData={KBUUID:gx.livePrevWS.KBUUID,Language:gx.languageCode,KBName:"TestWS",DeviceName:"Web Simulator",DeviceId:gx.livePrevWS.clientGUID,DeviceType:0,DeviceOSName:"Web",Theme:gx.theme,Type:"Connect",Data:{Name:gx.livePrevWS.KBName,UUID:gx.livePrevWS.KBUUID}};gx.livePrevWS.webSocket.send(gx.json.serializeJson(objData))},Connect:function(){var l={};gx.livePrev.port=gx.livePrev.port||gx.livePrevWS.FIRST_PORT;
l.port=gx.livePrev.port;l.wsProtocol="https:"===location.protocol?"wss://":"ws://";l.host=gx.livePrevWS.host+":"+l.port;l.resourceUrl="/live/";l.namespace="livepreview";l.maxRetries=10;l.retryDelay=50;gx.livePrevWS.webSocket&&gx.livePrevWS.webSocket.close();gx.livePrevWS.webSocket=new gx.webSocket(l);gx.livePrevWS.timeOutHdlr=setTimeout(gx.livePrevWS.onTimeout,3E3)},_init:function(){if(!gx.lang.emptyObject(gx.livePreviewUri)){gx.fx.obs.addObserver("gx.ws.onOpen.livepreview",gx.livePrevWS,gx.livePrevWS.onOpen,
{single:!1});gx.fx.obs.addObserver("gx.ws.onMessage.livepreview",gx.livePrevWS,gx.livePrevWS.onMessage,{single:!1});gx.fx.obs.addObserver("gx.ws.onError.livepreview",gx.livePrevWS,gx.livePrevWS.onError,{single:!1});gx.fx.obs.addObserver("gx.ws.onCtxError.livepreview",gx.livePrevWS,gx.livePrevWS.onError,{single:!1});if(!gx.livePrevWS.clientGUID){var l=gx.livePrevWS,c=gx.http.getCookie("GXClientID");c=c||gx.guid.generate();gx.http.setCookie("GXClientID",c,1,!1);l.clientGUID=c}l="";c=[];var d=gx.livePreviewUri.split("?");
0<d.length&&(d=d[1],d=d.split(":"),2<d.length&&(l=d[1],c=d[2].substring(1,d[2].length-1).split(","),d=d[0]));gx.livePrevWS.IPNamesIdx=0;gx.livePrevWS.IPNames=c;gx.livePrevWS.KBName=l;gx.livePrevWS.KBUUID=d;gx.livePrevWS.host=gx.livePrevWS.IPNames[0];gx.http.loadScript(gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"html2canvas.js?"+gx.gxBuild,!1),gx.livePrevWS.Connect)}}};
gx.nav=function(){var l=function(){var a={top:!0,right:!0,bottom:!0,left:!0};return function(b){return!!a[b.toLowerCase()]}}(),c=function(a){var b=a;gx.gen.isDotNet()&&(b=a.replace(/\.aspx$/,""));gx.gen.isJava()&&gx.pO.PackageName&&gx.text.startsWith(a,gx.pO.PackageName)&&(b=a.substring(gx.pO.PackageName.length+1));return b},d=function(a){var b=a.split("?"),f;if(0<b.length){var k=2==b.length?b[1].split(gx.http.urlParameterSeparator(a)):[];var m=0;for(f=k.length;m<f;m++)k[m]=gx.http.useNamedParameters(a)?
decodeURIComponent(k[m].split("=")[1]):decodeURIComponent(k[m]);return{obj:b[0],args:k}}return!1},g={};return{setCallTarget:function(a,b){g[a.toLowerCase()]=b.toLowerCase()},willRedirect:function(a){return gx.pO&&!gx.pO.fullAjax?!0:!l(g[c(a).toLowerCase()]||"")},willRedirectByUrl:function(a){a=d(a);return this.willRedirect(a.obj,a.args)},call:function(a,b,f){var k=c(a),m=gx.pO.MasterPage;f=f||g[k.toLowerCase()]||"";delete g[k.toLowerCase()];gx.pO&&!gx.pO.fullAjax?gx.http.redirect(gx.http.formatLink(a,
b),!1,!1,gx.pO):l(f)?m&&m.createObjectInTarget(f,k,b):gx.http.redirect(gx.http.formatLink(a,b),!1,!1,gx.pO)},callUrl:function(a,b){(a=d(a))&&this.call(a.obj,a.args,b)},callFromServerRedirect:function(a,b){this.callUrl(a,b)}}}(gx.$);
(function(l){"function"===typeof define&&define.amd?define(["jquery"],l):l(jQuery)})(function(l){l.ui=l.ui||{};l.ui.version="1.13.2";(function(){function c(t,z,r){return[parseFloat(t[0])*(w.test(t[0])?z/100:1),parseFloat(t[1])*(w.test(t[1])?r/100:1)]}function d(t){var z=t[0];return 9===z.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:null!=z&&z===z.window?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:z.preventDefault?{width:0,height:0,offset:{top:z.pageY,
left:z.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var g,a=Math.max,b=Math.abs,f=/left|center|right/,k=/top|center|bottom/,m=/[\+\-]\d+(\.[\d]+)?%?/,q=/^\w+/,w=/%$/,p=l.fn.position;l.position={scrollbarWidth:function(){if(void 0!==g)return g;var t=l("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>");var z=t.children()[0];l("body").append(t);var r=z.offsetWidth;t.css("overflow","scroll");
z=z.offsetWidth;r===z&&(z=t[0].clientWidth);t.remove();return g=r-z},getScrollInfo:function(t){var z=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y");z="scroll"===z||"auto"===z&&t.width<t.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight?l.position.scrollbarWidth():0,height:z?l.position.scrollbarWidth():0}},getWithinInfo:function(t){var z=l(t||window);var r=z[0];r=null!=r&&r===r.window;
var u=!!z[0]&&9===z[0].nodeType;return{element:z,isWindow:r,isDocument:u,offset:r||u?{left:0,top:0}:l(t).offset(),scrollLeft:z.scrollLeft(),scrollTop:z.scrollTop(),width:z.outerWidth(),height:z.outerHeight()}}};l.fn.position=function(t){if(!t||!t.of)return p.apply(this,arguments);t=l.extend({},t);var z="string"===typeof t.of?l(document).find(t.of):l(t.of),r=l.position.getWithinInfo(t.within),u=l.position.getScrollInfo(r),x=(t.collision||"flip").split(" "),E={};var F=d(z);z[0].preventDefault&&(t.at=
"left top");var G=F.width;var n=F.height;var v=F.offset;var y=l.extend({},v);l.each(["my","at"],function(){var C=(t[this]||"").split(" ");1===C.length&&(C=f.test(C[0])?C.concat(["center"]):k.test(C[0])?["center"].concat(C):["center","center"]);C[0]=f.test(C[0])?C[0]:"center";C[1]=k.test(C[1])?C[1]:"center";var I=m.exec(C[0]);var L=m.exec(C[1]);E[this]=[I?I[0]:0,L?L[0]:0];t[this]=[q.exec(C[0])[0],q.exec(C[1])[0]]});1===x.length&&(x[1]=x[0]);"right"===t.at[0]?y.left+=G:"center"===t.at[0]&&(y.left+=
G/2);"bottom"===t.at[1]?y.top+=n:"center"===t.at[1]&&(y.top+=n/2);var B=c(E.at,G,n);y.left+=B[0];y.top+=B[1];return this.each(function(){var C,I=l(this),L=I.outerWidth(),M=I.outerHeight(),N=parseInt(l.css(this,"marginLeft"),10)||0,R=parseInt(l.css(this,"marginTop"),10)||0,P=L+N+(parseInt(l.css(this,"marginRight"),10)||0)+u.width,X=M+R+(parseInt(l.css(this,"marginBottom"),10)||0)+u.height,W=l.extend({},y),aa=c(E.my,I.outerWidth(),I.outerHeight());"right"===t.my[0]?W.left-=L:"center"===t.my[0]&&(W.left-=
L/2);"bottom"===t.my[1]?W.top-=M:"center"===t.my[1]&&(W.top-=M/2);W.left+=aa[0];W.top+=aa[1];var ba={marginLeft:N,marginTop:R};l.each(["left","top"],function(ha,ia){if(l.ui.position[x[ha]])l.ui.position[x[ha]][ia](W,{targetWidth:G,targetHeight:n,elemWidth:L,elemHeight:M,collisionPosition:ba,collisionWidth:P,collisionHeight:X,offset:[B[0]+aa[0],B[1]+aa[1]],my:t.my,at:t.at,within:r,elem:I})});t.using&&(C=function(ha){var ia=v.left-W.left,la=ia+G-L,oa=v.top-W.top,na=oa+n-M,da={target:{element:z,left:v.left,
top:v.top,width:G,height:n},element:{element:I,left:W.left,top:W.top,width:L,height:M},horizontal:0>la?"left":0<ia?"right":"center",vertical:0>na?"top":0<oa?"bottom":"middle"};G<L&&b(ia+la)<G&&(da.horizontal="center");n<M&&b(oa+na)<n&&(da.vertical="middle");a(b(ia),b(la))>a(b(oa),b(na))?da.important="horizontal":da.important="vertical";t.using.call(this,ha,da)});I.offset(l.extend(W,{using:C}))})};l.ui.position={fit:{left:function(t,z){var r=z.within,u=r.isWindow?r.scrollLeft:r.offset.left,x=r.width,
E=t.left-z.collisionPosition.marginLeft;r=u-E;var F=E+z.collisionWidth-x-u;z.collisionWidth>x?0<r&&0>=F?(z=t.left+r+z.collisionWidth-x-u,t.left+=r-z):t.left=0<F&&0>=r?u:r>F?u+x-z.collisionWidth:u:t.left=0<r?t.left+r:0<F?t.left-F:a(t.left-E,t.left)},top:function(t,z){var r=z.within,u=r.isWindow?r.scrollTop:r.offset.top,x=z.within.height,E=t.top-z.collisionPosition.marginTop;r=u-E;var F=E+z.collisionHeight-x-u;z.collisionHeight>x?0<r&&0>=F?(z=t.top+r+z.collisionHeight-x-u,t.top+=r-z):t.top=0<F&&0>=
r?u:r>F?u+x-z.collisionHeight:u:t.top=0<r?t.top+r:0<F?t.top-F:a(t.top-E,t.top)}},flip:{left:function(t,z){var r=z.within,u=r.offset.left+r.scrollLeft,x=r.width,E=r.isWindow?r.scrollLeft:r.offset.left,F=t.left-z.collisionPosition.marginLeft;r=F-E;var G=F+z.collisionWidth-x-E;F="left"===z.my[0]?-z.elemWidth:"right"===z.my[0]?z.elemWidth:0;var n="left"===z.at[0]?z.targetWidth:"right"===z.at[0]?-z.targetWidth:0,v=-2*z.offset[0];if(0>r){if(z=t.left+F+n+v+z.collisionWidth-x-u,0>z||z<b(r))t.left+=F+n+v}else 0<
G&&(z=t.left-z.collisionPosition.marginLeft+F+n+v-E,0<z||b(z)<G)&&(t.left+=F+n+v)},top:function(t,z){var r=z.within,u=r.offset.top+r.scrollTop,x=r.height,E=r.isWindow?r.scrollTop:r.offset.top,F=t.top-z.collisionPosition.marginTop;r=F-E;var G=F+z.collisionHeight-x-E;F="top"===z.my[1]?-z.elemHeight:"bottom"===z.my[1]?z.elemHeight:0;var n="top"===z.at[1]?z.targetHeight:"bottom"===z.at[1]?-z.targetHeight:0,v=-2*z.offset[1];if(0>r){if(z=t.top+F+n+v+z.collisionHeight-x-u,0>z||z<b(r))t.top+=F+n+v}else 0<
G&&(z=t.top-z.collisionPosition.marginTop+F+n+v-E,0<z||b(z)<G)&&(t.top+=F+n+v)}},flipfit:{left:function(){l.ui.position.flip.left.apply(this,arguments);l.ui.position.fit.left.apply(this,arguments)},top:function(){l.ui.position.flip.top.apply(this,arguments);l.ui.position.fit.top.apply(this,arguments)}}}})()});
